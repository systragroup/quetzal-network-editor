{"version":3,"file":"build.js","mappings":"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","sources":["webpack://quetzal-network-editor/webpack/runtime/chunk loaded","webpack://quetzal-network-editor/webpack/runtime/create fake namespace object","webpack://quetzal-network-editor/webpack/runtime/load script","webpack://quetzal-network-editor/./src/scss/app.scss","webpack://quetzal-network-editor/./src/App.vue?73b5","webpack://quetzal-network-editor/./src/components/import/FileLoader.vue?9bc5","webpack://quetzal-network-editor/./src/components/import/FilesList.vue?dac3","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue?0d85","webpack://quetzal-network-editor/./src/components/layout/ScenariosExplorer.vue?8831","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue?14b5","webpack://quetzal-network-editor/./src/components/map/LinksSidePanel.vue?1f47","webpack://quetzal-network-editor/./src/components/map/Map.vue?e313","webpack://quetzal-network-editor/./src/components/map/ODSidePanel.vue?480f","webpack://quetzal-network-editor/./src/components/map/RoadSidePanel.vue?0ba7","webpack://quetzal-network-editor/./src/components/map/Settings.vue?d81e","webpack://quetzal-network-editor/./src/components/map/SidePanel.vue?b849","webpack://quetzal-network-editor/./src/components/utils/LayerSelector.vue?596e","webpack://quetzal-network-editor/./src/components/utils/MapLegend.vue?d557","webpack://quetzal-network-editor/./src/components/utils/MenuSelector.vue?3928","webpack://quetzal-network-editor/./src/components/utils/Profile.vue?8773","webpack://quetzal-network-editor/./src/components/utils/Signin.vue?8cca","webpack://quetzal-network-editor/./src/components/utils/StaticLayer.vue?5b86","webpack://quetzal-network-editor/./src/pages/Home.vue?0769","webpack://quetzal-network-editor/./src/pages/Import.vue?7c0d","webpack://quetzal-network-editor/./static/links_base.geojson","webpack://quetzal-network-editor/./static/nodes_base.geojson","webpack://quetzal-network-editor/./src/components/utils/LayerSelector.vue?848b","webpack://quetzal-network-editor/src/components/utils/LayerSelector.vue","webpack://quetzal-network-editor/./src/components/utils/LayerSelector.vue?2c38","webpack://quetzal-network-editor/./src/components/utils/LayerSelector.vue?73cd","webpack://quetzal-network-editor/./src/components/utils/LayerSelector.vue","webpack://quetzal-network-editor/./src/components/utils/MapLegend.vue?41f1","webpack://quetzal-network-editor/src/components/utils/MapLegend.vue","webpack://quetzal-network-editor/./src/components/utils/MapLegend.vue?631d","webpack://quetzal-network-editor/./src/components/utils/MapLegend.vue?afd3","webpack://quetzal-network-editor/./src/components/utils/MapLegend.vue","webpack://quetzal-network-editor/./src/components/utils/StaticLayer.vue?ae59","webpack://quetzal-network-editor/src/components/utils/StaticLayer.vue","webpack://quetzal-network-editor/./src/components/utils/StaticLayer.vue?2a6b","webpack://quetzal-network-editor/./src/components/utils/StaticLayer.vue?eb79","webpack://quetzal-network-editor/./src/components/utils/StaticLayer.vue","webpack://quetzal-network-editor/./src/AWSClient.js","webpack://quetzal-network-editor/./src/auth.js","webpack://quetzal-network-editor/./src/axiosClient.js","webpack://quetzal-network-editor/./src/components/utils/serializer.js","webpack://quetzal-network-editor/./src/components/utils/utils.js","webpack://quetzal-network-editor/./src/constants/highway.js","webpack://quetzal-network-editor/./src/scss/app.scss?d10e","webpack://quetzal-network-editor/./src/App.vue?3475","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue?8d2e","webpack://quetzal-network-editor/./src/components/utils/Profile.vue?bc84","webpack://quetzal-network-editor/./src/components/utils/Signin.vue?9ec7","webpack://quetzal-network-editor/src/components/utils/Signin.vue","webpack://quetzal-network-editor/./src/components/utils/Signin.vue?ac61","webpack://quetzal-network-editor/./src/components/utils/Signin.vue?3253","webpack://quetzal-network-editor/./src/components/utils/Signin.vue","webpack://quetzal-network-editor/./src/components/utils/Profile.vue?8f3a","webpack://quetzal-network-editor/src/components/utils/Profile.vue","webpack://quetzal-network-editor/./src/components/utils/Profile.vue?042e","webpack://quetzal-network-editor/./src/components/utils/Profile.vue","webpack://quetzal-network-editor/./src/components/layout/ScenariosExplorer.vue?dd98","webpack://quetzal-network-editor/src/components/layout/ScenariosExplorer.vue","webpack://quetzal-network-editor/./src/components/layout/ScenariosExplorer.vue?9699","webpack://quetzal-network-editor/./src/components/layout/ScenariosExplorer.vue?ac38","webpack://quetzal-network-editor/./src/components/layout/ScenariosExplorer.vue","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue?41be","webpack://quetzal-network-editor/src/components/layout/Toolbar.vue","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue?f416","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue?1581","webpack://quetzal-network-editor/src/components/layout/NavigationDrawer.vue","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue?1673","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue?0a14","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue","webpack://quetzal-network-editor/./src/components/utils/Alert.vue?de2b","webpack://quetzal-network-editor/src/components/utils/Alert.vue","webpack://quetzal-network-editor/./src/components/utils/Alert.vue?6bcc","webpack://quetzal-network-editor/./src/App.vue?32cf","webpack://quetzal-network-editor/src/App.vue","webpack://quetzal-network-editor/./src/components/utils/Alert.vue","webpack://quetzal-network-editor/./src/App.vue?6443","webpack://quetzal-network-editor/./src/App.vue","webpack://quetzal-network-editor/./src/main.js","webpack://quetzal-network-editor/./src/pages/Import.vue?c369","webpack://quetzal-network-editor/./src/components/import/FileLoader.vue?6810","webpack://quetzal-network-editor/src/components/import/FileLoader.vue","webpack://quetzal-network-editor/./src/components/import/FileLoader.vue?103a","webpack://quetzal-network-editor/./src/components/import/FileLoader.vue?08e5","webpack://quetzal-network-editor/./src/components/import/FileLoader.vue","webpack://quetzal-network-editor/./src/components/import/FilesList.vue?4a8a","webpack://quetzal-network-editor/src/components/import/FilesList.vue","webpack://quetzal-network-editor/./src/components/import/FilesList.vue?2aa5","webpack://quetzal-network-editor/./src/components/import/FilesList.vue?43e3","webpack://quetzal-network-editor/./src/components/import/FilesList.vue","webpack://quetzal-network-editor/./src/components/import/InfoZip.vue?e91c","webpack://quetzal-network-editor/src/components/import/InfoZip.vue","webpack://quetzal-network-editor/./src/components/import/InfoZip.vue?9d99","webpack://quetzal-network-editor/./src/pages/Import.vue?c377","webpack://quetzal-network-editor/src/pages/Import.vue","webpack://quetzal-network-editor/./src/components/import/InfoZip.vue","webpack://quetzal-network-editor/./src/pages/Import.vue?2599","webpack://quetzal-network-editor/./src/pages/Import.vue","webpack://quetzal-network-editor/./src/pages/Home.vue?9475","webpack://quetzal-network-editor/./src/components/map/SidePanel.vue?495e","webpack://quetzal-network-editor/./src/components/map/LinksSidePanel.vue?f0f9","webpack://quetzal-network-editor/src/components/map/LinksSidePanel.vue","webpack://quetzal-network-editor/./src/components/map/LinksSidePanel.vue?9d7d","webpack://quetzal-network-editor/./src/components/map/LinksSidePanel.vue?9c78","webpack://quetzal-network-editor/./src/components/map/LinksSidePanel.vue","webpack://quetzal-network-editor/./src/components/map/RoadSidePanel.vue?37ac","webpack://quetzal-network-editor/src/components/map/RoadSidePanel.vue","webpack://quetzal-network-editor/./src/components/map/RoadSidePanel.vue?8c74","webpack://quetzal-network-editor/./src/components/map/RoadSidePanel.vue?accf","webpack://quetzal-network-editor/./src/components/map/RoadSidePanel.vue","webpack://quetzal-network-editor/./src/components/map/ODSidePanel.vue?d4d6","webpack://quetzal-network-editor/src/components/map/ODSidePanel.vue","webpack://quetzal-network-editor/./src/components/map/ODSidePanel.vue?c034","webpack://quetzal-network-editor/./src/components/map/ODSidePanel.vue?b6a3","webpack://quetzal-network-editor/./src/components/map/ODSidePanel.vue","webpack://quetzal-network-editor/./src/components/map/SidePanel.vue?f7aa","webpack://quetzal-network-editor/src/components/map/SidePanel.vue","webpack://quetzal-network-editor/./src/components/map/SidePanel.vue?c98e","webpack://quetzal-network-editor/./src/components/map/SidePanel.vue","webpack://quetzal-network-editor/./src/components/map/Map.vue?2730","webpack://quetzal-network-editor/./src/components/map/Settings.vue?1521","webpack://quetzal-network-editor/src/components/map/Settings.vue","webpack://quetzal-network-editor/./src/components/map/Settings.vue?8d45","webpack://quetzal-network-editor/./src/components/map/Settings.vue?0bd4","webpack://quetzal-network-editor/./src/components/map/Settings.vue","webpack://quetzal-network-editor/./src/components/map/StaticLinks.vue?9d3a","webpack://quetzal-network-editor/src/components/map/StaticLinks.vue","webpack://quetzal-network-editor/./src/components/map/StaticLinks.vue?c179","webpack://quetzal-network-editor/./src/components/map/StaticLinks.vue","webpack://quetzal-network-editor/./src/components/map/EditorLinks.vue?1bdd","webpack://quetzal-network-editor/src/components/map/EditorLinks.vue","webpack://quetzal-network-editor/./src/components/map/EditorLinks.vue?1669","webpack://quetzal-network-editor/./src/components/map/EditorLinks.vue","webpack://quetzal-network-editor/./src/components/map/RoadLinks.vue?263b","webpack://quetzal-network-editor/src/components/map/RoadLinks.vue","webpack://quetzal-network-editor/./src/components/map/RoadLinks.vue?e27e","webpack://quetzal-network-editor/./src/components/map/RoadLinks.vue","webpack://quetzal-network-editor/./src/components/map/ODMap.vue?91f0","webpack://quetzal-network-editor/src/components/map/ODMap.vue","webpack://quetzal-network-editor/./src/components/map/ODMap.vue?682d","webpack://quetzal-network-editor/./src/components/map/ODMap.vue","webpack://quetzal-network-editor/./src/components/map/Map.vue?91d5","webpack://quetzal-network-editor/src/components/map/Map.vue","webpack://quetzal-network-editor/./src/components/map/Map.vue?fc75","webpack://quetzal-network-editor/./src/components/map/Map.vue","webpack://quetzal-network-editor/./src/components/utils/ColorPicker.vue?120e","webpack://quetzal-network-editor/src/components/utils/ColorPicker.vue","webpack://quetzal-network-editor/./src/components/utils/ColorPicker.vue?6c63","webpack://quetzal-network-editor/./src/components/utils/ColorPicker.vue","webpack://quetzal-network-editor/./src/components/utils/MenuSelector.vue?b22d","webpack://quetzal-network-editor/src/components/utils/MenuSelector.vue","webpack://quetzal-network-editor/./src/components/utils/MenuSelector.vue?27a1","webpack://quetzal-network-editor/./src/components/utils/MenuSelector.vue?f626","webpack://quetzal-network-editor/./src/components/utils/MenuSelector.vue","webpack://quetzal-network-editor/./src/constants/hints.js","webpack://quetzal-network-editor/./src/pages/Home.vue?e983","webpack://quetzal-network-editor/src/pages/Home.vue","webpack://quetzal-network-editor/./src/pages/Home.vue?9fb1","webpack://quetzal-network-editor/./src/pages/Home.vue","webpack://quetzal-network-editor/./src/router/index.js","webpack://quetzal-network-editor/./src/store/links.js","webpack://quetzal-network-editor/./src/store/rlinks.js","webpack://quetzal-network-editor/./src/store/od.js","webpack://quetzal-network-editor/./src/store/results.js","webpack://quetzal-network-editor/./src/store/layer.js","webpack://quetzal-network-editor/./src/store/api/run.js","webpack://quetzal-network-editor/./src/store/api/MatrixRoadCaster.js","webpack://quetzal-network-editor/./src/store/api/OSMImporter.js","webpack://quetzal-network-editor/./src/store/api/GTFSImporter.js","webpack://quetzal-network-editor/./src/store/user.js","webpack://quetzal-network-editor/./src/store/index.js","webpack://quetzal-network-editor/webpack/bootstrap","webpack://quetzal-network-editor/webpack/runtime/amd define","webpack://quetzal-network-editor/webpack/runtime/amd options","webpack://quetzal-network-editor/webpack/runtime/compat get default export","webpack://quetzal-network-editor/webpack/runtime/define property getters","webpack://quetzal-network-editor/webpack/runtime/ensure chunk","webpack://quetzal-network-editor/webpack/runtime/get javascript chunk filename","webpack://quetzal-network-editor/webpack/runtime/get mini-css chunk filename","webpack://quetzal-network-editor/webpack/runtime/global","webpack://quetzal-network-editor/webpack/runtime/hasOwnProperty shorthand","webpack://quetzal-network-editor/webpack/runtime/make namespace object","webpack://quetzal-network-editor/webpack/runtime/node module decorator","webpack://quetzal-network-editor/webpack/runtime/publicPath","webpack://quetzal-network-editor/webpack/runtime/jsonp chunk loading","webpack://quetzal-network-editor/webpack/runtime/nonce","webpack://quetzal-network-editor/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"quetzal-network-editor:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `body{font-family:\"Roboto\",sans-serif;height:100vh}body::-webkit-scrollbar{display:none}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{background-clip:padding-box;background-color:#9e9e9e;border-radius:8px}::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:#2c3e4e;border-radius:8px}.v-application--wrap{flex-direction:row}.theme--light.v-application{color:#2c3e4e}.theme--light.v-icon{color:inherit !important}.theme--dark.v-label{color:#fff}.v-toolbar__content{display:flex;align-items:center;justify-content:space-between;height:100% !important;width:100%}.v-input__icon>i{font-size:14px !important;margin-right:10px}.v-navigation-drawer--fixed{z-index:200}.v-btn.primary>span{color:#2c3e4e !important}.v-snack__wrapper{margin:20px}.v-snack__content{color:#2c3e4e !important}.snackbar-error>.v-snack__wrapper{border-bottom:5px solid #e42626 !important}.snackbar-warning>.v-snack__wrapper{border-bottom:5px solid #ff7b30 !important}.snackbar-positive>.v-snack__wrapper{border-bottom:5px solid #4caf50 !important}.v-card__subtitle,.v-card__text,.v-card__title{padding:0}.v-card__title{line-height:normal}.mapboxgl-ctrl-bottom-right{right:10px;bottom:10px}.mapboxgl-popup-content{padding:10px;color:#fff;background-color:#2c3e4e}.mapboxgl-popup-tip{border-bottom-color:#2c3e4e !important;border-top-color:#2c3e4e !important}.mapboxgl-popup-close-button{right:20px;top:20px;font-size:1.5em}.mapboxgl-ctrl-attrib-inner>a{color:#2c3e4e !important}.view{padding:20px;height:calc(100% - 50px);width:100%;display:flex}.card{background-color:#fff;border-radius:5px;box-shadow:0px 5px 10px rgba(0,0,0,.05);padding:20px}.card-hover:hover{box-shadow:0px 5px 10px rgba(0,0,0,.1)}.list-enter-active,.list-leave-active{transition:all 1s}.list-enter,.list-leave-to{opacity:0;transform:translateX(300px)}.fade-leave-active{display:none !important}.fade-enter-active,.fade-leave-active{transition:opacity .5s}.fade-enter,.fade-leave-to{opacity:0 !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/scss/generic.scss\",\"webpack://./src/scss/variables.scss\",\"webpack://./src/scss/vuetify.scss\",\"webpack://./src/scss/mapboxgl.scss\",\"webpack://./src/scss/util.scss\",\"webpack://./src/scss/animations.scss\"],\"names\":[],\"mappings\":\"AAAA,KACE,+BAAA,CACA,YAAA,CAEF,wBACE,YAAA,CAEF,oBACE,SAAA,CAEF,0BACE,2BAAA,CACA,wBCJkB,CDKlB,iBAAA,CAEF,0BACE,2BAAA,CACA,wBCfkB,CDgBlB,iBAAA,CElBF,qBACE,kBAAA,CAEF,4BACE,aDFkB,CCIpB,qBACE,wBAAA,CAEF,qBACE,UAAA,CAEF,oBACE,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,sBAAA,CACA,UAAA,CAEF,iBACE,yBAAA,CACA,iBAAA,CAEF,4BACE,WAAA,CAEF,oBACE,wBAAA,CAEF,kBACE,WAAA,CAEF,kBACE,wBAAA,CAEF,kCACE,0CAAA,CAEF,oCACE,0CAAA,CAEF,qCACE,0CAAA,CAEF,+CACE,SAAA,CAEF,eACE,kBAAA,CChDF,4BACE,UAAA,CACA,WAAA,CAEF,wBACE,YAAA,CACA,UAAA,CACA,wBFLkB,CEOpB,oBACE,sCAAA,CACA,mCAAA,CAEF,6BACE,UAAA,CACA,QAAA,CACA,eAAA,CAEF,8BACE,wBAAA,CCnBF,MACE,YAAA,CACA,wBAAA,CACA,UAAA,CACA,YAAA,CAEF,MACE,qBAAA,CACA,iBAAA,CACA,uCAAA,CACA,YAAA,CAEF,kBACE,sCAAA,CCbF,sCACE,iBAAA,CAEF,2BACE,SAAA,CACA,2BAAA,CAEF,mBACE,uBAAA,CAEF,sCACE,sBAAA,CAEF,2BACE,oBAAA\",\"sourcesContent\":[\"body {\\n  font-family: 'Roboto', sans-serif;\\n  height: 100vh;\\n}\\nbody::-webkit-scrollbar {\\n  display: none;\\n}\\n::-webkit-scrollbar {\\n  width: 8px;\\n}\\n::-webkit-scrollbar-track {\\n  background-clip: padding-box;\\n  background-color: $grey-medium;\\n  border-radius: 8px;\\n}\\n::-webkit-scrollbar-thumb {\\n  background-clip: padding-box;\\n  background-color: $secondary;\\n  border-radius: 8px;\\n}\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\",\".v-application--wrap {\\n  flex-direction: row;\\n}\\n.theme--light.v-application {\\n  color: $secondary;\\n}\\n.theme--light.v-icon {\\n  color: inherit !important;\\n}\\n.theme--dark.v-label {\\n  color: white;\\n}\\n.v-toolbar__content {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  height: 100% !important;\\n  width: 100%;\\n}\\n.v-input__icon > i {\\n  font-size: 14px !important;\\n  margin-right: 10px;\\n}\\n.v-navigation-drawer--fixed {\\n  z-index: 200;\\n}\\n.v-btn.primary > span {\\n  color: $secondary !important;\\n}\\n.v-snack__wrapper {\\n  margin: 20px;\\n}\\n.v-snack__content {\\n  color: $secondary !important;\\n}\\n.snackbar-error > .v-snack__wrapper {\\n  border-bottom: 5px solid $negative !important;\\n}\\n.snackbar-warning > .v-snack__wrapper {\\n  border-bottom: 5px solid $warning !important;\\n}\\n.snackbar-positive > .v-snack__wrapper {\\n  border-bottom: 5px solid $positive !important;\\n}\\n.v-card__subtitle, .v-card__text, .v-card__title {\\n  padding: 0;\\n}\\n.v-card__title {\\n  line-height: normal;\\n}\\n\",\".mapboxgl-ctrl-bottom-right {\\n  right: 10px;\\n  bottom: 10px;\\n}\\n.mapboxgl-popup-content {\\n  padding: 10px;\\n  color: white;\\n  background-color: $secondary;\\n}\\n.mapboxgl-popup-tip {\\n  border-bottom-color: $secondary !important;\\n  border-top-color: $secondary !important;\\n}\\n.mapboxgl-popup-close-button {\\n  right: 20px;\\n  top: 20px;\\n  font-size: 1.5em;\\n}\\n.mapboxgl-ctrl-attrib-inner > a {\\n  color: $secondary !important;\\n}\\n\",\".view {\\n  padding: 20px;\\n  height: calc(100% - 50px);\\n  width: 100%;\\n  display: flex;\\n}\\n.card {\\n  background-color: white;\\n  border-radius: 5px;\\n  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.05);\\n  padding: 20px;\\n}\\n.card-hover:hover {\\n  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.10);\\n}\\n\",\".list-enter-active, .list-leave-active {\\n  transition: all 1s;\\n}\\n.list-enter, .list-leave-to {\\n  opacity: 0;\\n  transform: translateX(300px);\\n}\\n.fade-leave-active {\\n  display: none !important;\\n}\\n.fade-enter-active, .fade-leave-active {\\n  transition: opacity 0.5s;\\n}\\n.fade-enter, .fade-leave-to {\\n  opacity: 0 !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.app[data-v-0e5b4375]{background-color:#f5f5f5 !important;width:100%;height:100%;overflow:hidden}.snackbar-text[data-v-0e5b4375]{color:var(--v-secondarydark-base)}.container[data-v-0e5b4375]{height:100%;margin-left:50px;width:calc(100% - 50px);max-width:calc(100% - 50px);padding:0}.container.login[data-v-0e5b4375]{margin-left:0;width:100%}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/App.vue\"],\"names\":[],\"mappings\":\"AAEA,sBACE,mCAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CAEF,gCACE,iCAAA,CAEF,4BACE,WAAA,CACA,gBAAA,CACA,uBAAA,CACA,2BAAA,CACA,SAAA,CAEF,kCACE,aAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.app {\\n  background-color: $grey-ultralight !important;\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n}\\n.snackbar-text{\\n  color:var(--v-secondarydark-base);\\n}\\n.container {\\n  height: 100%;\\n  margin-left: 50px;\\n  width: calc(100% - 50px);\\n  max-width: calc(100% - 50px);\\n  padding: 0;\\n}\\n.container.login {\\n  margin-left: 0;\\n  width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.row[data-v-d3a53384]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding-bottom:30px;padding-top:18px}.container[data-v-d3a53384]{display:flex;flex-direction:row;justify-content:space-evenly;align-items:center;padding-left:2em;padding-right:2em}.type-icon[data-v-d3a53384]{padding-right:.2em}.element[data-v-d3a53384]{margin-left:auto}.check-icon[data-v-d3a53384]{padding-left:1em}.subtitle[data-v-d3a53384]{flex:2;font-size:1.5em;font-weight:bold}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/import/FileLoader.vue\"],\"names\":[],\"mappings\":\"AAGA,sBACE,YAAA,CACA,qBAAA,CACA,sBAAA,CACA,kBAAA,CACA,mBAAA,CACA,gBAAA,CAGF,4BACE,YAAA,CACA,kBAAA,CACA,4BAAA,CACA,kBAAA,CACA,gBAAA,CACA,iBAAA,CAGF,4BACE,kBAAA,CAEF,0BACE,gBAAA,CAEF,6BACE,gBAAA,CAEF,2BACE,MAAA,CACA,eAAA,CACA,gBAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n\\n.row{\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  padding-bottom: 30px;\\n  padding-top:18px;\\n\\n}\\n.container{\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-evenly;\\n  align-items: center;\\n  padding-left: 2em;\\n  padding-right: 2em;\\n\\n}\\n.type-icon{\\n  padding-right: 0.2em;\\n}\\n.element{\\n  margin-left: auto;\\n}\\n.check-icon{\\n  padding-left: 1em;\\n}\\n.subtitle {\\n  flex:2;\\n  font-size: 1.5em;\\n  font-weight: bold;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.files-container[data-v-e186d29a]{height:17rem;border-radius:5px;background:var(--v-background-lighten4);display:flex;margin:10px 0px 0px 0px;flex-direction:column}.title-box[data-v-e186d29a]{display:flex;flex-direction:row;background:var(--v-background-lighten3);border-radius:5px 5px 0px 0px;padding:.5rem .5rem .5rem 1rem}.title[data-v-e186d29a]{font-size:2em !important;font-weight:bold}.upload-button[data-v-e186d29a]{margin-left:auto;margin-right:.75rem}.list-button[data-v-e186d29a]{margin-left:auto;margin-right:1rem}.list-icon[data-v-e186d29a]{margin-left:.5rem}.list[data-v-e186d29a]{font-size:1em;font-weight:bold;overflow-y:auto;padding-left:1rem;padding-top:.5rem}.list li[data-v-e186d29a]{display:flex;align-items:center}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/import/FilesList.vue\"],\"names\":[],\"mappings\":\"AAEA,kCACE,YAAA,CACA,iBAAA,CACA,uCAAA,CACA,YAAA,CACA,uBAAA,CACA,qBAAA,CAGF,4BACE,YAAA,CACA,kBAAA,CACA,uCAAA,CAEA,6BAAA,CACA,8BAAA,CAGF,wBACE,wBAAA,CACA,gBAAA,CAEF,gCACE,gBAAA,CACA,mBAAA,CAEF,8BACE,gBAAA,CACA,iBAAA,CAEF,4BACE,iBAAA,CAEF,uBACE,aAAA,CACA,gBAAA,CAEA,eAAA,CACA,iBAAA,CACA,iBAAA,CAEF,0BAEE,YAAA,CACA,kBAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.files-container{\\n  height: 17rem;\\n  border-radius: 5px;\\n  background:var(--v-background-lighten4);\\n  display: flex;\\n  margin: 10px 0px 0px 00px;\\n  flex-direction: column;\\n\\n}\\n.title-box {\\n  display: flex;\\n  flex-direction: row;\\n  background:var(--v-background-lighten3);\\n\\n  border-radius: 5px 5px 0px 0px;\\n  padding: 0.5rem 0.5rem 0.5rem 1rem;\\n\\n}\\n.title{\\n  font-size: 2em !important;\\n  font-weight: bold;\\n}\\n.upload-button {\\n  margin-left: auto;\\n  margin-right:0.75rem\\n}\\n.list-button{\\n  margin-left:auto;\\n  margin-right:1rem\\n}\\n.list-icon{\\n  margin-left:0.5rem\\n}\\n.list {\\n  font-size: 1em;\\n  font-weight: bold;\\n  //border: 1px solid red;\\n  overflow-y: auto;\\n  padding-left: 1rem;\\n  padding-top:0.5rem\\n}\\n.list li {\\n  /* Add individual list item styles here */\\n  display: flex; /* Use flexbox layout for each list item */\\n  align-items: center; /* Align button vertically in the list item */\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.drawer[data-v-5b138161]{background-color:var(--v-secondary-base) !important}.drawer-header[data-v-5b138161]{width:100%;height:50px;border-bottom:1px solid #fff;background-color:var(--v-secondary-base);color:#fff;display:flex;align-items:center;padding-left:18px;cursor:pointer}.drawer-list[data-v-5b138161]{height:calc(100% - 50px);display:flex;flex-direction:column;padding:20px 0}.drawer-list-item[data-v-5b138161]{padding:0 13px !important;justify-content:flex-start !important;color:#fff;flex:0;transition:.3s}.version-number[data-v-5b138161]{justify-content:flex-start;color:#fff !important;margin-bottom:-1rem;flex:0}.drawer-list-item-icon[data-v-5b138161]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}.drawer-list-item-icon-disabled[data-v-5b138161]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;opacity:.4}.drawer-list-item-selected[data-v-5b138161]{background-color:var(--v-secondarydarkfix-base)}.drawer-list-item[data-v-5b138161]:hover{background-color:var(--v-secondary-base)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/layout/NavigationDrawer.vue\"],\"names\":[],\"mappings\":\"AAEA,yBACE,mDAAA,CAEF,gCACE,UAAA,CACA,WAAA,CACA,4BAAA,CACA,wCAAA,CACA,UAAA,CACA,YAAA,CACA,kBAAA,CACA,iBAAA,CACA,cAAA,CAEF,8BACE,wBAAA,CACA,YAAA,CAEA,qBAAA,CACA,cAAA,CAEF,mCACE,yBAAA,CACA,qCAAA,CACA,UAAA,CACA,MAAA,CACA,cAAA,CAEF,iCACE,0BAAA,CACA,qBAAA,CACA,mBAAA,CACA,MAAA,CAEF,wCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA,CAEF,iDACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA,CAEF,4CACE,+CAAA,CAEF,yCACE,wCAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.drawer {\\n  background-color: var(--v-secondary-base) !important;\\n}\\n.drawer-header {\\n  width: 100%;\\n  height: 50px;\\n  border-bottom: 1px solid white;\\n  background-color: var(--v-secondary-base);\\n  color: white;\\n  display: flex;\\n  align-items: center;\\n  padding-left: 18px;\\n  cursor: pointer;\\n}\\n.drawer-list {\\n  height: calc(100% - 50px);\\n  display: flex;\\n\\n  flex-direction: column;\\n  padding: 20px 0;\\n}\\n.drawer-list-item {\\n  padding: 0 13px !important;\\n  justify-content: flex-start !important;\\n  color:white ;\\n  flex: 0;\\n  transition: 0.3s;\\n}\\n.version-number {\\n  justify-content: flex-start ;\\n  color:white !important;\\n  margin-bottom:-1rem;\\n  flex: 0;\\n}\\n.drawer-list-item-icon {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  color: white;\\n}\\n.drawer-list-item-icon-disabled {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  opacity: 0.4;\\n}\\n.drawer-list-item-selected {\\n  background-color: var(--v-secondarydarkfix-base);\\n}\\n.drawer-list-item:hover {\\n  background-color: var(--v-secondary-base);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.title[data-v-6447d576]{font-size:1.2em;padding-left:1.2rem;color:var(--v-secondarydark-base)}.is-active[data-v-6447d576]{opacity:1;background-color:var(--v-primary-base)}.lowercase-text[data-v-6447d576]{text-transform:lowercase}.text-right[data-v-6447d576]{justify-content:end}.v-card-content[data-v-6447d576]{overflow:auto}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/layout/ScenariosExplorer.vue\"],\"names\":[],\"mappings\":\"AAEA,wBACE,eAAA,CACA,mBAAA,CACA,iCAAA,CAEF,4BACE,SAAA,CACA,sCAAA,CAGF,iCACE,wBAAA,CAEF,6BACE,mBAAA,CAGF,iCAEE,aAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.title {\\n  font-size: 1.2em;\\n  padding-left: 1.2rem;\\n  color:var(--v-secondarydark-base);\\n}\\n.is-active{\\n  opacity:1;\\n  background-color:var(--v-primary-base);\\n\\n}\\n.lowercase-text {\\n  text-transform: lowercase;\\n}\\n.text-right {\\n  justify-content: end;\\n}\\n\\n.v-card-content {\\n  //max-height:400px; /* Set a max height for the middle content */\\n  overflow: auto; /* Enable scrolling if the content overflows */\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.app-toolbar[data-v-4f697eca]{z-index:100;height:50px !important;display:flex;color:#2c3e4e !important;position:relative}.login[data-v-4f697eca]{padding-left:50px}.project-name[data-v-4f697eca]{font-size:1.3em}.app-name[data-v-4f697eca]{font-size:1.2em;padding-left:1.2rem;color:var(--v-secondarydark-base)}.copyright[data-v-4f697eca]{font-size:.9rem;padding-left:5px;padding-top:1rem;color:var(--v-secondarydark-base)}.languages-container[data-v-4f697eca]{display:flex}.switch[data-v-4f697eca]{display:flex;padding-top:1rem;padding-left:1rem;align-items:center;justify-content:center;color:#e3e3e3;cursor:pointer}.language[data-v-4f697eca]{width:50px;display:flex;align-items:center;justify-content:center;color:#e3e3e3;cursor:pointer;transition:.3s}.language.active[data-v-4f697eca],.language[data-v-4f697eca]:hover{color:var(--v-secondarydark-base)}.language[data-v-4f697eca]:last-child{border-right:0}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/layout/Toolbar.vue\",\"webpack://./src/scss/variables.scss\"],\"names\":[],\"mappings\":\"AAEA,8BACE,WAAA,CACA,sBAAA,CACA,YAAA,CACA,wBAAA,CACA,iBAAA,CAEF,wBACE,iBAAA,CAEF,+BACE,eAAA,CAEF,2BACE,eAAA,CACA,mBAAA,CACA,iCAAA,CAEF,4BACE,eAAA,CACA,gBAAA,CACA,gBAAA,CACA,iCAAA,CAEF,sCACE,YAAA,CAEF,yBACE,YAAA,CACA,gBAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,aC5BkB,CD6BlB,cAAA,CAEF,2BACE,UAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,aCpCkB,CDqClB,cAAA,CACA,cAAA,CAEF,mEACE,iCAAA,CAEF,sCACE,cAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.app-toolbar {\\n  z-index: 100;\\n  height: 50px !important;\\n  display: flex;\\n  color: $secondary !important;\\n  position: relative;\\n}\\n.login {\\n  padding-left: 50px;\\n}\\n.project-name {\\n  font-size: 1.3em;\\n}\\n.app-name {\\n  font-size: 1.2em;\\n  padding-left: 1.2rem;\\n  color:var(--v-secondarydark-base);\\n}\\n.copyright {\\n  font-size: 0.9rem;\\n  padding-left: 5px;\\n  padding-top: 1rem;\\n  color:var(--v-secondarydark-base);\\n}\\n.languages-container {\\n  display: flex;\\n}\\n.switch {\\n  display: flex;\\n  padding-top: 1rem;\\n  padding-left:1rem;\\n  align-items: center;\\n  justify-content: center;\\n  color: $grey-light;\\n  cursor: pointer;\\n}\\n.language {\\n  width: 50px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  color: $grey-light;\\n  cursor: pointer;\\n  transition: 0.3s;\\n}\\n.language.active, .language:hover {\\n  color:var(--v-secondarydark-base);\\n}\\n.language:last-child {\\n  border-right: 0;\\n}\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.left-panel[data-v-61e624f6]{height:100%;background-color:#7ebaac;transition:.3s;position:absolute;display:flex;z-index:20}.left-panel-close[data-v-61e624f6]{transition:.3s}.left-panel-content[data-v-61e624f6]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-61e624f6]{padding:0}.left-panel-toggle-btn[data-v-61e624f6]{left:100%;width:25px;z-index:1;background-color:#7ebaac;display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-61e624f6]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-61e624f6]{height:height;padding-left:20px}.scrollable[data-v-61e624f6]{overflow-y:scroll}.drawer-list-item[data-v-61e624f6]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-61e624f6]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}.custom-tooltip[data-v-61e624f6]{opacity:1 !important;background:var(--v-tooltip-bg, rgb(97, 97, 97)) !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/map/LinksSidePanel.vue\",\"webpack://./src/scss/variables.scss\"],\"names\":[],\"mappings\":\"AAGA,6BACE,WAAA,CACA,wBCJkB,CDKlB,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAGF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,wBC/BkB,CDgClB,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA,CAEF,iCACI,oBAAA,CACA,0DAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n@import \\\"src/scss/variables.scss\\\";\\n.left-panel {\\n  height: 100%;\\n  background-color: $primary-dark;\\n  transition: 0.3s;\\n  position: absolute;\\n  display:flex;\\n  z-index: 20;\\n\\n}\\n.left-panel-close {\\ntransition:0.3s\\n}\\n.left-panel-content {\\n  display:inline-block;\\n  width : 100%;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  height: 100%;\\n  //resize: horizontal;\\n  overflow: auto;\\n\\n}\\n.v-list__tile {\\n  padding: 0\\n}\\n.left-panel-toggle-btn {\\n  left: 100%;\\n  width: 25px;\\n  z-index: 1;\\n  background-color: $primary-dark;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n  transition: 0.3s;\\n  cursor: pointer;\\n}\\n.left-panel-title {\\n  height: 50px;\\n  line-height: 55px;\\n  padding-left: 20px;\\n  font-size: 1.1em;\\n  margin-bottom: 10px;\\n}\\n.trip-list {\\n  height: height;\\n  padding-left:20px\\n}\\n\\n.scrollable {\\n   overflow-y:scroll;\\n\\n}\\n\\n.drawer-list-item {\\n  padding: 0 13px !important;\\n  justify-content: flex-start !important;\\n  flex: 0;\\n  transition: 0.3s;\\n}\\n\\n.list-item-icon {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  color: white;\\n}\\n.custom-tooltip {\\n    opacity: 1!important;\\n    background: var(--v-tooltip-bg, rgba(97, 97, 97, 1)) !important;\\n}\\n\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.map-view[data-v-f25e2232]{width:100%}.my-custom-dialog[data-v-f25e2232]{position:absolute !important;top:10px !important;right:20px !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/map/Map.vue\"],\"names\":[],\"mappings\":\"AAEA,2BACE,UAAA,CAEF,mCACE,4BAAA,CACA,mBAAA,CACA,qBAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.map-view {\\n  width: 100%;\\n}\\n.my-custom-dialog {\\n  position: absolute !important;\\n  top: 10px !important;\\n  right: 20px !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.left-panel[data-v-56780b52]{height:100%;background-color:#7ebaac;transition:.3s;position:absolute;display:flex;z-index:20}.left-panel-close[data-v-56780b52]{transition:.3s}.left-panel-content[data-v-56780b52]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-56780b52]{padding:0}.left-panel-toggle-btn[data-v-56780b52]{left:100%;width:25px;z-index:1;background-color:#7ebaac;display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-56780b52]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-56780b52]{height:height;padding-left:20px}.scrollable[data-v-56780b52]{overflow-y:scroll}.drawer-list-item[data-v-56780b52]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-56780b52]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/map/ODSidePanel.vue\",\"webpack://./src/scss/variables.scss\"],\"names\":[],\"mappings\":\"AAEA,6BACE,WAAA,CACA,wBCHkB,CDIlB,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAGF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,wBC9BkB,CD+BlB,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.left-panel {\\n  height: 100%;\\n  background-color: $primary-dark;\\n  transition: 0.3s;\\n  position: absolute;\\n  display:flex;\\n  z-index: 20;\\n\\n}\\n.left-panel-close {\\ntransition:0.3s\\n}\\n.left-panel-content {\\n  display:inline-block;\\n  width : 100%;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  height: 100%;\\n  //resize: horizontal;\\n  overflow: auto;\\n\\n}\\n.v-list__tile {\\n  padding: 0\\n}\\n.left-panel-toggle-btn {\\n  left: 100%;\\n  width: 25px;\\n  z-index: 1;\\n  background-color: $primary-dark;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n  transition: 0.3s;\\n  cursor: pointer;\\n}\\n.left-panel-title {\\n  height: 50px;\\n  line-height: 55px;\\n  padding-left: 20px;\\n  font-size: 1.1em;\\n  margin-bottom: 10px;\\n}\\n.trip-list {\\n  height: height;\\n  padding-left:20px\\n}\\n\\n.scrollable {\\n   overflow-y:scroll;\\n\\n}\\n\\n.drawer-list-item {\\n  padding: 0 13px !important;\\n  justify-content: flex-start !important;\\n  flex: 0;\\n  transition: 0.3s;\\n}\\n\\n.list-item-icon {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  color: white;\\n}\\n\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.left-panel[data-v-0e528228]{height:100%;background-color:#7ebaac;transition:.3s;position:absolute;display:flex;z-index:20}.left-panel-close[data-v-0e528228]{transition:.3s}.left-panel-content[data-v-0e528228]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-0e528228]{padding:0}.left-panel-toggle-btn[data-v-0e528228]{left:100%;width:25px;z-index:1;background-color:#7ebaac;display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-0e528228]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-0e528228]{height:height;padding-left:20px}.scrollable[data-v-0e528228]{overflow-y:scroll}.drawer-list-item[data-v-0e528228]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-0e528228]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/map/RoadSidePanel.vue\",\"webpack://./src/scss/variables.scss\"],\"names\":[],\"mappings\":\"AAEA,6BACE,WAAA,CACA,wBCHkB,CDIlB,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAGF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,wBC9BkB,CD+BlB,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.left-panel {\\n  height: 100%;\\n  background-color: $primary-dark;\\n  transition: 0.3s;\\n  position: absolute;\\n  display:flex;\\n  z-index: 20;\\n\\n}\\n.left-panel-close {\\ntransition:0.3s\\n}\\n.left-panel-content {\\n  display:inline-block;\\n  width : 100%;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  height: 100%;\\n  //resize: horizontal;\\n  overflow: auto;\\n\\n}\\n.v-list__tile {\\n  padding: 0\\n}\\n.left-panel-toggle-btn {\\n  left: 100%;\\n  width: 25px;\\n  z-index: 1;\\n  background-color: $primary-dark;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n  transition: 0.3s;\\n  cursor: pointer;\\n}\\n.left-panel-title {\\n  height: 50px;\\n  line-height: 55px;\\n  padding-left: 20px;\\n  font-size: 1.1em;\\n  margin-bottom: 10px;\\n}\\n.trip-list {\\n  height: height;\\n  padding-left:20px\\n}\\n\\n.scrollable {\\n   overflow-y:scroll;\\n\\n}\\n\\n.drawer-list-item {\\n  padding: 0 13px !important;\\n  justify-content: flex-start !important;\\n  flex: 0;\\n  transition: 0.3s;\\n}\\n\\n.list-item-icon {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  color: white;\\n}\\n\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.setting[data-v-60da9423]{left:98%;width:0px;z-index:2;display:flex;position:relative;align-items:center;justify-content:center;height:50px}.layout[data-v-60da9423]{position:absolute;width:100%;height:calc(100% - 50px);display:flex;flex-flow:row;justify-content:center;align-items:center}.layout-overlay[data-v-60da9423]{height:100%;width:100%;background-color:rgba(0,0,0,.5);position:absolute}.card[data-v-60da9423]{width:500px;overflow-y:auto;padding:40px}.title[data-v-60da9423]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:#b5e0d6 !important;font-weight:bold}.subtitle[data-v-60da9423]{font-size:2em;color:var(--v-secondarydark-base) !important;font-weight:bold;padding:1rem}.card button[data-v-60da9423]{margin-top:40px}.shake[data-v-60da9423]{animation:shake-60da9423 .5s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;transform:translate3d(0, 0, 0)}@keyframes shake-60da9423{10%,90%{transform:translate3d(-1px, 0, 0)}20%,80%{transform:translate3d(2px, 0, 0)}30%,50%,70%{transform:translate3d(-4px, 0, 0)}40%,60%{transform:translate3d(4px, 0, 0)}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/map/Settings.vue\"],\"names\":[],\"mappings\":\"AAEA,0BACE,QAAA,CACA,SAAA,CACA,SAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CAGF,yBACE,iBAAA,CACA,UAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA,CACA,sBAAA,CACA,kBAAA,CAEF,iCACE,WAAA,CACA,UAAA,CACA,+BAAA,CACA,iBAAA,CAEF,uBACE,WAAA,CACA,eAAA,CACA,YAAA,CAEF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,wBAAA,CACA,gBAAA,CAEF,2BACE,aAAA,CACA,4CAAA,CACA,gBAAA,CACA,YAAA,CAGF,8BACE,eAAA,CAEF,wBACE,sEAAA,CACA,8BAAA,CAEF,0BACE,QACE,iCAAA,CAEF,QACE,gCAAA,CAEF,YACE,iCAAA,CAEF,QACE,gCAAA,CAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.setting {\\n  left: 98%;\\n  width: 0px;\\n  z-index: 2;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n}\\n\\n.layout {\\n  position: absolute;\\n  width: calc(100%);\\n  height: calc(100% - 50px);\\n  display: flex;\\n  flex-flow: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.layout-overlay {\\n  height: 100%;\\n  width: 100%;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  position: absolute;\\n}\\n.card {\\n  width: 500px;\\n  overflow-y: auto;\\n  padding: 40px;\\n}\\n.title {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 3.5em;\\n  color: $primary !important;\\n  font-weight: bold;\\n}\\n.subtitle {\\n  font-size: 2em;\\n  color:  var(--v-secondarydark-base) !important;\\n  font-weight: bold;\\n  padding:1rem\\n\\n}\\n.card button {\\n  margin-top: 40px;\\n}\\n.shake {\\n  animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;\\n  transform: translate3d(0, 0, 0);\\n}\\n@keyframes shake {\\n  10%, 90% {\\n    transform: translate3d(-1px, 0, 0);\\n  }\\n  20%, 80% {\\n    transform: translate3d(2px, 0, 0);\\n  }\\n  30%, 50%, 70% {\\n    transform: translate3d(-4px, 0, 0);\\n  }\\n  40%, 60% {\\n    transform: translate3d(4px, 0, 0);\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.left-panel[data-v-f6e4315a]{height:100%;background-color:var(--v-primarydark-base);transition:.3s;position:absolute;display:flex;z-index:20}.left-panel-close[data-v-f6e4315a]{transition:.3s;width:0px}.left-panel .resizable-handle[data-v-f6e4315a]{width:5px;height:100%;background-color:var(--v-background-lighten2);position:absolute;right:0;top:0;cursor:col-resize}.left-panel-content[data-v-f6e4315a]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;resize:horizontal;overflow:auto}.v-list__tile[data-v-f6e4315a]{padding:0}.left-panel-toggle-btn[data-v-f6e4315a]{left:100%;width:25px;z-index:1;background-color:var(--v-primarydark-base);display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-f6e4315a]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-f6e4315a]{height:height;padding-left:20px}.scrollable[data-v-f6e4315a]{overflow-y:scroll}.drawer-list-item[data-v-f6e4315a]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-f6e4315a]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/map/SidePanel.vue\"],\"names\":[],\"mappings\":\"AAEA,6BACE,WAAA,CACA,0CAAA,CACA,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAEF,mCACA,cAAA,CACA,SAAA,CAEA,+CACE,SAAA,CACA,WAAA,CACA,6CAAA,CACA,iBAAA,CACA,OAAA,CACA,KAAA,CACA,iBAAA,CAGF,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CACA,iBAAA,CACA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,0CAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.left-panel {\\n  height: 100%;\\n  background-color:var(--v-primarydark-base);\\n  transition: 0.3s;\\n  position: absolute;\\n  display:flex;\\n  z-index: 20;\\n}\\n.left-panel-close {\\ntransition:0.3s;\\nwidth:0px;\\n}\\n.left-panel .resizable-handle {\\n  width: 5px;\\n  height: 100%;\\n  background-color: var(--v-background-lighten2);\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  cursor: col-resize; /* Use the col-resize cursor for horizontal resizing */\\n}\\n\\n.left-panel-content {\\n  display:inline-block;\\n  width : 100%;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  height: 100%;\\n  resize: horizontal;\\n  overflow: auto;\\n\\n}\\n.v-list__tile {\\n  padding: 0\\n}\\n.left-panel-toggle-btn {\\n  left: 100%;\\n  width: 25px;\\n  z-index: 1;\\n  background-color: var(--v-primarydark-base);\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n  transition: 0.3s;\\n  cursor: pointer;\\n}\\n.left-panel-title {\\n  height: 50px;\\n  line-height: 55px;\\n  padding-left: 20px;\\n  font-size: 1.1em;\\n  margin-bottom: 10px;\\n}\\n.trip-list {\\n  height: height;\\n  padding-left:20px\\n}\\n\\n.scrollable {\\n   overflow-y:scroll;\\n\\n}\\n\\n.drawer-list-item {\\n  padding: 0 13px !important;\\n  justify-content: flex-start !important;\\n  flex: 0;\\n  transition: 0.3s;\\n}\\n\\n.list-item-icon {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  color: white;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.layer-button[data-v-26ade0f2]{left:98%;top:3rem;width:0px;z-index:2;display:flex;position:relative;align-items:center;justify-content:center;height:50px}.card[data-v-26ade0f2]{width:500px;overflow-y:auto;padding:40px}.subtitle[data-v-26ade0f2]{font-size:1.5em;color:var(--v-secondarydark-base) !important;font-weight:bold;padding:1rem}.title[data-v-26ade0f2]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:#b5e0d6 !important;font-weight:bold}.custom-tooltip[data-v-26ade0f2]{opacity:1 !important;background:var(--v-tooltip-bg, rgb(97, 97, 97)) !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/utils/LayerSelector.vue\"],\"names\":[],\"mappings\":\"AAEA,+BACE,QAAA,CACA,QAAA,CACA,SAAA,CACA,SAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CAEF,uBACE,WAAA,CACA,eAAA,CACA,YAAA,CAEF,2BACE,eAAA,CACA,4CAAA,CACA,gBAAA,CACA,YAAA,CAGF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,wBAAA,CACA,gBAAA,CAEF,iCACI,oBAAA,CACA,0DAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.layer-button {\\n  left: 98%;\\n  top:3rem;\\n  width: 0px;\\n  z-index: 2;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n}\\n.card {\\n  width: 500px;\\n  overflow-y: auto;\\n  padding: 40px;\\n}\\n.subtitle {\\n  font-size: 1.5em;\\n  color:  var(--v-secondarydark-base) !important;\\n  font-weight: bold;\\n  padding:1rem\\n\\n}\\n.title {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 3.5em;\\n  color: $primary !important;\\n  font-weight: bold;\\n}\\n.custom-tooltip {\\n    opacity: 1!important;\\n    background: var(--v-tooltip-bg, rgba(97, 97, 97, 1)) !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.gradient[data-v-0de46ea8]{width:85%;white-space:nowrap;position:relative;display:inline-block;padding-top:20px;padding-bottom:15px}.gradient .domain-title[data-v-0de46ea8]{position:absolute;right:25%;left:25%;text-align:center;font-size:11px;top:6px}.gradient .domain-min[data-v-0de46ea8]{position:absolute;left:0;font-size:11px;bottom:5px}.gradient .domain-med[data-v-0de46ea8]{position:absolute;right:25%;left:25%;text-align:center;font-size:11px;bottom:5px}.gradient .domain-max[data-v-0de46ea8]{position:absolute;right:0;font-size:11px;bottom:5px}.grad-step[data-v-0de46ea8]{display:inline-block;height:20px;width:1%}.legend[data-v-0de46ea8]{width:160px;z-index:3;display:flex;position:relative;align-items:center;justify-content:center;transition:.3s;height:50px;background-color:var(--v-white-base);border:thin solid var(--v-mediumgrey-base)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/utils/MapLegend.vue\"],\"names\":[],\"mappings\":\"AAGA,2BACI,SAAA,CACA,kBAAA,CACA,iBAAA,CACA,oBAAA,CACA,gBAAA,CACA,mBAAA,CAIJ,yCACI,iBAAA,CACA,SAAA,CACA,QAAA,CACA,iBAAA,CACA,cAAA,CACA,OAAA,CAIJ,uCACI,iBAAA,CACA,MAAA,CACA,cAAA,CACA,UAAA,CAEJ,uCACI,iBAAA,CACA,SAAA,CACA,QAAA,CACA,iBAAA,CACA,cAAA,CACA,UAAA,CAEJ,uCACI,iBAAA,CACA,OAAA,CACA,cAAA,CACA,UAAA,CAGJ,4BACI,oBAAA,CACA,WAAA,CACA,QAAA,CAGJ,yBACE,WAAA,CACA,SAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,cAAA,CACA,WAAA,CACA,oCAAA,CACA,0CAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n\\n.gradient {\\n    width: 85%;\\n    white-space: nowrap;\\n    position: relative;\\n    display: inline-block;\\n    padding-top: 20px;\\n    padding-bottom: 15px;\\n\\n}\\n\\n.gradient .domain-title {\\n    position: absolute;\\n    right: 25%;\\n    left: 25%;\\n    text-align: center;\\n    font-size: 11px;\\n    top: 6px;\\n\\n}\\n\\n.gradient .domain-min {\\n    position: absolute;\\n    left: 0;\\n    font-size: 11px;\\n    bottom: 5px;\\n}\\n.gradient .domain-med {\\n    position: absolute;\\n    right: 25%;\\n    left: 25%;\\n    text-align: center;\\n    font-size: 11px;\\n    bottom: 5px;\\n}\\n.gradient .domain-max {\\n    position: absolute;\\n    right: 0;\\n    font-size: 11px;\\n    bottom: 5px;\\n}\\n\\n.grad-step {\\n    display: inline-block;\\n    height: 20px;\\n    width: 1%;\\n}\\n\\n.legend {\\n  width: 160px;\\n  z-index: 3;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  transition: 0.3s;\\n  height: 50px;\\n  background-color: var(--v-white-base);\\n  border: thin solid var(--v-mediumgrey-base);\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.is-active[data-v-13171075]{opacity:1;background-color:var(--v-primary-base)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/utils/MenuSelector.vue\"],\"names\":[],\"mappings\":\"AAEA,4BACE,SAAA,CACA,sCAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.is-active{\\n  opacity:1;\\n  background-color:var(--v-primary-base);\\n\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.form[data-v-410ea6be]{margin:1rem}.signin[data-v-410ea6be]{padding:1rem 2rem 2rem 2rem}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/utils/Profile.vue\"],\"names\":[],\"mappings\":\"AAEA,uBACE,WAAA,CAGF,yBACE,2BAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.form{\\n  margin: 1rem;\\n}\\n\\n.signin {\\n  padding:1rem 2rem 2rem 2rem\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.form[data-v-87ccd196]{margin:1rem}.signin[data-v-87ccd196]{padding:1rem 2rem 2rem 2rem}.shake[data-v-87ccd196]{animation:shake-87ccd196 .5s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;transform:translate3d(0, 0, 0)}@keyframes shake-87ccd196{10%,90%{transform:translate3d(-1px, 0, 0)}20%,80%{transform:translate3d(2px, 0, 0)}30%,50%,70%{transform:translate3d(-4px, 0, 0)}40%,60%{transform:translate3d(4px, 0, 0)}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/utils/Signin.vue\"],\"names\":[],\"mappings\":\"AAEA,uBACE,WAAA,CAGF,yBACE,2BAAA,CAEF,wBACE,sEAAA,CACA,8BAAA,CAEF,0BACE,QACE,iCAAA,CAEF,QACE,gCAAA,CAEF,YACE,iCAAA,CAEF,QACE,gCAAA,CAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.form{\\n  margin: 1rem;\\n}\\n\\n.signin {\\n  padding:1rem 2rem 2rem 2rem\\n}\\n.shake {\\n  animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;\\n  transform: translate3d(0, 0, 0);\\n}\\n@keyframes shake {\\n  10%, 90% {\\n    transform: translate3d(-1px, 0, 0);\\n  }\\n  20%, 80% {\\n    transform: translate3d(2px, 0, 0);\\n  }\\n  30%, 50%, 70% {\\n    transform: translate3d(-4px, 0, 0);\\n  }\\n  40%, 60% {\\n    transform: translate3d(4px, 0, 0);\\n  }\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.map-legend[data-v-7f9433fe]{height:100%;bottom:0px;position:absolute}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/utils/StaticLayer.vue\"],\"names\":[],\"mappings\":\"AAEA,6BACE,WAAA,CACA,UAAA,CACA,iBAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.map-legend {\\n  height: 100%;\\n  bottom:0px;\\n  position: absolute;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.map-view[data-v-00b02151]{height:calc(100% - 50px);width:100%;display:flex}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/Home.vue\"],\"names\":[],\"mappings\":\"AAEA,2BACE,wBAAA,CACA,UAAA,CACA,YAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.map-view {\\n  height: calc(100% - 50px);\\n  width: 100%;\\n  display: flex;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.layout[data-v-1eb30a93]{position:absolute;width:100%;height:calc(100% - 50px);display:flex;flex-flow:row;justify-content:center;align-items:center}.layout-overlay[data-v-1eb30a93]{height:100%;width:100%;background-color:var(--v-background-base);position:absolute}.card[data-v-1eb30a93]{width:80rem;overflow-y:hidden;padding:20px}.button-question[data-v-1eb30a93]{display:flex;align-items:center}.title[data-v-1eb30a93]{display:flex;align-items:center;justify-content:center;font-size:2em !important;color:var(--v-primary-base);font-weight:bold;margin-top:18px}.subtitle[data-v-1eb30a93]{font-size:1.5em;font-weight:bold;margin:20px}.card button[data-v-1eb30a93]{margin:.5rem}.animate-login[data-v-1eb30a93]{transform:translateY(-185%);transition:1s}.animate-layer[data-v-1eb30a93]{opacity:0;transition:1s}.button-row[data-v-1eb30a93]{display:flex;align-items:center;justify-content:center;margin-top:1rem;padding-top:.5rem;border-top:1px solid var(--v-lightgrey-base)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/Import.vue\"],\"names\":[],\"mappings\":\"AAEA,yBACE,iBAAA,CACA,UAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA,CACA,sBAAA,CACA,kBAAA,CAGF,iCACE,WAAA,CACA,UAAA,CACA,yCAAA,CAEA,iBAAA,CAEF,uBACE,WAAA,CACA,iBAAA,CACA,YAAA,CAEF,kCACE,YAAA,CACA,kBAAA,CAGF,wBACE,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,wBAAA,CACA,2BAAA,CACA,gBAAA,CACA,eAAA,CAEF,2BACE,eAAA,CACA,gBAAA,CACA,WAAA,CAEF,8BACE,YAAA,CAEF,gCACE,2BAAA,CACA,aAAA,CAEF,gCACE,SAAA,CACA,aAAA,CAEF,6BACE,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,iBAAA,CACA,4CAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.layout {\\n  position: absolute;\\n  width: calc(100%);\\n  height: calc(100% - 50px);\\n  display: flex;\\n  flex-flow: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.layout-overlay {\\n  height: 100%;\\n  width: 100%;\\n  background-color:var(--v-background-base);\\n\\n  position: absolute;\\n}\\n.card {\\n  width:80rem;\\n  overflow-y:hidden;\\n  padding: 20px;\\n}\\n.button-question{\\n  display: flex;\\n  align-items: center ;\\n\\n}\\n.title {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 2em !important;\\n  color: var(--v-primary-base);\\n  font-weight: bold;\\n  margin-top:18px;\\n}\\n.subtitle {\\n  font-size: 1.5em;\\n  font-weight: bold;\\n  margin: 20px;\\n}\\n.card button {\\n  margin: 0.5rem;\\n}\\n.animate-login {\\n  transform: translateY(-185%);\\n  transition: 1s;\\n}\\n.animate-layer {\\n  opacity: 0;\\n  transition: 1s;\\n}\\n.button-row{\\n  display: flex;\\n  align-items: center;\\n  justify-content:center;\\n  margin-top : 1rem;\\n  padding-top:0.5rem;\\n  border-top: 1px solid var(--v-lightgrey-base);\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","export default {type:'FeatureCollection',crs:{type:'name',properties:{name:'urn:ogc:def:crs:OGC:1.3:CRS84'}},features:[]}","export default {type:'FeatureCollection',crs:{type:'name',properties:{name:'urn:ogc:def:crs:OGC:1.3:CRS84'}},features:[]}","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-menu\",\n    {\n      attrs: {\n        \"close-on-content-click\": false,\n        \"close-on-click\": true,\n        origin: \"top right\",\n        transition: \"scale-transition\",\n        \"position-y\": 30,\n        \"nudge-width\": 200,\n        \"offset-x\": \"\",\n        \"offset-y\": \"\",\n      },\n      scopedSlots: _vm._u([\n        {\n          key: \"activator\",\n          fn: function ({ on, attrs }) {\n            return [\n              _c(\n                \"div\",\n                { staticClass: \"layer-button\" },\n                [\n                  _c(\n                    \"v-btn\",\n                    _vm._g(\n                      _vm._b(\n                        { attrs: { fab: \"\", small: \"\" } },\n                        \"v-btn\",\n                        attrs,\n                        false\n                      ),\n                      on\n                    ),\n                    [\n                      _c(\n                        \"v-icon\",\n                        {\n                          attrs: {\n                            color:\n                              _vm.selectedLayers.length > 0\n                                ? \"success\"\n                                : \"regular\",\n                          },\n                        },\n                        [_vm._v(\"\\n          fas fa-layer-group\\n        \")]\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ]\n          },\n        },\n      ]),\n      model: {\n        value: _vm.show,\n        callback: function ($$v) {\n          _vm.show = $$v\n        },\n        expression: \"show\",\n      },\n    },\n    [\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        { attrs: { \"max-width\": 300 } },\n        [\n          _c(\"v-card-title\", { staticClass: \"subtitle\" }, [\n            _vm._v(\n              \"\\n      \" + _vm._s(_vm.$gettext(\"Static Layers\")) + \"\\n    \"\n            ),\n          ]),\n          _vm._v(\" \"),\n          _vm._l(_vm.choices, function (item, key) {\n            return _c(\n              \"v-list-item\",\n              { key: key },\n              [\n                _c(\n                  \"v-list-item-action\",\n                  [\n                    _c(\"v-checkbox\", {\n                      attrs: {\n                        value: item.name,\n                        \"off-icon\": !_vm.availableLayers.includes(item.layer)\n                          ? \"fas fa-exclamation-triangle\"\n                          : \"fa-eye-slash fa\",\n                        \"on-icon\": \"fa-eye fa\",\n                        disabled: !_vm.availableLayers.includes(item.layer),\n                      },\n                      model: {\n                        value: _vm.selectedLayers,\n                        callback: function ($$v) {\n                          _vm.selectedLayers = $$v\n                        },\n                        expression: \"selectedLayers\",\n                      },\n                    }),\n                  ],\n                  1\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"v-tooltip\",\n                  {\n                    attrs: {\n                      top: \"\",\n                      \"open-delay\": \"300\",\n                      \"content-class\": \"custom-tooltip\",\n                    },\n                    scopedSlots: _vm._u(\n                      [\n                        {\n                          key: \"activator\",\n                          fn: function ({ on }) {\n                            return [\n                              _c(\n                                \"v-list-item-title\",\n                                _vm._g({ style: { cursor: \"default\" } }, on),\n                                [\n                                  _vm._v(\n                                    \"\\n            \" +\n                                      _vm._s(item.name) +\n                                      \"\\n          \"\n                                  ),\n                                ]\n                              ),\n                            ]\n                          },\n                        },\n                      ],\n                      null,\n                      true\n                    ),\n                  },\n                  [\n                    _vm._v(\" \"),\n                    !_vm.availableLayers.includes(item.layer)\n                      ? _c(\"span\", [\n                          _vm._v(\n                            _vm._s(\n                              _vm.$gettext(\"Data not found: \") + item.layer\n                            )\n                          ),\n                        ])\n                      : _c(\"span\", [\n                          _vm._v(\n                            _vm._s(\n                              item.displaySettings.selectedFeature +\n                                \" \" +\n                                _vm.$gettext(\"from\") +\n                                \" \" +\n                                item.layer\n                            )\n                          ),\n                        ]),\n                  ]\n                ),\n              ],\n              1\n            )\n          }),\n        ],\n        2\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nexport default {\n  name: 'LayerSelector',\n  components: {\n  },\n  props: {\n    choices: {\n      type: Array,\n      default: () => [],\n    },\n    availableLayers: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  data () {\n    return {\n      show: false,\n      selectedLayers: [],\n      selectedOpacity: 0,\n\n    }\n  },\n  watch: {\n    selectedLayers (val) {\n      const resp = []\n      val.forEach(item => resp.push(item))\n      this.$store.commit('setVisibleRasters', resp)\n    },\n    choices (vals) {\n      const choices = vals.map(el => el.name)\n      this.selectedLayers = this.selectedLayers.filter(layer => choices.includes(layer))\n    },\n\n  },\n  mounted () {\n    this.selectedLayers = this.$store.getters.visibleRasters\n  },\n\n}\n</script>\n<template>\n  <v-menu\n    v-model=\"show\"\n    :close-on-content-click=\"false\"\n    :close-on-click=\"true\"\n    :origin=\"'top right'\"\n    transition=\"scale-transition\"\n    :position-y=\"30\"\n    :nudge-width=\"200\"\n    offset-x\n    offset-y\n  >\n    <template v-slot:activator=\"{ on, attrs }\">\n      <div class=\"layer-button\">\n        <v-btn\n          fab\n          small\n          v-bind=\"attrs\"\n          v-on=\"on\"\n        >\n          <v-icon\n            :color=\"(selectedLayers.length > 0)? 'success' : 'regular'\"\n          >\n            fas fa-layer-group\n          </v-icon>\n        </v-btn>\n      </div>\n    </template>\n    <v-card\n      :max-width=\"300\"\n    >\n      <v-card-title class=\"subtitle\">\n        {{ $gettext('Static Layers') }}\n      </v-card-title>\n      <v-list-item\n        v-for=\"(item,key) in choices\"\n        :key=\"key\"\n      >\n        <v-list-item-action>\n          <v-checkbox\n            v-model=\"selectedLayers\"\n            :value=\"item.name\"\n            :off-icon=\"!availableLayers.includes(item.layer)? 'fas fa-exclamation-triangle':'fa-eye-slash fa'\"\n            :on-icon=\"'fa-eye fa'\"\n            :disabled=\"!availableLayers.includes(item.layer)\"\n          />\n        </v-list-item-action>\n\n        <v-tooltip\n          top\n          open-delay=\"300\"\n          content-class=\"custom-tooltip\"\n        >\n          <template v-slot:activator=\"{ on }\">\n            <v-list-item-title\n              :style=\"{'cursor': 'default'}\"\n              v-on=\"on\"\n            >\n              {{ item.name }}\n            </v-list-item-title>\n          </template>\n          <span v-if=\"!availableLayers.includes(item.layer)\">{{ $gettext('Data not found: ') + item.layer }}</span>\n          <span v-else>{{ item.displaySettings.selectedFeature + ' ' + $gettext('from') + ' ' + item.layer }}</span>\n        </v-tooltip>\n      </v-list-item>\n    </v-card>\n  </v-menu>\n</template>\n<style lang=\"scss\" scoped>\n.layer-button {\n  left: 98%;\n  top:3rem;\n  width: 0px;\n  z-index: 2;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n}\n.card {\n  width: 500px;\n  overflow-y: auto;\n  padding: 40px;\n}\n.subtitle {\n  font-size: 1.5em;\n  color:  var(--v-secondarydark-base) !important;\n  font-weight: bold;\n  padding:1rem\n\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: $primary !important;\n  font-weight: bold;\n}\n.custom-tooltip {\n    opacity: 1!important;\n    background: var(--v-tooltip-bg, rgba(97, 97, 97, 1)) !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerSelector.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerSelector.vue?vue&type=style&index=0&id=26ade0f2&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerSelector.vue?vue&type=style&index=0&id=26ade0f2&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./LayerSelector.vue?vue&type=template&id=26ade0f2&scoped=true&\"\nimport script from \"./LayerSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./LayerSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LayerSelector.vue?vue&type=style&index=0&id=26ade0f2&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26ade0f2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    {\n      directives: [\n        {\n          name: \"show\",\n          rawName: \"v-show\",\n          value:\n            !isNaN(_vm.displaySettings.minVal) &&\n            !isNaN(_vm.displaySettings.minVal),\n          expression:\n            \"!isNaN(displaySettings.minVal) && !isNaN(displaySettings.minVal)\",\n        },\n      ],\n      staticClass: \"legend elevation-4\",\n      style: {\n        top: `${_vm.windowHeight}px`,\n        left: `${_vm.leftOffset}px !important`,\n      },\n    },\n    [\n      _c(\n        \"div\",\n        { staticClass: \"gradient\" },\n        [\n          _vm._l(_vm.colorScale, function (color, key) {\n            return _c(\"span\", {\n              key: key,\n              staticClass: \"grad-step\",\n              style: { backgroundColor: color },\n            })\n          }),\n          _vm._v(\" \"),\n          _c(\"span\", { staticClass: \"domain-title\" }, [\n            _vm._v(_vm._s(_vm.displaySettings.selectedFeature)),\n          ]),\n          _vm._v(\" \"),\n          _c(\"span\", { staticClass: \"domain-min\" }, [\n            _vm._v(_vm._s(Math.round(_vm.displaySettings.minVal))),\n          ]),\n          _vm._v(\" \"),\n          _c(\"span\", { staticClass: \"domain-med\" }, [\n            _vm._v(\n              _vm._s(\n                Math.round(\n                  (_vm.displaySettings.maxVal + _vm.displaySettings.minVal) / 2\n                )\n              )\n            ),\n          ]),\n          _vm._v(\" \"),\n          _c(\"span\", { staticClass: \"domain-max\" }, [\n            _vm._v(_vm._s(Math.round(_vm.displaySettings.maxVal))),\n          ]),\n        ],\n        2\n      ),\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nexport default {\n  name: 'MapLegend',\n  components: {\n  },\n  props: {\n    colorScale: {\n      type: Array,\n      default: () => [],\n    },\n    displaySettings: {\n      type: Object,\n      default: () => {},\n    },\n    baseOffset: {\n      type: Number,\n      default: () => 300,\n    },\n    order: {\n      type: Number,\n      default: () => 0,\n    },\n  },\n  data () {\n    return {\n\n    }\n  },\n\n  computed: {\n    windowHeight () { return this.$store.getters.windowHeight - 70 },\n    leftOffset () {\n      return this.$store.getters.showLeftPanel ? 50 + (180 * this.order) + this.baseOffset : 50 + (180 * this.order)\n    },\n  },\n\n}\n</script>\n<template>\n  <div\n    v-show=\"!isNaN(displaySettings.minVal) && !isNaN(displaySettings.minVal)\"\n    class=\"legend elevation-4\"\n    :style=\"{'top':`${windowHeight}px`,'left':`${leftOffset}px !important`}\"\n  >\n    <div class=\"gradient\">\n      <span\n        v-for=\"(color,key) in colorScale\"\n        :key=\"key\"\n        class=\"grad-step\"\n        :style=\"{'backgroundColor':color}\"\n      />\n      <span class=\"domain-title\">{{ displaySettings.selectedFeature }}</span>\n      <span class=\"domain-min\">{{ Math.round(displaySettings.minVal) }}</span>\n      <span class=\"domain-med\">{{ Math.round((displaySettings.maxVal+displaySettings.minVal)/2) }}</span>\n      <span class=\"domain-max\">{{ Math.round(displaySettings.maxVal) }}</span>\n    </div>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n\n.gradient {\n    width: 85%;\n    white-space: nowrap;\n    position: relative;\n    display: inline-block;\n    padding-top: 20px;\n    padding-bottom: 15px;\n\n}\n\n.gradient .domain-title {\n    position: absolute;\n    right: 25%;\n    left: 25%;\n    text-align: center;\n    font-size: 11px;\n    top: 6px;\n\n}\n\n.gradient .domain-min {\n    position: absolute;\n    left: 0;\n    font-size: 11px;\n    bottom: 5px;\n}\n.gradient .domain-med {\n    position: absolute;\n    right: 25%;\n    left: 25%;\n    text-align: center;\n    font-size: 11px;\n    bottom: 5px;\n}\n.gradient .domain-max {\n    position: absolute;\n    right: 0;\n    font-size: 11px;\n    bottom: 5px;\n}\n\n.grad-step {\n    display: inline-block;\n    height: 20px;\n    width: 1%;\n}\n\n.legend {\n  width: 160px;\n  z-index: 3;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  transition: 0.3s;\n  height: 50px;\n  background-color: var(--v-white-base);\n  border: thin solid var(--v-mediumgrey-base);\n}\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLegend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLegend.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLegend.vue?vue&type=style&index=0&id=0de46ea8&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLegend.vue?vue&type=style&index=0&id=0de46ea8&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MapLegend.vue?vue&type=template&id=0de46ea8&scoped=true&\"\nimport script from \"./MapLegend.vue?vue&type=script&lang=js&\"\nexport * from \"./MapLegend.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapLegend.vue?vue&type=style&index=0&id=0de46ea8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0de46ea8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"div\",\n        { staticClass: \"map-legend\" },\n        [\n          _c(\"MapLegend\", {\n            attrs: {\n              \"color-scale\": _vm.colorScale,\n              \"display-settings\": _vm.displaySettings,\n              \"base-offset\": 350,\n              order: _vm.order,\n            },\n          }),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      [\"MultiPolygon\", \"Polygon\"].includes(_vm.type)\n        ? _c(\"MglGeojsonLayer\", {\n            attrs: {\n              \"source-id\": _vm.preset.name + \"-layer\",\n              source: {\n                type: \"geojson\",\n                data: _vm.layer,\n              },\n              \"layer-id\": _vm.preset.name + \"-layer\",\n              layer: {\n                interactive: false,\n                type: \"fill\",\n                minzoom: 5,\n                paint: {\n                  \"fill-color\": [\"get\", \"display_color\"],\n                  \"fill-opacity\": _vm.opacity / 100,\n                },\n              },\n            },\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.type == \"LineString\"\n        ? _c(\"MglGeojsonLayer\", {\n            attrs: {\n              \"source-id\": _vm.preset.name + \"-layer\",\n              source: {\n                type: \"geojson\",\n                data: _vm.layer,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": _vm.preset.name + \"-layer\",\n              layer: {\n                interactive: true,\n                type: \"line\",\n                minzoom: 5,\n                paint: {\n                  \"line-color\": [\"get\", \"display_color\"],\n                  \"line-opacity\": _vm.opacity / 100,\n                  \"line-offset\": [\n                    \"*\",\n                    _vm.offsetValue * 0.5,\n                    [\"to-number\", [\"get\", \"display_width\"]],\n                  ],\n\n                  \"line-width\": [\"get\", \"display_width\"],\n                },\n                layout: {\n                  \"line-sort-key\": [\"to-number\", [\"get\", \"display_width\"]],\n                  \"line-cap\": \"round\",\n                },\n              },\n            },\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.type == \"Point\"\n        ? _c(\"MglGeojsonLayer\", {\n            attrs: {\n              \"source-id\": _vm.preset.name + \"-layer\",\n              source: {\n                type: \"geojson\",\n                data: _vm.layer,\n              },\n              \"layer-id\": _vm.preset.name + \"-layer\",\n              layer: {\n                interactive: false,\n                type: \"circle\",\n                minzoom: 5,\n                paint: {\n                  \"circle-color\": [\"get\", \"display_color\"],\n                  \"circle-radius\": [\"get\", \"display_width\"],\n                  \"circle-opacity\": _vm.opacity / 100,\n                },\n                layout: {\n                  \"circle-sort-key\": [\"to-number\", [\"get\", \"display_width\"]],\n                },\n              },\n            },\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.type == \"extrusion\"\n        ? _c(\"MglGeojsonLayer\", {\n            attrs: {\n              \"source-id\": _vm.preset.name + \"-layer\",\n              source: {\n                type: \"geojson\",\n                data: _vm.layer,\n              },\n              \"layer-id\": _vm.preset.name + \"-layer\",\n              layer: {\n                interactive: false,\n                type: \"fill-extrusion\",\n                minzoom: 5,\n                paint: {\n                  \"fill-extrusion-color\": [\"get\", \"display_color\"],\n                  \"fill-extrusion-opacity\": _vm.opacity / 100,\n                  \"fill-extrusion-height\": [\n                    \"*\",\n                    1000,\n                    [\"to-number\", [\"get\", \"display_width\"]],\n                  ],\n                },\n              },\n            },\n          })\n        : _vm._e(),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport { MglGeojsonLayer } from 'vue-mapbox'\nimport MapLegend from '@comp/utils/MapLegend.vue'\nconst $gettext = s => s\n\n// set visibility. to render or not by fetching the data.\n// we need to create all the statics link (even without the data)\n// for the correct z-order. if not, they are drawn over the links.\nexport default {\n  name: 'StaticLayer',\n  components: {\n    MglGeojsonLayer,\n    MapLegend,\n\n  },\n  props: ['preset', 'map', 'order'],\n  data () {\n    return {\n      type: '',\n      layer: {},\n      opacity: 100,\n      offsetValue: -1,\n      displaySettings: {},\n      colorScale: null,\n\n    }\n  },\n\n  beforeDestroy () {\n    if (this.map.getLayer(this.preset.name + '-layer')) {\n      this.map.removeLayer(this.preset.name + '-layer')\n    }\n  },\n  mounted () {\n    // move layer under rlinks (links and OD are over this one)\n    if (this.map.getLayer('results')) {\n      this.map.moveLayer(this.preset.name + '-layer', 'results')\n    }\n    if (this.map.getLayer('rlinks')) {\n      this.map.moveLayer(this.preset.name + '-layer', 'rlinks')\n    }\n  },\n  created () {\n    // init data to empty geojson to load the mapbox layer\n    this.$store.commit('registerStaticLayer')\n    this.opacity = this.preset.displaySettings.opacity\n    this.offsetValue = this.preset.displaySettings.offset ? -1 : 1\n\n    this.changeLayer(this.preset.layer)\n    if (Object.keys(this.preset).includes('selectedFilter')) {\n      if (this.$store.getters['staticLayer/lineAttributes'].includes(this.preset.selectedFilter)) {\n      // if preset contain a filter. apply it if it exist.\n        this.$store.commit('staticLayer/changeSelectedFilter', this.preset.selectedFilter)\n        // if there is a list of cat. apply them, else its everything\n        if (Object.keys(this.preset).includes('selectedCategory')) {\n          this.$store.commit('staticLayer/changeSelectedCategory', this.preset.selectedCategory)\n          this.$store.commit('staticLayer/updateSelectedFeature')\n        }\n      } else {\n        this.$store.commit('changeNotification',\n          {\n            text: this.preset.selectedFilter + ' ' + $gettext('filter does not exist. use default one'),\n            autoClose: true,\n            color: 'error',\n          })\n      }\n    }\n\n    this.$store.commit('staticLayer/applySettings', this.preset.displaySettings)\n    this.layer = structuredClone(this.$store.getters['staticLayer/displayLinks'])\n    this.type = structuredClone(this.$store.getters['staticLayer/type'])\n    this.colorScale = this.$store.getters['staticLayer/colorScale']\n    this.displaySettings = structuredClone(this.$store.getters['staticLayer/displaySettings'])\n    this.$store.commit('unregisterStaticLayer')\n    //\n  },\n\n  methods: {\n    changeLayer (layer) {\n      this.selectedLayer = layer\n      switch (layer) {\n        case 'links':\n          this.$store.commit('staticLayer/loadLinks', {\n            geojson: this.$store.getters.links,\n            type: 'LineString',\n            selectedFeature: 'headway',\n          })\n          break\n        case 'rlinks':\n          this.$store.commit('staticLayer/loadLinks', {\n            geojson: this.$store.getters.rlinks,\n            type: 'LineString',\n            selectedFeature: 'speed',\n          })\n          break\n        case 'nodes':\n          this.$store.commit('staticLayer/loadLinks', {\n            geojson: this.$store.getters.nodes,\n            type: 'Point',\n            selectedFeature: 'boardings',\n          })\n          break\n        case 'rnodes':\n          this.$store.commit('staticLayer/loadLinks', {\n            geojson: this.$store.getters.rnodes,\n            type: 'Point',\n            selectedFeature: 'boardings',\n          })\n          break\n        case 'od':\n          this.$store.commit('staticLayer/loadLinks', {\n            geojson: this.$store.getters['od/layer'],\n            type: 'LineString',\n            selectedFeature: 'volume',\n          })\n          break\n        default:\n          this.$store.commit('staticLayer/loadLinks', {\n            geojson: this.$store.getters[`${layer}/layer`],\n            type: this.$store.getters[`${layer}/type`],\n          })\n          break\n      }\n    },\n\n  },\n}\n</script>\n<template>\n  <section>\n    <div\n      class=\"map-legend\"\n    >\n      <MapLegend\n        :color-scale=\"colorScale\"\n        :display-settings=\"displaySettings\"\n        :base-offset=\"350\"\n        :order=\"order\"\n      />\n    </div>\n\n    <MglGeojsonLayer\n      v-if=\"['MultiPolygon', 'Polygon'].includes(type)\"\n      :source-id=\"preset.name+ '-layer'\"\n      :source=\"{\n        type: 'geojson',\n        data: layer,\n      }\"\n      :layer-id=\"preset.name+ '-layer'\"\n      :layer=\"{\n        interactive: false,\n        type: 'fill',\n        minzoom: 5,\n        'paint': {\n          'fill-color': ['get', 'display_color'],\n          'fill-opacity': opacity/100,\n\n        }\n      }\"\n    />\n    <MglGeojsonLayer\n      v-if=\"type=='LineString'\"\n      :source-id=\"preset.name+ '-layer'\"\n      :source=\"{\n        type: 'geojson',\n        data: layer,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      :layer-id=\"preset.name+ '-layer'\"\n      :layer=\"{\n        interactive: true,\n        type: 'line',\n        minzoom: 5,\n        paint: {\n          'line-color': ['get', 'display_color'],\n          'line-opacity':opacity/100,\n          'line-offset': ['*',offsetValue*0.5,['to-number', ['get', 'display_width']]],\n\n          'line-width': ['get', 'display_width'],\n        },\n        layout: {\n          'line-sort-key': ['to-number',['get', 'display_width']],\n          'line-cap': 'round',\n        }\n      }\"\n    />\n    <MglGeojsonLayer\n      v-if=\"type == 'Point'\"\n      :source-id=\"preset.name+ '-layer'\"\n      :source=\"{\n        type: 'geojson',\n        data: layer,\n      }\"\n      :layer-id=\"preset.name+ '-layer'\"\n      :layer=\"{\n        interactive: false,\n        type: 'circle',\n        minzoom: 5,\n        paint: {\n          'circle-color': ['get', 'display_color'],\n          'circle-radius': ['get', 'display_width'],\n          'circle-opacity':opacity/100,\n        },\n        layout: {\n          'circle-sort-key': ['to-number',['get', 'display_width']],\n        }\n      }\"\n    />\n    <MglGeojsonLayer\n      v-if=\"type == 'extrusion'\"\n      :source-id=\"preset.name+ '-layer'\"\n      :source=\"{\n        type: 'geojson',\n        data: layer,\n      }\"\n      :layer-id=\"preset.name+ '-layer'\"\n      :layer=\"{\n        interactive: false,\n        type: 'fill-extrusion',\n        minzoom: 5,\n        'paint': {\n          'fill-extrusion-color':['get', 'display_color'],\n          'fill-extrusion-opacity': opacity/100,\n          'fill-extrusion-height':['*',1000,['to-number', ['get', 'display_width']]],\n\n        },\n\n      }\"\n    />\n  </section>\n</template>\n\n<style lang=\"scss\" scoped>\n.map-legend {\n  height: 100%;\n  bottom:0px;\n  position: absolute;\n}\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaticLayer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaticLayer.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaticLayer.vue?vue&type=style&index=0&id=7f9433fe&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaticLayer.vue?vue&type=style&index=0&id=7f9433fe&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./StaticLayer.vue?vue&type=template&id=7f9433fe&scoped=true&\"\nimport script from \"./StaticLayer.vue?vue&type=script&lang=js&\"\nexport * from \"./StaticLayer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StaticLayer.vue?vue&type=style&index=0&id=7f9433fe&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f9433fe\",\n  null\n  \n)\n\nexport default component.exports","import { store } from '@src/store/index.js'\nimport AWS from 'aws-sdk'\nimport JSZip from 'jszip'\nimport saveAs from 'file-saver'\nimport md5 from 'crypto-js/md5'\n\nconst USERPOOL_ID = process.env.VUE_APP_COGNITO_USERPOOL_ID\nconst IDENTITY_POOL_ID = process.env.VUE_APP_COGNITO_IDENTITY_POOL_ID\nconst REGION = process.env.VUE_APP_COGNITO_REGION\n\nAWS.config.region = REGION\nconst s3Client = new AWS.S3({\n  apiVersion: '2006-03-01',\n  signatureVersion: 'v4',\n  params: { region: REGION },\n})\n\nasync function readJson (bucket, key) {\n  const params = { Bucket: bucket, Key: key, ResponseCacheControl: 'no-cache' }\n  // const params = { Bucket: bucket, Key: key }\n\n  const response = await s3Client.getObject(params).promise() // await the promise\n  const fileContent = JSON.parse(new TextDecoder('utf-8').decode(response.Body).trim())\n  return fileContent\n}\n\nasync function readBytes (bucket, key) {\n  const params = { Bucket: bucket, Key: key, ResponseCacheControl: 'no-cache' }\n  // const params = { Bucket: bucket, Key: key }\n  const response = await s3Client.getObject(params).promise() // await the promise\n  const fileContent = response.Body // can also do 'base64' here if desired\n  return fileContent\n}\nasync function downloadFolder (bucket, prefix) {\n  // zip everything in a folder. keep filename. Folder structure will not work.\n  const zip = new JSZip()\n  if (prefix.slice(-1) !== '/') { prefix = prefix + '/' }\n  const params = { Bucket: bucket, Prefix: prefix }\n  const response = await s3Client.listObjectsV2(params).promise()\n  if (response.Contents.length === 0) throw new Error('no params.json in base scenario')\n  for (const file of response.Contents) {\n    const fileName = file.Key.split('/').slice(-1)[0]\n    const params = { Bucket: bucket, Key: file.Key, ResponseCacheControl: 'no-cache' }\n    const response = await s3Client.getObject(params).promise()\n    zip.file(fileName, response.Body)\n  }\n\n  zip.generateAsync({ type: 'blob' }).then(function (content) {\n    saveAs(content, 'example.zip')\n  })\n}\n\nasync function listFiles (bucket, prefix) {\n  if (Array.isArray(prefix)) {\n    const paths = []\n    prefix.forEach(async pref => {\n      if (pref.slice(-1) !== '/') { pref = pref + '/' }\n      const params = { Bucket: bucket, Prefix: pref }\n      const Content = await s3Client.listObjectsV2(params).promise()\n      paths.push(...Content.Contents.map(item => item.Key))\n    })\n    return paths\n  } else {\n    if (prefix.slice(-1) !== '/') { prefix = prefix + '/' }\n    const params = { Bucket: bucket, Prefix: prefix }\n    const Content = await s3Client.listObjectsV2(params).promise()\n    return Content.Contents.map(item => item.Key)\n  }\n}\nasync function getImagesURL (bucket, key) {\n  const presignedGETURL = s3Client.getSignedUrl('getObject', {\n    Bucket: bucket,\n    Key: key, // filename\n    Expires: 86400, // time to expire in seconds\n  })\n  return presignedGETURL\n}\n\nasync function copyFolder (bucket, prefix, newName) {\n  if (prefix.slice(-1) !== '/') { prefix = prefix + '/' }\n  const params = { Bucket: bucket, Prefix: prefix }\n  const response = await s3Client.listObjectsV2(params).promise()\n  response.Contents = response.Contents.filter(el => el.Key !== (prefix + '.lock'))\n  if (response.Contents.length === 0) throw new Error('no params.json in base scenario')\n  for (const file of response.Contents) {\n    let newFile = file.Key.split('/')\n    newFile[0] = newName\n    newFile = newFile.join('/')\n    // need to encode special character ( for example).\n    let oldPath = file.Key.split('/')\n    oldPath[0] = encodeURIComponent(oldPath[0])\n    oldPath = oldPath.join('/')\n\n    const copyParams = {\n      Bucket: bucket,\n      CopySource: bucket + '/' + oldPath,\n      Key: newFile,\n    }\n    s3Client.copyObject(copyParams, function (err, data) {\n      if (err) return err // an error occurred\n    })\n  }\n}\n\nasync function newScenario (bucket, prefix, newName) {\n  if (prefix.slice(-1) !== '/') { prefix = prefix + '/' }\n  const filesToCopy = [\n    prefix + 'inputs/params.json',\n    prefix + 'styles.json',\n    prefix + 'attributesChoices.json',\n  ]\n  const params = { Bucket: bucket, Prefix: prefix }\n  const response = await s3Client.listObjectsV2(params).promise()\n  response.Contents = response.Contents.filter(el => filesToCopy.includes(el.Key))\n\n  if (response.Contents.length === 0) throw new Error('Nothing to copy in base scenario (params.json at least)')\n  for (const file of response.Contents) {\n    let newFile = file.Key.split('/')\n    newFile[0] = newName\n    newFile = newFile.join('/')\n    // need to encore special character ( for example).\n    let oldPath = file.Key.split('/')\n    oldPath[0] = encodeURIComponent(oldPath[0])\n    oldPath = oldPath.join('/')\n\n    const copyParams = {\n      Bucket: bucket,\n      CopySource: bucket + '/' + oldPath,\n      Key: newFile,\n    }\n    s3Client.copyObject(copyParams, function (err, data) {\n      if (err) return err // an error occurred\n    })\n  }\n}\n\nasync function deleteFolder (bucket, prefix) {\n  if (prefix.slice(-1) !== '/') { prefix = prefix + '/' }\n  const params = { Bucket: bucket, Prefix: prefix }\n  const response = await s3Client.listObjectsV2(params).promise()\n  const arr = []\n  if (response.Contents.length > 0) {\n    response.Contents.forEach(file => arr.push({ Key: file.Key }))\n    const deleteParams = { Bucket: bucket, Delete: { Objects: arr } }\n    return s3Client.deleteObjects(deleteParams).promise()\n  }\n}\n\nasync function createFolder (bucket, key) {\n  // create an empty folder\n  if (key.slice(-1) !== '/') { key = key + '/' }\n  const params = { Bucket: bucket, Key: key, Body: '' }\n\n  s3Client.upload(params, function (err, data) {\n    if (err) {\n      store.commit('changeAlert', err)\n    } else {\n      console.log('Successfully created a folder on S3')\n    }\n  })\n}\nasync function putObject (bucket, key, body = '') {\n  const oldChecksum = await getChecksum(bucket, key)\n  const newChecksum = md5(JSON.stringify(body)).toString()\n  if (oldChecksum !== newChecksum) {\n    const params = {\n      Bucket: bucket,\n      Key: key,\n      Body: body,\n      Metadata: { user_email: store.getters.cognitoInfo.email, checksum: newChecksum },\n      ContentType: ' application/json',\n    }\n    const resp = await s3Client.putObject(params).promise()\n    return resp\n  } else { return 'no changes' }\n}\n\nfunction uploadObject (bucket, key, body = '') {\n  const checksum = md5(JSON.stringify(body)).toString()\n  const params = {\n    Bucket: bucket,\n    Key: key,\n    Body: body,\n    Metadata: { user_email: store.getters.cognitoInfo.email, checksum: checksum },\n  }\n  const upload = s3Client.upload(params)\n  return upload\n}\n\nasync function getScenario (bucket) {\n  // list all files in bucket\n  const params = { Bucket: bucket }\n  let moreToLoad = true\n  const list = []\n  try {\n    while (moreToLoad) {\n      const { Contents, IsTruncated, NextContinuationToken } = await s3Client.listObjectsV2(params).promise()\n      list.push(...Contents)\n      moreToLoad = IsTruncated\n      params.ContinuationToken = NextContinuationToken\n    }\n  } catch (err) { return [] }\n\n  // get list of scenarios (unique prefix)\n  const scenarios = Array.from(new Set(list.map(name => name.Key.split('/')[0])))\n  // scenarios = scenarios.filter(scen => scen !== 'quenedi.config.json')\n  const scenList = []\n  for (const scen of scenarios) {\n    let files = list.filter(item => item.Key.startsWith(scen + '/'))\n    // if there is .lock file in the root dir of the scen. it is protected.\n    const lockedList = files.filter(item => item.Key.startsWith(scen + '/.lock'))\n    const isLocked = lockedList.length > 0 || scen === 'base'\n\n    // remove attributesChoices as an admin could changed it on every projects.\n    files = files.filter(file => !file.Key.endsWith('/attributesChoices.json'))\n    const maxDateObj = files.reduce((prev, current) => (prev.LastModified > current.LastModified) ? prev : current, [])\n    const maxDate = maxDateObj.LastModified.toLocaleDateString() + ' ' + maxDateObj.LastModified.toLocaleTimeString()\n    const timestamp = maxDateObj.LastModified.getTime()\n    // get user email metadata on newest object. undefined if empty or error.\n    let userEmail // this = undefined\n    try {\n      const resp = await s3Client.headObject({ Bucket: bucket, Key: maxDateObj.Key }).promise()\n      // if there is no email. it was a manual changed on S3 by an admin so we put idns-canada.\n      userEmail = resp.Metadata.user_email ? resp.Metadata.user_email : 'idns-canada@systra.com'\n    } catch (err) { store.commit('changeAlert', err) }\n    scenList.push({\n      model: bucket,\n      scenario: scen,\n      lastModified: maxDate,\n      timestamp: timestamp,\n      userEmail: userEmail,\n      protected: isLocked,\n    })\n  }\n  return scenList\n}\nasync function getChecksum (bucket, key) {\n  try {\n    const resp = await s3Client.headObject({ Bucket: bucket, Key: key }).promise()\n    return resp.Metadata.checksum\n  } catch (err) { return null }\n}\n\nexport default {\n  s3: s3Client,\n  async login () {\n    AWS.config.region = REGION\n    AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n      IdentityPoolId: IDENTITY_POOL_ID,\n      Logins: {\n        [`cognito-idp.${REGION}.amazonaws.com/${USERPOOL_ID}`]: store.getters.idToken,\n      },\n    })\n    s3Client.config.credentials = AWS.config.credentials\n  },\n\n  getScenario,\n  readJson,\n  readBytes,\n  listFiles,\n  copyFolder,\n  deleteFolder,\n  createFolder,\n  putObject,\n  getImagesURL,\n  downloadFolder,\n  newScenario,\n  uploadObject,\n  getChecksum,\n}\n","import { store } from '@src/store/index.js'\nimport jwtDecode from 'jwt-decode'\n\nimport { Auth } from 'aws-amplify'\n\nconst CLIENT_ID = process.env.VUE_APP_COGNITO_CLIENT_ID\nconst USERPOOL_ID = process.env.VUE_APP_COGNITO_USERPOOL_ID\nconst IDENTITY_POOL_ID = process.env.VUE_APP_COGNITO_IDENTITY_POOL_ID\n\nAuth.configure({\n\n  identityPoolId: IDENTITY_POOL_ID,\n  region: 'ca-central-1',\n  userPoolId: USERPOOL_ID,\n  userPoolWebClientId: CLIENT_ID,\n  mandatorySignIn: true,\n\n})\n\n// You can get the current config object\nAuth.configure()\n\nasync function login () {\n  const data = await Auth.currentSession()\n  const idToken = data.getIdToken().getJwtToken()\n  const sessionIdInfo = jwtDecode(idToken)\n  store.commit('setIdToken', idToken)\n  store.commit('setAccessToken', data.getAccessToken())\n  store.commit('setCognitoInfo', sessionIdInfo)\n  store.commit('setLoggedIn', true)\n  if (Object.keys(sessionIdInfo).includes('cognito:groups')) {\n    store.commit('setCognitoGroup', sessionIdInfo['cognito:groups'][0])\n  }\n}\nasync function signin (username, password) {\n  const resp = await Auth.signIn(username, password)\n  return resp\n}\nasync function completeNewPassword (user, newPassword) {\n  const resp = await Auth.completeNewPassword(user, newPassword)\n  return resp\n}\n\n// Auth.signOut()\nexport default {\n  login,\n  signin,\n  completeNewPassword,\n  async isUserSignedIn () {\n    try {\n      await Auth.currentAuthenticatedUser()\n      await login()\n      return true\n    } catch {\n      return false\n    }\n  },\n  logout () {\n    Auth.signOut()\n\n    store.commit('setLoggedOut')\n  },\n\n}\n","import axios from 'axios'\n\nconst quetzalClient = {\n  client: null,\n  login (idToken) {\n    this.client = axios.create({\n      baseURL: 'https://z0i1paj50k.execute-api.ca-central-1.amazonaws.com/prod',\n      withCredentials: false,\n      headers: {\n        'Accept': '*/*',\n        'Content-Type': 'application/json',\n        'Authorization': idToken,\n      },\n    })\n  },\n}\n\nconst axiosClient = {\n  async loginAll (idToken) {\n    quetzalClient.login(idToken)\n  },\n}\n\nexport { quetzalClient, axiosClient }\n","// import JSZip from 'jszip'\nconst $gettext = s => s\n\nfunction serializer (geojson, name, type = null, ignoreIndex = false) {\n  // check that file is not empty\n  if (geojson.features.length === 0) {\n    const err = new Error(name + $gettext(' is empty'))\n    err.name = 'ImportError'\n    throw err\n  }\n  // check CRS. no CRS or invalid\n  if (!['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(geojson.crs?.properties.name)) {\n    const err = new Error($gettext(' invalid CRS. Import aborted. use CRS84 / EPSG:4326 in ') + name)\n    err.name = 'ImportError'\n    throw err\n  }\n  // check Type (is links a linestring)\n  const currentType = geojson.features[0].geometry.type\n  if (currentType !== type && type !== null) {\n    const err = new Error(currentType + $gettext(' imported, Expected ') +\n    type + $gettext('. Import aborted in ') + name)\n    err.name = 'ImportError'\n    throw err\n  }\n  // check if there is indexes in the properties\n  if (!Object.keys(geojson.features[0].properties).includes('index') && !ignoreIndex) {\n    const err = new Error($gettext('there is no index in the File. you need unique index. Import aborted in ') + name)\n    err.name = 'ImportError'\n    throw err\n  }\n  // all good. return geojson.\n  return geojson\n}\n\nfunction paramsSerializer (json) {\n  if (!Array.isArray(json)) {\n    const err = new Error($gettext('params.json should be an array of object [{category: , params: }, ...]'))\n    err.name = 'ImportError'\n    throw err\n  }\n  const params = json.filter(item => !item?.info)\n  const contains = (a, b) => [...b].every(value => a.has(value))\n  const expectedKeys = new Set(['category', 'params'])\n  params.forEach(el => {\n    if (!contains(new Set(Object.keys(el)), expectedKeys)) {\n      const err = new Error($gettext('params.json should be an array of object [{category: , params: }, ...]'))\n      err.name = 'ImportError'\n      throw err\n    }\n  })\n  // if model key is not present. put default everywhere.\n  json.forEach(item => { if (!Object.keys(item).includes('model')) { item.model = 'default' } })\n  return json\n}\n\nfunction stylesSerializer (json) {\n  if (!Array.isArray(json)) {\n    // eslint-disable-next-line max-len\n    const err = new Error($gettext('styles.json should be an array of object with at least [{name:,layer:}]'))\n    err.name = 'ImportError'\n    throw err\n  }\n  json.forEach(el => {\n    if (!(Object.keys(el).includes('name')) || !(Object.keys(el).includes('layer'))) {\n      // eslint-disable-next-line max-len\n      const err = new Error($gettext('styles.json should be an array of object with at least [{name:,layer:}]'))\n      err.name = 'ImportError'\n      throw err\n    }\n  })\n  return json\n}\n\nexport { serializer, paramsSerializer, stylesSerializer }\n","import JSZip from 'jszip'\nimport { store } from '../../store/index.js'\nconst $gettext = s => s\n\nfunction readFileAsText (file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader()\n    reader.onload = function (event) {\n      resolve(event.target.result)\n    }\n    reader.onerror = function (event) {\n      reject(event.target.error)\n    }\n    reader.readAsText(file)\n  })\n}\n\nfunction readFileAsBytes (file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader()\n    reader.onload = function (event) {\n      const fileBytes = new Uint8Array(event.target.result)\n      resolve(fileBytes)\n    }\n    reader.onerror = function (event) {\n      reject(event.target.error)\n    }\n    reader.readAsArrayBuffer(file)\n  })\n}\n\nfunction checkPaths (paths) {\n  // check that the zip files contains with inputs/ or outputs/ (as root folders.)\n  const test = paths.filter(path => path.startsWith('inputs/') || path.startsWith('outputs/'))\n  if (test.length === 0) {\n    const err = new Error($gettext(' root folders should be inputs/ and outputs/. not: ') + paths[0])\n    err.name = 'ImportError'\n    throw err\n  }\n}\n\nasync function extractZip (file) {\n  const ZIP = new JSZip()\n  const zip = await ZIP.loadAsync(file)\n  let filesNames = Object.keys(zip.files)\n  filesNames = filesNames.filter(name => !name.match(/^__MACOSX\\//))\n  filesNames = filesNames.filter(name => !name.endsWith('/'))\n  checkPaths(filesNames)\n  // process ZIP file content here\n  const result = []\n  for (let i = 0; i < filesNames.length; i++) {\n    const str = await zip.file(filesNames[i]).async('string')\n    let content = {}\n    if (filesNames[i].endsWith('.json') || filesNames[i].endsWith('.geojson')) {\n      try {\n        content = JSON.parse(str)\n      } catch (err) {\n        err.name = 'ImportError in ' + filesNames[i]\n        throw err\n      }\n    } else {\n      content = await zip.file(filesNames[i]).async('uint8array')\n    }\n    // import with new fileStructure (inputs, outputs folder in zip)\n\n    result.push({ path: filesNames[i], content: content })\n  }\n  return result\n}\n\nfunction getGroupForm (features, lineAttributes, uneditable) {\n  const form = {}\n  lineAttributes.forEach(key => {\n    const val = new Set(features.map(link => link.properties[key]))\n    form[key] = {\n      value: val.size > 1 ? '' : [...val][0],\n      disabled: uneditable.includes(key),\n      placeholder: val.size > 1,\n    }\n  })\n  return form\n}\n\nfunction indexAreUnique (geojson) {\n  // check if all index are unique in a geojson (links or nodes)\n  // return true if they are unique\n  let indexArr = []\n  if (geojson?.features.length > 0) {\n    indexArr = geojson.features.map(item => item.properties.index)\n    return (new Set(indexArr).size === indexArr.length)\n  } else { return true } // if its empty, return true\n}\n\nfunction IndexAreDifferent (geojsonA, geojsonB) {\n  // check if index are duplicated between geojsons (to append new links or nodes) (links or nodes)\n  // return true if they are all unique\n  const linksIndex = new Set(geojsonA.features.map(item => item.properties.index))\n  const newLinksIndex = new Set(geojsonB.features.map(item => item.properties.index))\n  return (new Set([...linksIndex, ...newLinksIndex]).size === (linksIndex.size + newLinksIndex.size))\n}\n\nfunction createIndex (geojson, type, prefix) {\n  // not done. we should check links and node as there is nodes index in links (a,b)\n  switch (type) {\n    case 'PT':\n      // eslint-disable-next-line no-case-declarations\n      const len = store.getters.links.features.length\n      // eslint-disable-next-line no-return-assign\n      geojson.features.forEach((feat, index) => feat.properties.index = prefix + (index + len))\n      break\n    case 'road':\n      break\n  }\n}\n\nasync function unzip (file) {\n  // unzip a file and return a json (solo json zipped)\n  const ZIP = new JSZip()\n  const zip = await ZIP.loadAsync(file)\n  const filesNames = Object.keys(zip.files)\n  console.log(filesNames)\n  const str = await zip.file(filesNames[0]).async('string')\n  const content = JSON.parse(str)\n  return content\n}\n\n// https://stackoverflow.com/questions/27979002/convert-csv-data-into-json-format-using-javascript\nfunction csvJSON (bytes) {\n  const csv = new TextDecoder().decode(bytes)\n  let lines = csv.split('\\n')\n  lines = lines.map(line => line.replace(/\\r/g, ''))\n  lines = lines.filter(line => line.length > 0)\n  const result = []\n  // NOTE: If your columns contain commas in their values, you'll need\n  // to deal with those before doing the next step\n  // (you might convert them to &&& or something, then covert them back later)\n  // jsfiddle showing the issue https://jsfiddle.net/\n  // if (lines.length > 100000) {\n\n  //  return [{ error: 'too many lines' }]\n  // }\n  const headers = lines[0].split(',')\n  for (let i = 1; i < lines.length; i++) {\n    const obj = {}\n    const currentline = lines[i].split(',')\n\n    for (let j = 0; j < headers.length; j++) {\n      // convert to number if possible\n      obj[headers[j]] = Number(currentline[j]) ? Number(currentline[j]) : currentline[j]\n    }\n\n    result.push(obj)\n  }\n  // return result; //JavaScript object\n  return result\n}\n\nasync function unzipCalendar (file) {\n  // unzip a file and return a json (solo json zipped)\n  const ZIP = new JSZip()\n  const zip = await ZIP.loadAsync(file)\n  const filesNames = Object.keys(zip.files)\n  if (filesNames.includes('calendar.txt')) {\n    const bytes = await zip.file('calendar.txt').async('uint8array')\n    const content = csvJSON(bytes)\n    return content\n  }\n\n  return {}\n}\n\nfunction generatePassword (length) {\n  const lowercaseChars = 'abcdefghijklmnopqrstuvwxyz'\n  const uppercaseChars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n  const numbers = '0123456789'\n  const symbols = '@$!%*?&_'\n\n  const allChars = lowercaseChars + uppercaseChars + numbers + symbols\n\n  let password = ''\n\n  // Ensure at least one character from each character set\n  password += getRandomChar(lowercaseChars)\n  password += getRandomChar(uppercaseChars)\n  password += getRandomChar(numbers)\n  password += getRandomChar(symbols)\n\n  // Fill the rest of the password\n  for (let i = password.length; i < length; i++) {\n    password += getRandomChar(allChars)\n  }\n\n  // Shuffle the password to randomize the order\n  password = shuffleString(password)\n\n  return password\n}\n\nfunction getRandomChar (characterSet) {\n  const randomIndex = Math.floor(Math.random() * characterSet.length)\n  return characterSet.charAt(randomIndex)\n}\n\nfunction shuffleString (str) {\n  const array = str.split('')\n  for (let i = array.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [array[i], array[j]] = [array[j], array[i]]\n  }\n  return array.join('')\n}\n\nexport {\n  readFileAsText,\n  readFileAsBytes,\n  extractZip,\n  getGroupForm,\n  indexAreUnique,\n  createIndex,\n  IndexAreDifferent,\n  unzip,\n  csvJSON,\n  unzipCalendar,\n  generatePassword,\n}\n","// this files contains all available highways and associated constant.\nconst highwayList = [\n  'motorway',\n  'motorway_link',\n  'trunk',\n  'trunk_link',\n  'primary',\n  'primary_link',\n  'secondary',\n  'secondary_link',\n  'tertiary',\n  'tertiary_link',\n  'residential',\n  'living_street',\n  'service',\n  'unclassified',\n  'cycleway',\n  'pedestrian',\n]\n\nconst highwayColor = {\n  motorway: 'E892A2',\n  motorway_link: 'E892A2',\n  trunk: 'E892A2',\n  trunk_link: 'E892A2',\n  primary: 'FCD6A4',\n  primary_link: 'FCD6A4',\n  secondary: 'F7F9BE',\n  secondary_link: 'F7F9BE',\n  tertiary: '808080',\n  tertiary_link: '808080',\n  residential: '808080',\n  living_street: '808080',\n  service: '808080',\n  unclassified: '808080',\n  cycleway: '1D8621',\n  pedestrian: '1D8621',\n}\n\nconst highwayWidth = {\n  motorway: 4,\n  motorway_link: 4,\n  trunk: 4,\n  trunk_link: 4,\n  primary: 4,\n  primary_link: 4,\n  secondary: 3,\n  secondary_link: 3,\n  tertiary: 2,\n  tertiary_link: 2,\n  residential: 2,\n  living_street: 2,\n  service: 2,\n  unclassified: 2,\n  cycleway: 2,\n  pedestrian: 2,\n}\n\nexport { highwayList, highwayColor, highwayWidth }\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./app.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./app.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-app\",\n    { staticClass: \"app\" },\n    [\n      _c(\"NavigationDrawer\"),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        {\n          directives: [\n            {\n              name: \"resize\",\n              rawName: \"v-resize\",\n              value: _vm.onResize,\n              expression: \"onResize\",\n            },\n          ],\n          ref: \"container\",\n          staticClass: \"container\",\n        },\n        [\n          _c(\"Toolbar\"),\n          _vm._v(\" \"),\n          _c(\"transition\", { attrs: { name: \"fade\" } }, [_c(\"router-view\")], 1),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-overlay\",\n        { attrs: { value: _vm.loading } },\n        [\n          _c(\"v-progress-circular\", {\n            attrs: { indeterminate: \"\", size: \"64\" },\n          }),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-snackbar\",\n        {\n          class: `snackbar-${_vm.notification.type}`,\n          attrs: {\n            timeout: _vm.notification.autoClose ? 3000 : -1,\n            transition: \"slide-y-reverse-transition\",\n            color: _vm.notification.color ? _vm.notification.color : \"white\",\n          },\n          scopedSlots: _vm._u([\n            {\n              key: \"action\",\n              fn: function ({ attrs }) {\n                return [\n                  _c(\n                    \"v-btn\",\n                    _vm._b(\n                      {\n                        attrs: { small: \"\", color: \"secondarydark\", text: \"\" },\n                        on: { click: _vm.closeSnackbar },\n                      },\n                      \"v-btn\",\n                      attrs,\n                      false\n                    ),\n                    [\n                      _vm._v(\n                        \"\\n        \" +\n                          _vm._s(_vm.$gettext(\"Close\")) +\n                          \"\\n      \"\n                      ),\n                    ]\n                  ),\n                ]\n              },\n            },\n          ]),\n          model: {\n            value: _vm.snackbar,\n            callback: function ($$v) {\n              _vm.snackbar = $$v\n            },\n            expression: \"snackbar\",\n          },\n        },\n        [\n          _c(\"span\", { staticClass: \"snackbar-text\" }, [\n            _vm._v(\n              \"\\n      \" +\n                _vm._s(_vm.$gettext(_vm.notification.text)) +\n                \"\\n    \"\n            ),\n          ]),\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\"Alert\"),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-toolbar\",\n    { class: \"app-toolbar elevation-4\", attrs: { dense: \"\" } },\n    [\n      _c(\"v-img\", {\n        attrs: {\n          src: require(\"@static/systra_logo.png\"),\n          contain: \"\",\n          \"max-width\": \"6rem\",\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\"span\", { staticClass: \"copyright\" }, [_vm._v(\"\")]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"app-name\" }, [\n        _vm._v(\"\\n    Quetzal Network Editor\\n  \"),\n      ]),\n      _vm._v(\" \"),\n      _c(\"v-spacer\"),\n      _vm._v(\" \"),\n      _c(\"div\", [_c(\"ScenariosExplorer\")], 1),\n      _vm._v(\" \"),\n      _c(\"v-spacer\"),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        [\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              attrs: {\n                                icon: \"\",\n                                href: \"https://github.com/systragroup/quetzal-network-editor\",\n                                target: \"_blank\",\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", [\n                            _vm._v(\"\\n            fab fa-github\\n          \"),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [_vm._v(\" \"), _c(\"span\", [_vm._v(\"GitHub\")])]\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"switch\" },\n        [\n          _c(\"v-switch\", {\n            attrs: { \"append-icon\": \"fas fa-moon\" },\n            model: {\n              value: _vm.$vuetify.theme.dark,\n              callback: function ($$v) {\n                _vm.$set(_vm.$vuetify.theme, \"dark\", $$v)\n              },\n              expression: \"$vuetify.theme.dark\",\n            },\n          }),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        [\n          _c(\n            \"v-menu\",\n            {\n              attrs: {\n                \"offset-y\": \"\",\n                \"close-delay\": \"100\",\n                transition: \"slide-y-transition\",\n              },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on: on, attrs: attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"language active\",\n                              attrs: { text: \"\" },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$language.current) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\n                \"v-list\",\n                _vm._l(_vm.$language.available, function (language, lang) {\n                  return _c(\n                    \"v-list-item\",\n                    {\n                      key: lang,\n                      class: language,\n                      on: { click: () => _vm.handleChangeLanguage(lang) },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(language.toUpperCase()) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  )\n                }),\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"div\", [_c(\"Profile\")], 1),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _vm.loggedIn\n        ? _c(\n            \"v-menu\",\n            {\n              attrs: {\n                \"close-on-content-click\": false,\n                \"close-on-click\": false,\n                \"nudge-width\": 250,\n                \"offset-x\": \"\",\n                \"offset-y\": \"\",\n              },\n              scopedSlots: _vm._u(\n                [\n                  {\n                    key: \"activator\",\n                    fn: function ({ on, attrs }) {\n                      return [\n                        _vm.loggedIn\n                          ? _c(\n                              \"v-avatar\",\n                              _vm._g(\n                                _vm._b(\n                                  { attrs: { size: \"34\", color: \"primary\" } },\n                                  \"v-avatar\",\n                                  attrs,\n                                  false\n                                ),\n                                on\n                              ),\n                              [\n                                _c(\n                                  \"span\",\n                                  { staticClass: \"white--text text-h6\" },\n                                  [_vm._v(_vm._s(_vm.initial))]\n                                ),\n                              ]\n                            )\n                          : _vm._e(),\n                      ]\n                    },\n                  },\n                ],\n                null,\n                false,\n                1889523868\n              ),\n              model: {\n                value: _vm.menu,\n                callback: function ($$v) {\n                  _vm.menu = $$v\n                },\n                expression: \"menu\",\n              },\n            },\n            [\n              _vm._v(\" \"),\n              _c(\n                \"v-card\",\n                { attrs: { width: \"20rem\" } },\n                [\n                  _c(\n                    \"v-list\",\n                    [\n                      _c(\n                        \"v-list-item\",\n                        [\n                          _c(\n                            \"v-avatar\",\n                            {\n                              style: { \"margin-right\": \"1rem\" },\n                              attrs: { size: \"34\", color: \"primary\" },\n                            },\n                            [\n                              _c(\n                                \"span\",\n                                { staticClass: \"white--text text-h6\" },\n                                [_vm._v(_vm._s(_vm.initial))]\n                              ),\n                            ]\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-list-item-content\",\n                            [\n                              _c(\"v-list-item-title\", [\n                                _vm._v(\n                                  _vm._s(\n                                    _vm.cognitoInfo.given_name +\n                                      \" \" +\n                                      _vm.cognitoInfo.family_name\n                                  )\n                                ),\n                              ]),\n                              _vm._v(\" \"),\n                              _c(\"v-list-item-subtitle\", [\n                                _vm._v(_vm._s(_vm.cognitoInfo.email)),\n                              ]),\n                            ],\n                            1\n                          ),\n                        ],\n                        1\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"v-divider\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-list-item\",\n                    [\n                      _c(\n                        \"v-list-item-content\",\n                        [\n                          _c(\"v-select\", {\n                            attrs: {\n                              label: _vm.$gettext(\"Team\"),\n                              disabled: _vm.groups.length <= 1,\n                              items: _vm.groups,\n                            },\n                            model: {\n                              value: _vm.selectedGroup,\n                              callback: function ($$v) {\n                                _vm.selectedGroup = $$v\n                              },\n                              expression: \"selectedGroup\",\n                            },\n                          }),\n                        ],\n                        1\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"v-divider\"),\n                  _vm._v(\" \"),\n                  _vm._l(_vm.users, function (user) {\n                    return _c(\n                      \"v-list-item\",\n                      { key: user.Username },\n                      [\n                        _vm.showMore\n                          ? _c(\n                              \"v-btn\",\n                              { attrs: { icon: \"\" } },\n                              [\n                                _c(\n                                  \"v-icon\",\n                                  {\n                                    attrs: {\n                                      small: \"\",\n                                      color: \"error\",\n                                      disabled:\n                                        user.Username ===\n                                        _vm.cognitoInfo[\"cognito:username\"],\n                                    },\n                                    on: {\n                                      click: function ($event) {\n                                        return _vm.deleteUserButton(user)\n                                      },\n                                    },\n                                  },\n                                  [\n                                    _vm._v(\n                                      \"\\n            fas fa-trash\\n          \"\n                                    ),\n                                  ]\n                                ),\n                              ],\n                              1\n                            )\n                          : _vm._e(),\n                        _vm._v(\" \"),\n                        _c(\n                          \"v-list-item-content\",\n                          [\n                            _c(\"v-list-item-title\", [\n                              _vm._v(_vm._s(user.Username)),\n                            ]),\n                            _vm._v(\" \"),\n                            _c(\"v-list-item-subtitle\", [\n                              _vm._v(\n                                \"\\n            \" +\n                                  _vm._s(user.email) +\n                                  \"\\n          \"\n                              ),\n                            ]),\n                          ],\n                          1\n                        ),\n                      ],\n                      1\n                    )\n                  }),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-card-actions\",\n                    [\n                      _c(\n                        \"v-btn\",\n                        {\n                          attrs: { color: \"success\", outlined: \"\" },\n                          on: {\n                            click: function ($event) {\n                              return _vm.createUserButton()\n                            },\n                          },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$gettext(\"create user\")) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"v-divider\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-card-actions\",\n                    [\n                      _c(\n                        \"v-btn\",\n                        {\n                          attrs: { icon: \"\", \"x-small\": \"\" },\n                          on: { click: _vm.toggleShowMore },\n                        },\n                        [\n                          _vm.showMore\n                            ? _c(\"v-icon\", [\n                                _vm._v(\n                                  \"\\n            fas fa-minus-circle fa-rotate-90\\n          \"\n                                ),\n                              ])\n                            : _c(\"v-icon\", [\n                                _vm._v(\n                                  \"\\n            fas fa-minus-circle\\n          \"\n                                ),\n                              ]),\n                        ],\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\"v-spacer\"),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          attrs: { color: \"primary\", text: \"\" },\n                          on: { click: _vm.logout },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$gettext(\"logout\")) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                2\n              ),\n            ],\n            1\n          )\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\n        \"v-menu\",\n        {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value: !_vm.loggedIn,\n              expression: \"!loggedIn\",\n            },\n          ],\n          attrs: {\n            \"close-on-content-click\": false,\n            \"close-on-click\": true,\n            \"nudge-width\": 300,\n            \"offset-x\": \"\",\n            \"offset-y\": \"\",\n          },\n          scopedSlots: _vm._u([\n            {\n              key: \"activator\",\n              fn: function ({ on, attrs }) {\n                return [\n                  _c(\n                    \"v-btn\",\n                    _vm._g(\n                      _vm._b(\n                        {\n                          directives: [\n                            {\n                              name: \"show\",\n                              rawName: \"v-show\",\n                              value: !_vm.loggedIn,\n                              expression: \"!loggedIn\",\n                            },\n                          ],\n                          attrs: { icon: \"\" },\n                        },\n                        \"v-btn\",\n                        attrs,\n                        false\n                      ),\n                      on\n                    ),\n                    [\n                      _c(\"v-icon\", [\n                        _vm._v(\"\\n          fas fa-sign-in-alt\\n        \"),\n                      ]),\n                    ],\n                    1\n                  ),\n                ]\n              },\n            },\n          ]),\n          model: {\n            value: _vm.ui,\n            callback: function ($$v) {\n              _vm.ui = $$v\n            },\n            expression: \"ui\",\n          },\n        },\n        [\n          _vm._v(\" \"),\n          _vm.ui ? _c(\"Signin\", { on: { signin: _vm.signin } }) : _vm._e(),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { persistent: \"\", \"max-width\": \"350\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.applyDialog.apply(null, arguments)\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                return (() => (_vm.showDialog = false)).apply(null, arguments)\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _vm.action === \"logout\"\n                ? _c(\"v-card-title\", { staticClass: \"text-h4\" }, [\n                    _vm._v(\n                      \"\\n        \" +\n                        _vm._s(_vm.$gettext(\"Sign out\")) +\n                        \"\\n      \"\n                    ),\n                  ])\n                : _vm.action === \"createUser\"\n                ? _c(\"v-card-title\", { staticClass: \"text-h4\" }, [\n                    _vm._v(\n                      \"\\n        \" +\n                        _vm._s(_vm.$gettext(\"Create User\")) +\n                        \"\\n      \"\n                    ),\n                  ])\n                : _vm.action === \"deleteUser\"\n                ? _c(\"v-card-title\", { staticClass: \"text-h4\" }, [\n                    _vm._v(\n                      \"\\n        \" +\n                        _vm._s(\n                          _vm.$gettext(\"delete User\") +\n                            \" \" +\n                            _vm.selectedUsername +\n                            \" ?\"\n                        ) +\n                        \"\\n      \"\n                    ),\n                  ])\n                : _vm._e(),\n              _vm._v(\" \"),\n              _vm.action === \"logout\"\n                ? _c(\"v-card-text\", { staticClass: \"text-h8\" }, [\n                    _vm._v(\n                      \"\\n        \" +\n                        _vm._s(_vm.$gettext(\"This action will sign you out\")) +\n                        \"\\n      \"\n                    ),\n                  ])\n                : _vm.action === \"createUser\"\n                ? _c(\"v-card-text\", { staticClass: \"text-h8\" }, [\n                    _vm._v(\n                      \"\\n        \" +\n                        _vm._s(\n                          _vm.$gettext(\n                            \"create a new user in your user group. Please shared the temporary password with him/her as the invitation email could be blocked by the organization\"\n                          )\n                        ) +\n                        \"\\n      \"\n                    ),\n                  ])\n                : _vm.action === \"deleteUser\"\n                ? _c(\"v-card-text\", { staticClass: \"text-h8\" }, [\n                    _vm._v(\n                      \"\\n        \" +\n                        _vm._s(\n                          _vm.$gettext(\n                            \"This will permanently delete the user account.\"\n                          )\n                        ) +\n                        \"\\n      \"\n                    ),\n                  ])\n                : _vm._e(),\n              _vm._v(\" \"),\n              _vm.action == \"createUser\"\n                ? _c(\n                    \"v-form\",\n                    {\n                      ref: \"form\",\n                      staticClass: \"form\",\n                      attrs: { \"lazy-validation\": \"\" },\n                    },\n                    [\n                      _c(\"v-text-field\", {\n                        attrs: {\n                          label: _vm.$gettext(\"username\"),\n                          rules: [_vm.rules[\"required\"]],\n                          required: \"\",\n                        },\n                        model: {\n                          value: _vm.userForm.username,\n                          callback: function ($$v) {\n                            _vm.$set(_vm.userForm, \"username\", $$v)\n                          },\n                          expression: \"userForm.username\",\n                        },\n                      }),\n                      _vm._v(\" \"),\n                      _c(\"v-text-field\", {\n                        attrs: {\n                          label: _vm.$gettext(\"first name\"),\n                          rules: [_vm.rules[\"required\"]],\n                          required: \"\",\n                        },\n                        model: {\n                          value: _vm.userForm.given_name,\n                          callback: function ($$v) {\n                            _vm.$set(_vm.userForm, \"given_name\", $$v)\n                          },\n                          expression: \"userForm.given_name\",\n                        },\n                      }),\n                      _vm._v(\" \"),\n                      _c(\"v-text-field\", {\n                        attrs: {\n                          rules: [_vm.rules[\"required\"]],\n                          label: _vm.$gettext(\"last name\"),\n                          required: \"\",\n                        },\n                        model: {\n                          value: _vm.userForm.family_name,\n                          callback: function ($$v) {\n                            _vm.$set(_vm.userForm, \"family_name\", $$v)\n                          },\n                          expression: \"userForm.family_name\",\n                        },\n                      }),\n                      _vm._v(\" \"),\n                      _c(\"v-text-field\", {\n                        attrs: {\n                          rules: [_vm.rules[\"required\"], _vm.rules[\"email\"]],\n                          label: _vm.$gettext(\"email address\"),\n                          required: \"\",\n                        },\n                        model: {\n                          value: _vm.userForm.email,\n                          callback: function ($$v) {\n                            _vm.$set(_vm.userForm, \"email\", $$v)\n                          },\n                          expression: \"userForm.email\",\n                        },\n                      }),\n                      _vm._v(\" \"),\n                      _c(\"v-text-field\", {\n                        attrs: {\n                          label: _vm.$gettext(\"temporary password\"),\n                          rules: [\n                            _vm.rules[\"required\"],\n                            _vm.rules[\"length\"],\n                            _vm.rules[\"password\"],\n                          ],\n                          required: \"\",\n                        },\n                        model: {\n                          value: _vm.userForm.password,\n                          callback: function ($$v) {\n                            _vm.$set(_vm.userForm, \"password\", $$v)\n                          },\n                          expression: \"userForm.password\",\n                        },\n                      }),\n                    ],\n                    1\n                  )\n                : _vm._e(),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\" },\n                      on: { click: () => (_vm.showDialog = !_vm.showDialog) },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"No\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"primary\" },\n                      on: { click: _vm.applyDialog },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Yes\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"v-card\",\n        {\n          staticClass: \"signin\",\n          class: { shake: _vm.shake },\n          on: {\n            keydown: function ($event) {\n              if (\n                !$event.type.indexOf(\"key\") &&\n                _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n              )\n                return null\n              return _vm.signin()\n            },\n          },\n        },\n        [\n          _c(\"v-card-title\", { staticClass: \"text-h4\" }, [\n            _vm._v(\n              \"\\n      \" +\n                _vm._s(\n                  _vm.newPasswordUI\n                    ? _vm.$gettext(\"New password\")\n                    : _vm.$gettext(\"Sign In\")\n                ) +\n                \"\\n    \"\n            ),\n          ]),\n          _vm._v(\" \"),\n          _c(\n            \"v-card-text\",\n            {\n              staticClass: \"text-h8\",\n              staticStyle: { \"{'padding-bottom'\": \"'0.5rem'}\" },\n            },\n            [\n              _vm._v(\n                \"\\n      \" +\n                  _vm._s(\n                    _vm.$gettext(\"Sign in with username or email address.\")\n                  ) +\n                  \"\\n    \"\n              ),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-form\",\n            { ref: \"form\", attrs: { \"lazy-validation\": \"\" } },\n            [\n              !_vm.newPasswordUI\n                ? _c(\"v-text-field\", {\n                    attrs: {\n                      label: \"username\",\n                      required: \"\",\n                      rules: [_vm.rules.required],\n                    },\n                    model: {\n                      value: _vm.username,\n                      callback: function ($$v) {\n                        _vm.username = $$v\n                      },\n                      expression: \"username\",\n                    },\n                  })\n                : _vm._e(),\n              _vm._v(\" \"),\n              !_vm.newPasswordUI\n                ? _c(\"v-text-field\", {\n                    attrs: {\n                      label: \"password\",\n                      required: \"\",\n                      rules: [_vm.rules.required],\n                      type: \"password\",\n                    },\n                    model: {\n                      value: _vm.password,\n                      callback: function ($$v) {\n                        _vm.password = $$v\n                      },\n                      expression: \"password\",\n                    },\n                  })\n                : _vm._e(),\n              _vm._v(\" \"),\n              _vm.newPasswordUI\n                ? _c(\"v-text-field\", {\n                    attrs: {\n                      label: \"new password\",\n                      required: \"\",\n                      rules: [_vm.rules.required, _vm.rules.password],\n                      type: \"password\",\n                    },\n                    model: {\n                      value: _vm.newPassword,\n                      callback: function ($$v) {\n                        _vm.newPassword = $$v\n                      },\n                      expression: \"newPassword\",\n                    },\n                  })\n                : _vm._e(),\n              _vm._v(\" \"),\n              _vm.newPasswordUI\n                ? _c(\"v-text-field\", {\n                    attrs: {\n                      label: \"confirm new password\",\n                      required: \"\",\n                      rules: [_vm.rules.required, _vm.rules.match],\n                      type: \"password\",\n                    },\n                    model: {\n                      value: _vm.newPasswordConfirm,\n                      callback: function ($$v) {\n                        _vm.newPasswordConfirm = $$v\n                      },\n                      expression: \"newPasswordConfirm\",\n                    },\n                  })\n                : _vm._e(),\n              _vm._v(\" \"),\n              _c(\"v-card-text\", { style: { color: \"red\" } }, [\n                _vm._v(\"\\n        \" + _vm._s(_vm.error) + \"\\n      \"),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { block: \"\", color: \"success\" },\n                  on: {\n                    click: function ($event) {\n                      return _vm.signin()\n                    },\n                  },\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"Sign in\")) + \"\\n      \"\n                  ),\n                ]\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<!-- eslint-disable vue/multi-word-component-names -->\n<script>\nimport auth from '@src/auth'\n\nconst $gettext = s => s\n\nexport default {\n  name: 'Signin',\n  components: {\n\n  },\n\n  props: [],\n  events: ['signin'],\n  data () {\n    return {\n      newPasswordUI: false,\n      user: null,\n      username: '',\n      password: '',\n      newPassword: '',\n      newPasswordConfirm: '',\n      error: '',\n      shake: false,\n      re: /^(?=.*[A-Z])(?=.*[a-z])(?=.*\\d)(?=.*[@$!%*?&_])[A-Za-z\\d@$!%*?&_]+$/,\n\n      rules: {\n        required: v => !!v || $gettext('Required'),\n        password: v => this.re.test(v) || $gettext('need at least: 1 lowercase, 1 uppercase, 1 number, and 1 symbol'),\n        match: v => v === this.newPassword || $gettext('password must match'),\n\n      },\n    }\n  },\n  beforeDestroy () {\n    this.newPasswordUI = ''\n    this.username = ''\n    this.password = ''\n    this.newPassword = ''\n    this.newPasswordConfirm = ''\n    this.error = ''\n  },\n\n  methods: {\n    async signin () {\n      if (this.$refs.form.validate()) {\n        try {\n          // sign in.\n          if (!this.newPasswordUI) {\n            const resp = await auth.signin({ username: this.username, password: this.password })\n            if (resp.challengeName === 'NEW_PASSWORD_REQUIRED') {\n              // if new user. force change password.\n              this.user = resp\n              this.newPasswordUI = true\n              this.$refs.form.resetValidation()\n              // else signin (default case.)\n            } else {\n              this.$emit('signin', resp)\n            }\n            // if we are changing the password of a new user.\n          } else {\n            const resp = await auth.completeNewPassword(this.user, this.newPassword)\n            this.$emit('signin', resp)\n          }\n        } catch (err) {\n          this.shake = true\n          this.error = err\n        }\n      } else {\n        this.shake = true\n        setTimeout(() => {\n          this.shake = false\n        }, 500)\n      }\n    },\n\n  },\n}\n</script>\n<template>\n  <section>\n    <v-card\n      class=\"signin\"\n      :class=\"{'shake':shake}\"\n      @keydown.enter=\"signin()\"\n    >\n      <v-card-title\n        class=\"text-h4\"\n      >\n        {{ newPasswordUI? $gettext(\"New password\"): $gettext(\"Sign In\") }}\n      </v-card-title>\n      <v-card-text\n        class=\"text-h8\"\n        style=\"{'padding-bottom':'0.5rem'}\"\n      >\n        {{ $gettext('Sign in with username or email address.') }}\n      </v-card-text>\n      <v-form\n        ref=\"form\"\n        lazy-validation\n      >\n        <v-text-field\n          v-if=\"!newPasswordUI\"\n          v-model=\"username\"\n          label=\"username\"\n          required\n          :rules=\"[rules.required]\"\n        />\n        <v-text-field\n          v-if=\"!newPasswordUI\"\n          v-model=\"password\"\n          label=\"password\"\n          required\n          :rules=\"[rules.required]\"\n          type=\"password\"\n        />\n        <v-text-field\n          v-if=\"newPasswordUI\"\n          v-model=\"newPassword\"\n          label=\"new password\"\n          required\n          :rules=\"[rules.required,rules.password]\"\n          type=\"password\"\n        />\n        <v-text-field\n          v-if=\"newPasswordUI\"\n          v-model=\"newPasswordConfirm\"\n          label=\"confirm new password\"\n          required\n          :rules=\"[rules.required,rules.match]\"\n          type=\"password\"\n        />\n        <v-card-text :style=\"{color:'red'}\">\n          {{ error }}\n        </v-card-text>\n        <v-btn\n          block\n          color=\"success\"\n          @click=\"signin()\"\n        >\n          {{ $gettext('Sign in') }}\n        </v-btn>\n      </v-form>\n    </v-card>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.form{\n  margin: 1rem;\n}\n\n.signin {\n  padding:1rem 2rem 2rem 2rem\n}\n.shake {\n  animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;\n  transform: translate3d(0, 0, 0);\n}\n@keyframes shake {\n  10%, 90% {\n    transform: translate3d(-1px, 0, 0);\n  }\n  20%, 80% {\n    transform: translate3d(2px, 0, 0);\n  }\n  30%, 50%, 70% {\n    transform: translate3d(-4px, 0, 0);\n  }\n  40%, 60% {\n    transform: translate3d(4px, 0, 0);\n  }\n}\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signin.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signin.vue?vue&type=style&index=0&id=87ccd196&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signin.vue?vue&type=style&index=0&id=87ccd196&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Signin.vue?vue&type=template&id=87ccd196&scoped=true&\"\nimport script from \"./Signin.vue?vue&type=script&lang=js&\"\nexport * from \"./Signin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Signin.vue?vue&type=style&index=0&id=87ccd196&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"87ccd196\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"","<!-- eslint-disable vue/multi-word-component-names -->\n<script>\nimport { quetzalClient } from '@src/axiosClient.js'\nimport { generatePassword } from './utils.js'\nimport auth from '@src/auth'\nimport { axiosClient } from '@src/axiosClient'\nimport s3 from '@src/AWSClient'\nimport Signin from './Signin.vue'\nconst $gettext = s => s\n\nexport default {\n  name: 'Profile',\n  components: {\n    Signin,\n\n  },\n\n  props: [],\n  events: ['logout'],\n  data () {\n    return {\n      menu: false,\n      ui: false,\n      showDialog: false,\n      action: 'login',\n      showMore: false,\n      groups: [],\n      users: [],\n      selectedGroup: null,\n      selectedUsername: null,\n      userForm: { username: '', given_name: '', family_name: '', email: '', password: '' },\n      re: /^(?=.*[A-Z])(?=.*[a-z])(?=.*\\d)(?=.*[@$!%*?&_])[A-Za-z\\d@$!%*?&_]+$/,\n      rules: {\n        required: v => !!v || $gettext('Required'),\n        email: v => v.includes('@') || $gettext('invalid email address'),\n        length: v => v.length > 8 || $gettext('at least 8 character long'),\n        password: v => this.re.test(v) || $gettext('need at least: 1 lowercase, 1 uppercase, 1 number, and 1 symbol'),\n      },\n    }\n  },\n  computed: {\n    projectIsEmpty () { return this.$store.getters.projectIsEmpty },\n    loggedIn () { return this.$store.getters.loggedIn },\n    cognitoInfo () { return this.$store.getters.cognitoInfo },\n    bucketList () { return this.$store.getters.bucketList },\n\n    initial () { return (this.cognitoInfo?.given_name[0] + this.cognitoInfo?.family_name[0]).toUpperCase() },\n  },\n  watch: {\n    async menu (val) {\n      if (val) {\n        this.showMore = false\n        await this.listGroup()\n        if (!this.selectedGroup && this.groups.includes('admin')) this.selectedGroup = 'admin'\n        if (!this.selectedGroup) this.selectedGroup = this.groups[0]\n        await this.listUser(this.selectedGroup)\n      }\n    },\n    async selectedGroup (newVal, oldVal) {\n      if (oldVal) {\n        await this.listUser(this.selectedGroup)\n      }\n    },\n\n  },\n  async mounted () {\n    if (await auth.isUserSignedIn()) {\n      await auth.login()\n      await s3.login()\n      await axiosClient.loginAll(this.$store.getters.idToken)\n      this.$store.dispatch('getBucketList')\n    }\n  },\n\n  methods: {\n    async listGroup () {\n      try {\n        const resp = await quetzalClient.client.get('listGroups/')\n        this.groups = resp.data\n      } catch (err) {\n        this.$store.commit('changeAlert',\n          { name: 'Cognito Client error', message: err.response.data.detail })\n      }\n    },\n    async listUser (group) {\n      try {\n        const resp = await quetzalClient.client.get(`listUser/${group}/`)\n        this.users = resp.data\n      } catch (err) {\n        this.$store.commit('changeAlert',\n          { name: 'Cognito Client error', message: err.response.data.detail })\n      }\n    },\n    async createUser () {\n      try {\n        await quetzalClient.client.post(`createUser/${this.selectedGroup}/`, this.userForm)\n        this.$store.commit('changeNotification',\n          { text: $gettext('User created! please share the temporary password'), autoClose: true, color: 'success' })\n      } catch (err) {\n        this.$store.commit('changeAlert',\n          { name: 'Cognito Client error', message: err.response.data.detail })\n      }\n    },\n\n    async deleteUser (username) {\n      try {\n        await quetzalClient.client.post('deleteUser/', { username: username })\n        this.$store.commit('changeNotification',\n          { text: $gettext('User permanently delete'), autoClose: true, color: 'success' })\n      } catch (err) {\n        this.$store.commit('changeAlert',\n          { name: 'Cognito Client error', message: err.response.data.detail })\n      }\n    },\n\n    createUserButton () {\n      this.action = 'createUser'\n      this.userForm.password = generatePassword(12)\n      this.showDialog = true\n    },\n    deleteUserButton (user) {\n      this.action = 'deleteUser'\n      this.selectedUsername = user.Username\n      this.showDialog = true\n    },\n\n    toggleShowMore () { this.showMore = !this.showMore },\n\n    async signin (event) {\n      if (event) {\n        this.ui = false\n        await auth.login()\n        await s3.login()\n        await axiosClient.loginAll(this.$store.getters.idToken)\n        this.$store.dispatch('getBucketList')\n      }\n    },\n\n    login () {\n      if (this.projectIsEmpty) {\n        auth.login()\n      } else {\n        this.action = 'login'\n        this.showDialog = true\n      }\n    },\n    logout () {\n      if (this.projectIsEmpty) {\n        this.menu = false\n        auth.logout()\n      } else {\n        this.action = 'logout'\n        this.showDialog = true\n      }\n    },\n    async applyDialog () {\n      if (this.action === 'login') auth.login()\n      if (this.action === 'logout') auth.logout()\n      if (this.action === 'createUser') {\n        if (!this.$refs.form.validate()) { return }\n        await this.createUser()\n      }\n      if (this.action === 'deleteUser') {\n        this.deleteUser(this.selectedUsername)\n        this.selectedUsername = null\n      }\n      this.action = 'login'\n      this.menu = false\n      this.showDialog = false\n    },\n\n  },\n}\n</script>\n<template>\n  <section>\n    <v-menu\n      v-if=\"loggedIn\"\n      v-model=\"menu\"\n      :close-on-content-click=\"false\"\n      :close-on-click=\"false\"\n      :nudge-width=\"250\"\n      offset-x\n      offset-y\n    >\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-avatar\n          v-if=\"loggedIn\"\n          size=\"34\"\n          color=\"primary\"\n          v-bind=\"attrs\"\n          v-on=\"on\"\n        >\n          <span class=\"white--text text-h6\">{{ initial }}</span>\n        </v-avatar>\n      </template>\n      <v-card\n        width=\"20rem\"\n      >\n        <v-list>\n          <v-list-item>\n            <v-avatar\n              size=\"34\"\n              color=\"primary\"\n              :style=\"{'margin-right':'1rem'}\"\n            >\n              <span class=\"white--text text-h6\">{{ initial }}</span>\n            </v-avatar>\n            <v-list-item-content>\n              <v-list-item-title>{{ cognitoInfo.given_name+' '+ cognitoInfo.family_name }}</v-list-item-title>\n              <v-list-item-subtitle>{{ cognitoInfo.email }}</v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list>\n\n        <v-divider />\n        <v-list-item>\n          <v-list-item-content>\n            <v-select\n              v-model=\"selectedGroup\"\n              :label=\"$gettext('Team')\"\n              :disabled=\"groups.length <= 1\"\n              :items=\"groups\"\n            />\n          </v-list-item-content>\n        </v-list-item>\n\n        <v-divider />\n        <v-list-item\n          v-for=\"user in users\"\n          :key=\"user.Username\"\n        >\n          <v-btn\n            v-if=\"showMore\"\n            icon\n          >\n            <v-icon\n              small\n              color=\"error\"\n              :disabled=\"user.Username === cognitoInfo['cognito:username']\"\n              @click=\"deleteUserButton(user)\"\n            >\n              fas fa-trash\n            </v-icon>\n          </v-btn>\n          <v-list-item-content>\n            <v-list-item-title>{{ user.Username }}</v-list-item-title>\n            <v-list-item-subtitle>\n              {{ user.email }}\n            </v-list-item-subtitle>\n          </v-list-item-content>\n        </v-list-item>\n        <v-card-actions>\n          <v-btn\n            color=\"success\"\n            outlined\n            @click=\"createUserButton()\"\n          >\n            {{ $gettext('create user') }}\n          </v-btn>\n        </v-card-actions>\n        <v-divider />\n\n        <v-card-actions>\n          <v-btn\n            icon\n            x-small\n            @click=\"toggleShowMore\"\n          >\n            <v-icon v-if=\"showMore\">\n              fas fa-minus-circle fa-rotate-90\n            </v-icon>\n            <v-icon v-else>\n              fas fa-minus-circle\n            </v-icon>\n          </v-btn>\n          <v-spacer />\n\n          <v-btn\n            color=\"primary\"\n            text\n            @click=\"logout\"\n          >\n            {{ $gettext('logout') }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-menu>\n    <v-menu\n      v-show=\"!loggedIn\"\n      v-model=\"ui\"\n      :close-on-content-click=\"false\"\n      :close-on-click=\"true\"\n      :nudge-width=\"300\"\n      offset-x\n      offset-y\n    >\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn\n          v-show=\"!loggedIn\"\n          icon\n          v-bind=\"attrs\"\n          v-on=\"on\"\n        >\n          <v-icon>\n            fas fa-sign-in-alt\n          </v-icon>\n        </v-btn>\n      </template>\n      <Signin\n        v-if=\"ui\"\n        @signin=\"signin\"\n      />\n    </v-menu>\n    <v-dialog\n      v-model=\"showDialog\"\n      persistent\n      max-width=\"350\"\n      @keydown.enter=\"applyDialog\"\n      @keydown.esc=\"()=>showDialog=false\"\n    >\n      <v-card>\n        <v-card-title\n          v-if=\"action === 'logout'\"\n          class=\"text-h4\"\n        >\n          {{ $gettext(\"Sign out\") }}\n        </v-card-title>\n        <v-card-title\n          v-else-if=\"action === 'createUser'\"\n          class=\"text-h4\"\n        >\n          {{ $gettext('Create User') }}\n        </v-card-title>\n        <v-card-title\n          v-else-if=\"action === 'deleteUser'\"\n          class=\"text-h4\"\n        >\n          {{ $gettext('delete User') + ' ' + selectedUsername + ' ?' }}\n        </v-card-title>\n        <v-card-text\n          v-if=\"action === 'logout'\"\n          class=\"text-h8\"\n        >\n          {{ $gettext(\"This action will sign you out\") }}\n        </v-card-text>\n        <v-card-text\n          v-else-if=\"action === 'createUser'\"\n          class=\"text-h8\"\n        >\n          {{ $gettext('create a new user in your user group. Please shared the temporary password with him/her as the invitation email could be blocked by the organization') }}\n        </v-card-text>\n        <v-card-text\n          v-else-if=\"action === 'deleteUser'\"\n          class=\"text-h8\"\n        >\n          {{ $gettext('This will permanently delete the user account.') }}\n        </v-card-text>\n        <v-form\n          v-if=\"action=='createUser'\"\n          ref=\"form\"\n          class=\"form\"\n          lazy-validation\n        >\n          <v-text-field\n            v-model=\"userForm.username\"\n            :label=\"$gettext('username')\"\n            :rules=\"[rules['required']]\"\n            required\n          />\n          <v-text-field\n            v-model=\"userForm.given_name\"\n            :label=\"$gettext('first name')\"\n            :rules=\"[rules['required']]\"\n            required\n          />\n          <v-text-field\n            v-model=\"userForm.family_name\"\n            :rules=\"[rules['required']]\"\n            :label=\"$gettext('last name')\"\n            required\n          />\n          <v-text-field\n            v-model=\"userForm.email\"\n            :rules=\"[rules['required'], rules['email']]\"\n            :label=\"$gettext('email address')\"\n            required\n          />\n          <v-text-field\n            v-model=\"userForm.password\"\n            :label=\"$gettext('temporary password')\"\n            :rules=\"[rules['required'], rules['length'], rules['password']]\"\n            required\n          />\n        </v-form>\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            color=\"regular\"\n            @click=\"()=>showDialog = !showDialog\"\n          >\n            {{ $gettext(\"No\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"primary\"\n            @click=\"applyDialog\"\n          >\n            {{ $gettext(\"Yes\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.form{\n  margin: 1rem;\n}\n\n.signin {\n  padding:1rem 2rem 2rem 2rem\n}\n\n</style>\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=style&index=0&id=410ea6be&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=style&index=0&id=410ea6be&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=410ea6be&scoped=true&\"\nimport script from \"./Profile.vue?vue&type=script&lang=js&\"\nexport * from \"./Profile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Profile.vue?vue&type=style&index=0&id=410ea6be&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"410ea6be\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _vm.loggedIn && _vm.modelsList.length > 0\n    ? _c(\n        \"section\",\n        [\n          _c(\n            \"v-menu\",\n            {\n              attrs: {\n                \"close-on-click\":\n                  !_vm.showDialog && !_vm.deleteDialog && !_vm.copyDialog,\n                \"close-on-content-click\": false,\n                \"max-width\": \"460px\",\n                \"offset-y\": \"\",\n              },\n              scopedSlots: _vm._u(\n                [\n                  {\n                    key: \"activator\",\n                    fn: function ({ on, attrs }) {\n                      return [\n                        _c(\n                          \"div\",\n                          _vm._g(\n                            _vm._b(\n                              { staticClass: \"title\" },\n                              \"div\",\n                              attrs,\n                              false\n                            ),\n                            on\n                          ),\n                          [\n                            _vm._v(\n                              \"\\n        \" +\n                                _vm._s(\n                                  _vm.scenario\n                                    ? _vm.model + \"/\" + _vm.scenario\n                                    : _vm.$gettext(\"Projects\")\n                                ) +\n                                \"\\n      \"\n                            ),\n                          ]\n                        ),\n                      ]\n                    },\n                  },\n                ],\n                null,\n                false,\n                2682127123\n              ),\n              model: {\n                value: _vm.menu,\n                callback: function ($$v) {\n                  _vm.menu = $$v\n                },\n                expression: \"menu\",\n              },\n            },\n            [\n              _vm._v(\" \"),\n              _c(\n                \"v-card\",\n                [\n                  _c(\n                    \"v-tabs\",\n                    {\n                      attrs: { \"show-arrows\": \"\", \"fixed-tabs\": \"\" },\n                      model: {\n                        value: _vm.localModel,\n                        callback: function ($$v) {\n                          _vm.localModel = $$v\n                        },\n                        expression: \"localModel\",\n                      },\n                    },\n                    _vm._l(_vm.modelsList, function (tab) {\n                      return _c(\n                        \"v-tab\",\n                        {\n                          key: tab,\n                          attrs: { href: \"#\" + tab, disabled: _vm.loading },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" + _vm._s(tab.slice(8)) + \"\\n        \"\n                          ),\n                        ]\n                      )\n                    }),\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"v-divider\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-list-item\",\n                    { staticClass: \"text-right\" },\n                    [\n                      _c(\"v-text-field\", {\n                        style: { \"padding-right\": \"0.5rem\" },\n                        attrs: {\n                          dense: \"\",\n                          outlined: \"\",\n                          \"clear-icon\": \"fas fa-times-circle\",\n                          clearable: \"\",\n                          label: \"search\",\n                          \"hide-details\": \"\",\n                          \"prepend-inner-icon\": \"fas fa-search\",\n                        },\n                        on: {\n                          \"click:clear\": function ($event) {\n                            _vm.searchString = null\n                          },\n                        },\n                        model: {\n                          value: _vm.searchString,\n                          callback: function ($$v) {\n                            _vm.searchString = $$v\n                          },\n                          expression: \"searchString\",\n                        },\n                      }),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn-toggle\",\n                        {\n                          attrs: { dense: \"\", mandatory: \"\" },\n                          model: {\n                            value: _vm.sortModel,\n                            callback: function ($$v) {\n                              _vm.sortModel = $$v\n                            },\n                            expression: \"sortModel\",\n                          },\n                        },\n                        [\n                          _c(\n                            \"v-btn\",\n                            { attrs: { value: \"scenario\" } },\n                            [\n                              _c(\n                                \"span\",\n                                {\n                                  staticClass:\n                                    \"hidden-sm-and-down lowercase-text\",\n                                },\n                                [_vm._v(_vm._s(_vm.$gettext(\"name\")))]\n                              ),\n                              _vm._v(\" \"),\n                              _c(\"v-icon\", { attrs: { right: \"\" } }, [\n                                _vm._v(\n                                  \"\\n              fas fa-font\\n            \"\n                                ),\n                              ]),\n                            ],\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-btn\",\n                            { attrs: { value: \"timestamp\" } },\n                            [\n                              _c(\n                                \"span\",\n                                {\n                                  staticClass:\n                                    \"hidden-sm-and-down lowercase-text\",\n                                },\n                                [_vm._v(\"date\")]\n                              ),\n                              _vm._v(\" \"),\n                              _c(\"v-icon\", { attrs: { right: \"\" } }, [\n                                _vm._v(\n                                  \"\\n              fas fa-calendar-week\\n            \"\n                                ),\n                              ]),\n                            ],\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-btn\",\n                            { attrs: { value: \"userEmail\" } },\n                            [\n                              _c(\n                                \"span\",\n                                {\n                                  staticClass:\n                                    \"hidden-sm-and-down lowercase-text\",\n                                },\n                                [_vm._v(\"email\")]\n                              ),\n                              _vm._v(\" \"),\n                              _c(\"v-icon\", { attrs: { right: \"\" } }, [\n                                _vm._v(\n                                  \"\\n              fas fa-at\\n            \"\n                                ),\n                              ]),\n                            ],\n                            1\n                          ),\n                        ],\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          staticClass:\n                            \"v-btn-toggle v-btn-toggle--active v-btn--active v-btn--toggle\",\n                          attrs: { icon: \"\" },\n                          on: {\n                            click: function ($event) {\n                              _vm.sortDirection = !_vm.sortDirection\n                            },\n                          },\n                        },\n                        [\n                          _c(\"v-icon\", { attrs: { center: \"\" } }, [\n                            _vm._v(\n                              \"\\n            \" +\n                                _vm._s(\n                                  _vm.sortDirection\n                                    ? \"fas fa-sort-down\"\n                                    : \"fas fa-sort-up\"\n                                ) +\n                                \"\\n          \"\n                            ),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"v-divider\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    {\n                      staticClass: \"v-card-content\",\n                      style: { \"max-height\": `${_vm.windowHeight - 200}px` },\n                    },\n                    [\n                      _vm._l(_vm.scenariosList, function (scen) {\n                        return _c(\n                          \"v-list-item\",\n                          {\n                            key: scen.model + scen.scenario,\n                            class: {\n                              \"is-active\":\n                                _vm.modelScen === scen.model + scen.scenario,\n                            },\n                            attrs: {\n                              \"max-height\": \"200px\",\n                              value: scen.model + scen.scenario,\n                              \"two-line\": \"\",\n                            },\n                            on: {\n                              click: function ($event) {\n                                return _vm.selectScenario(scen)\n                              },\n                            },\n                          },\n                          [\n                            _c(\n                              \"v-list-item-content\",\n                              [\n                                _c(\"v-list-item-title\", [\n                                  _vm._v(_vm._s(scen.scenario)),\n                                ]),\n                                _vm._v(\" \"),\n                                _c(\"v-list-item-subtitle\", [\n                                  _vm._v(_vm._s(scen.lastModified)),\n                                ]),\n                                _vm._v(\" \"),\n                                _c(\"v-list-item-subtitle\", [\n                                  _vm._v(_vm._s(scen.userEmail)),\n                                ]),\n                              ],\n                              1\n                            ),\n                            _vm._v(\" \"),\n                            _c(\n                              \"v-btn\",\n                              {\n                                staticClass: \"ma-1\",\n                                attrs: { icon: \"\" },\n                                on: {\n                                  click: function ($event) {\n                                    $event.stopPropagation()\n                                    return (() => {\n                                      _vm.copyDialog = true\n                                      _vm.selectedScenario = scen.scenario\n                                      _vm.input = scen.scenario + \" copy\"\n                                    }).apply(null, arguments)\n                                  },\n                                },\n                              },\n                              [\n                                _c(\n                                  \"v-icon\",\n                                  { attrs: { small: \"\", color: \"regular\" } },\n                                  [\n                                    _vm._v(\n                                      \"\\n              fas fa-copy\\n            \"\n                                    ),\n                                  ]\n                                ),\n                              ],\n                              1\n                            ),\n                            _vm._v(\" \"),\n                            _c(\n                              \"v-btn\",\n                              {\n                                staticClass: \"ma-1\",\n                                attrs: {\n                                  icon: \"\",\n                                  disabled:\n                                    scen.model + scen.scenario ===\n                                      _vm.modelScen || scen.protected,\n                                },\n                                on: {\n                                  click: function ($event) {\n                                    $event.stopPropagation()\n                                    return (() => {\n                                      _vm.deleteDialog = true\n                                      _vm.scenarioToDelete = scen.scenario\n                                    }).apply(null, arguments)\n                                  },\n                                },\n                              },\n                              [\n                                _c(\n                                  \"v-icon\",\n                                  { attrs: { small: \"\", color: \"grey\" } },\n                                  [\n                                    _vm._v(\n                                      \"\\n              \" +\n                                        _vm._s(\n                                          scen.protected\n                                            ? \"fas fa-lock\"\n                                            : \"fas fa-trash\"\n                                        ) +\n                                        \"\\n            \"\n                                    ),\n                                  ]\n                                ),\n                              ],\n                              1\n                            ),\n                          ],\n                          1\n                        )\n                      }),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-list-item\",\n                        {\n                          directives: [\n                            {\n                              name: \"show\",\n                              rawName: \"v-show\",\n                              value: _vm.loading,\n                              expression: \"loading\",\n                            },\n                          ],\n                        },\n                        [\n                          _c(\"v-spacer\"),\n                          _vm._v(\" \"),\n                          _c(\"v-progress-circular\", {\n                            attrs: { color: \"primary\", indeterminate: \"\" },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-spacer\"),\n                        ],\n                        1\n                      ),\n                    ],\n                    2\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"v-divider\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-list-item\",\n                    [\n                      _c(\n                        \"v-btn\",\n                        {\n                          attrs: { text: \"\", block: \"\" },\n                          on: {\n                            click: () => {\n                              _vm.copyDialog = true\n                              _vm.selectedScenario = null\n                              _vm.input = \"\"\n                            },\n                          },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$gettext(\"new scenario\")) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-dialog\",\n            {\n              attrs: { persistent: \"\", \"max-width\": \"350\" },\n              on: {\n                keydown: [\n                  function ($event) {\n                    if (\n                      !$event.type.indexOf(\"key\") &&\n                      _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                    )\n                      return null\n                    return _vm.applyDialog.apply(null, arguments)\n                  },\n                  function ($event) {\n                    if (\n                      !$event.type.indexOf(\"key\") &&\n                      _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                        \"Esc\",\n                        \"Escape\",\n                      ])\n                    )\n                      return null\n                    return _vm.cancelDialog.apply(null, arguments)\n                  },\n                ],\n              },\n              model: {\n                value: _vm.showDialog,\n                callback: function ($$v) {\n                  _vm.showDialog = $$v\n                },\n                expression: \"showDialog\",\n              },\n            },\n            [\n              _c(\n                \"v-card\",\n                [\n                  _c(\"v-card-title\", { staticClass: \"text-h4\" }, [\n                    _vm._v(\n                      \"\\n        \" +\n                        _vm._s(_vm.$gettext(\"Load Scenario?\")) +\n                        \"\\n      \"\n                    ),\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"v-card-text\", { staticClass: \"text-h6\" }, [\n                    _vm._v(\n                      \"\\n        \" +\n                        _vm._s(\n                          _vm.$gettext(\"This will ERASE the current project\")\n                        ) +\n                        \"\\n      \"\n                    ),\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-card-actions\",\n                    [\n                      _c(\"v-spacer\"),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          attrs: { color: \"regular\" },\n                          on: { click: _vm.cancelDialog },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$gettext(\"No\")) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          attrs: { color: \"primary\" },\n                          on: { click: _vm.applyDialog },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$gettext(\"Yes\")) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-dialog\",\n            {\n              attrs: { persistent: \"\", \"max-width\": \"350\" },\n              on: {\n                keydown: function ($event) {\n                  if (\n                    !$event.type.indexOf(\"key\") &&\n                    _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                      \"Esc\",\n                      \"Escape\",\n                    ])\n                  )\n                    return null\n                  return (() => (_vm.deleteDialog = false)).apply(\n                    null,\n                    arguments\n                  )\n                },\n              },\n              model: {\n                value: _vm.deleteDialog,\n                callback: function ($$v) {\n                  _vm.deleteDialog = $$v\n                },\n                expression: \"deleteDialog\",\n              },\n            },\n            [\n              _c(\n                \"v-card\",\n                [\n                  _c(\"v-card-title\", { staticClass: \"text-h4\" }, [\n                    _vm._v(\n                      \"\\n        \" +\n                        _vm._s(\n                          _vm.$gettext(\"Delete \") + _vm.scenarioToDelete + \" ?\"\n                        ) +\n                        \"\\n      \"\n                    ),\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"v-card-text\", { staticClass: \"text-h6\" }, [\n                    _vm._v(\n                      \"\\n        \" +\n                        _vm._s(\n                          _vm.$gettext(\n                            \"The scenario will be permanently deleted\"\n                          )\n                        ) +\n                        \"\\n      \"\n                    ),\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-card-actions\",\n                    [\n                      _c(\"v-spacer\"),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          attrs: { color: \"regular\" },\n                          on: { click: () => (_vm.deleteDialog = false) },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$gettext(\"Cancel\")) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          attrs: { color: \"error\" },\n                          on: { click: _vm.deleteScenario },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$gettext(\"Delete\")) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-dialog\",\n            {\n              attrs: { persistent: \"\", \"max-width\": \"290\" },\n              on: {\n                keydown: [\n                  function ($event) {\n                    if (\n                      !$event.type.indexOf(\"key\") &&\n                      _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                    )\n                      return null\n                    return _vm.createProject.apply(null, arguments)\n                  },\n                  function ($event) {\n                    if (\n                      !$event.type.indexOf(\"key\") &&\n                      _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                        \"Esc\",\n                        \"Escape\",\n                      ])\n                    )\n                      return null\n                    return _vm.cancel.apply(null, arguments)\n                  },\n                ],\n              },\n              model: {\n                value: _vm.copyDialog,\n                callback: function ($$v) {\n                  _vm.copyDialog = $$v\n                },\n                expression: \"copyDialog\",\n              },\n            },\n            [\n              _c(\n                \"v-card\",\n                [\n                  _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                    _vm._v(\n                      \"\\n        \" +\n                        _vm._s(\n                          _vm.selectedScenario\n                            ? _vm.$gettext(\"copy\") + \" \" + _vm.selectedScenario\n                            : _vm.$gettext(\"New Scenario\")\n                        ) +\n                        \"\\n      \"\n                    ),\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-card-text\",\n                    [\n                      _c(\n                        \"v-container\",\n                        [\n                          _c(\n                            \"v-col\",\n                            { attrs: { cols: \"12\" } },\n                            [\n                              _c(\"v-text-field\", {\n                                attrs: {\n                                  autofocus: \"\",\n                                  label: _vm.$gettext(\"name\"),\n                                },\n                                model: {\n                                  value: _vm.input,\n                                  callback: function ($$v) {\n                                    _vm.input = $$v\n                                  },\n                                  expression: \"input\",\n                                },\n                              }),\n                            ],\n                            1\n                          ),\n                        ],\n                        1\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-card-text\",\n                    { style: { textAlign: \"center\", color: \"red\" } },\n                    [\n                      _vm._v(\n                        \"\\n        \" + _vm._s(_vm.errorMessage) + \"\\n      \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-card-actions\",\n                    [\n                      _c(\"v-spacer\"),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          attrs: { color: \"grey\", text: \"\" },\n                          on: { click: _vm.closeCopy },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$gettext(\"Cancel\")) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          attrs: { color: \"green darken-1\", text: \"\" },\n                          on: { click: _vm.createProject },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$gettext(\"ok\")) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      )\n    : _vm.loggedIn && _vm.modelsList.length == 0\n    ? _c(\"section\", [\n        _c(\n          \"div\",\n          [\n            _c(\"v-progress-linear\", {\n              attrs: {\n                color: \"primary\",\n                absolute: \"\",\n                bottom: \"\",\n                indeterminate: \"\",\n              },\n            }),\n          ],\n          1\n        ),\n      ])\n    : _vm._e()\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nimport s3 from '@src/AWSClient'\n\nconst $gettext = s => s\n\nexport default {\n  name: 'ScenariosExplorer',\n  components: {\n\n  },\n\n  props: [],\n  events: [],\n  data () {\n    return {\n      menu: false,\n      sortModel: 'scenario',\n      sortDirection: true,\n      searchString: '',\n      showDialog: false,\n      modelScen: '',\n      localModel: '',\n      localScen: '',\n      errorMessage: '',\n      copyDialog: false,\n      selectedScenario: null,\n      scenarioToDelete: null,\n      input: '',\n      deleteDialog: false,\n      loading: false,\n      protected: false,\n\n    }\n  },\n  computed: {\n    windowHeight () { return this.$store.getters.windowHeight },\n    projectIsEmpty () { return this.$store.getters.projectIsEmpty },\n    loggedIn () { return this.$store.getters.loggedIn },\n    scenariosList () {\n      // sort by alphabetical order, with protectedScens one one top\n      let arr = this.$store.getters.scenariosList\n      if (this.searchString) {\n        arr = arr.filter(el => el.scenario.toLowerCase().includes(this.searchString.toLowerCase()))\n      }\n      return arr.sort((a, b) => {\n        if (a.protected === b.protected) { // both true or both false. we go alphabetically\n          const res = String(a[this.sortModel]).localeCompare(String(b[this.sortModel]),\n            undefined, { sensitivity: 'base' })\n          return this.sortDirection ? res : -res\n        } else if (a.protected) {\n          return -1 // `a` comes before `b`\n        } else {\n          return 1 // `b` comes before `a`\n        }\n      })\n    },\n    modelsList () { return this.$store.getters.bucketList },\n    model () { return this.$store.getters.model },\n    scenario () { return this.$store.getters.scenario },\n  },\n  watch: {\n    async  menu (val) {\n      if (val) {\n        this.$store.dispatch('isTokenExpired')\n        // when we click on the menu. fetch the scenario list (update in place)\n        this.loading = true\n        await this.$store.dispatch('getScenario', { model: this.localModel })\n        this.loading = false\n      }\n    },\n    async localModel (val) {\n      // when we click on a tab (model), fetch the scenario list.\n      this.$store.commit('setScenariosList', [])\n      this.loading = true\n      await this.$store.dispatch('getScenario', { model: val })\n      this.loading = false\n    },\n    async modelsList (val) {\n      // This component is rendered before we fetch on S3 the bucket list.\n      // so, when its fetched, set the model to the first one and get the scenario.\n      if (this.localModel === '') { this.localModel = this.modelsList[0] }\n      await this.$store.dispatch('getScenario', { model: this.localModel })\n    },\n    scenario (val) {\n      if (val !== this.localScen) {\n        this.localScen = ''\n        this.modelScen = ''\n      }\n    },\n  },\n\n  mounted () {\n  },\n\n  methods: {\n    selectScenario (val) {\n      this.modelScen = val.model + val.scenario\n      this.localScen = val.scenario\n      this.protected = val.protected\n      if (val.scenario) {\n        if (this.projectIsEmpty) {\n          this.loadProject()\n        } else {\n          this.showDialog = true\n        }\n      }\n    },\n    async loadProject () {\n      this.$store.commit('run/cleanRun')\n      this.$store.commit('setModel', this.localModel)\n      this.$store.commit('setScenario', { scenario: this.localScen, protected: this.protected })\n      this.$router.push({ name: 'Import', query: { s3Path: this.localModel } })\n      this.menu = false\n    },\n\n    applyDialog () {\n      this.menu = false\n      this.showDialog = false\n      this.loadProject()\n    },\n    cancelDialog () {\n      // reset vmodel back to loaded scenario\n      this.modelScen = this.model + this.scenario\n      this.localScen = this.scenario\n      this.showDialog = false\n      this.menu = false\n    },\n    deleteScenario () {\n      this.deleteDialog = false\n      s3.deleteFolder(this.localModel, this.scenarioToDelete + '/').then(resp => {\n        this.deleteDialog = false\n        this.$store.dispatch('getScenario', { model: this.localModel })\n        this.$store.commit('changeNotification',\n          { text: $gettext('Scenario deleted'), autoClose: true, color: 'success' })\n      }).catch((err) => {\n        this.deleteDialog = false\n        console.error(err)\n        this.$store.commit('changeNotification',\n          { text: $gettext('An error occured'), autoClose: true, color: 'error' })\n      })\n    },\n    async createProject () {\n      if (this.input === '') {\n        this.errorMessage = 'Please enter a name'\n      } else if (this.input.includes('/')) {\n        this.errorMessage = 'cannot have / in name'\n      } else if (this.scenariosList.map(p => p.scenario).includes(this.input)) {\n        this.errorMessage = 'project already exist'\n      } else {\n        try {\n          if (this.selectedScenario) {\n            // this is a copy\n            await s3.copyFolder(this.localModel, this.selectedScenario + '/', this.input)\n            this.$store.commit('changeNotification',\n              { text: $gettext('Scenario successfully copied'), autoClose: true, color: 'success' })\n          } else {\n            // this is a new project\n            // copy the parameters file from Base. this will create a new project .\n            // take first Scen. should be base or any locked scen\n            const protectedList = this.$store.getters.scenariosList.filter(scen => scen.protected)\n            const base = protectedList[0].scenario\n            await s3.newScenario(this.localModel, base, this.input)\n            this.$store.commit('changeNotification',\n              { text: $gettext('Scenario created'), autoClose: true, color: 'success' })\n          }\n        } catch (err) { this.$store.commit('changeAlert', err); this.selectedScenario = null }\n        this.closeCopy()\n        this.loading = true\n        // wait 500ms to fetch the scenarios to make sure its available on the DB\n        setTimeout(() => {\n          this.$store.dispatch('getScenario', { model: this.localModel }).then(() => { this.loading = false })\n            .catch((err) => { this.$store.commit('changeAlert', err); this.loading = false })\n        }, 500)\n      }\n    },\n\n    closeCopy () {\n      this.copyDialog = false\n      this.input = ''\n      this.selectedScenario = null\n      this.errorMessage = ''\n    },\n\n  },\n}\n</script>\n<template>\n  <section v-if=\"loggedIn && modelsList.length>0\">\n    <v-menu\n      v-model=\"menu\"\n      :close-on-click=\"!showDialog && !deleteDialog && !copyDialog\"\n      :close-on-content-click=\"false\"\n      max-width=\"460px\"\n      offset-y\n    >\n      <template v-slot:activator=\"{ on, attrs }\">\n        <div\n          class=\"title\"\n          v-bind=\"attrs\"\n          v-on=\"on\"\n        >\n          {{ scenario? model + '/' + scenario: $gettext('Projects') }}\n        </div>\n      </template>\n      <v-card>\n        <v-tabs\n          v-model=\"localModel\"\n          show-arrows\n          fixed-tabs\n        >\n          <v-tab\n            v-for=\"tab in modelsList\"\n            :key=\"tab\"\n            :href=\"'#'+tab\"\n            :disabled=\"loading\"\n          >\n            {{ tab.slice(8) }}\n          </v-tab>\n        </v-tabs>\n        <v-divider />\n        <v-list-item\n          class=\"text-right\"\n        >\n          <v-text-field\n            v-model=\"searchString\"\n            :style=\"{'padding-right': '0.5rem'}\"\n            dense\n            outlined\n            clear-icon=\"fas fa-times-circle\"\n            clearable\n            label=\"search\"\n            hide-details\n            prepend-inner-icon=\"fas fa-search\"\n            @click:clear=\"searchString=null\"\n          />\n          <v-btn-toggle\n            v-model=\"sortModel\"\n            dense\n            mandatory\n          >\n            <v-btn value=\"scenario\">\n              <span class=\"hidden-sm-and-down lowercase-text\">{{ $gettext('name') }}</span>\n\n              <v-icon right>\n                fas fa-font\n              </v-icon>\n            </v-btn>\n            <v-btn value=\"timestamp\">\n              <span class=\"hidden-sm-and-down lowercase-text\">date</span>\n\n              <v-icon right>\n                fas fa-calendar-week\n              </v-icon>\n            </v-btn>\n            <v-btn value=\"userEmail\">\n              <span class=\"hidden-sm-and-down lowercase-text\">email</span>\n\n              <v-icon right>\n                fas fa-at\n              </v-icon>\n            </v-btn>\n          </v-btn-toggle>\n          <v-btn\n            class=\"v-btn-toggle v-btn-toggle--active v-btn--active v-btn--toggle\"\n            icon\n            @click=\"sortDirection=!sortDirection\"\n          >\n            <v-icon center>\n              {{ sortDirection? 'fas fa-sort-down' : 'fas fa-sort-up' }}\n            </v-icon>\n          </v-btn>\n        </v-list-item>\n        <v-divider />\n        <div\n          class=\"v-card-content\"\n          :style=\"{'max-height': `${windowHeight-200}px`}\"\n        >\n          <v-list-item\n            v-for=\"scen in scenariosList\"\n\n            :key=\"scen.model + scen.scenario\"\n            max-height=\"200px\"\n            :value=\"scen.model + scen.scenario\"\n            :class=\"{ 'is-active': modelScen === scen.model + scen.scenario}\"\n            two-line\n            @click=\"selectScenario(scen)\"\n          >\n            <v-list-item-content>\n              <v-list-item-title>{{ scen.scenario }}</v-list-item-title>\n              <v-list-item-subtitle>{{ scen.lastModified }}</v-list-item-subtitle>\n              <v-list-item-subtitle>{{ scen.userEmail }}</v-list-item-subtitle>\n            </v-list-item-content>\n            <v-btn\n              icon\n              class=\"ma-1\"\n              @click.stop=\"()=>{copyDialog=true; selectedScenario=scen.scenario; input = scen.scenario +' copy'}\"\n            >\n              <v-icon\n                small\n                color=\"regular\"\n              >\n                fas fa-copy\n              </v-icon>\n            </v-btn>\n            <v-btn\n              icon\n              :disabled=\"(scen.model+scen.scenario===modelScen) || (scen.protected)\"\n              class=\"ma-1\"\n              @click.stop=\"()=>{deleteDialog=true; scenarioToDelete=scen.scenario;}\"\n            >\n              <v-icon\n                small\n                color=\"grey\"\n              >\n                {{ scen.protected? 'fas fa-lock':'fas fa-trash' }}\n              </v-icon>\n            </v-btn>\n          </v-list-item>\n          <v-list-item v-show=\"loading\">\n            <v-spacer />\n            <v-progress-circular\n              color=\"primary\"\n              indeterminate\n            />\n            <v-spacer />\n          </v-list-item>\n        </div>\n        <v-divider />\n        <v-list-item>\n          <v-btn\n            text\n            block\n            @click=\"()=>{copyDialog=true; selectedScenario=null; input = ''}\"\n          >\n            {{ $gettext('new scenario') }}\n          </v-btn>\n        </v-list-item>\n      </v-card>\n    </v-menu>\n    <v-dialog\n      v-model=\"showDialog\"\n      persistent\n      max-width=\"350\"\n      @keydown.enter=\"applyDialog\"\n      @keydown.esc=\"cancelDialog\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h4\">\n          {{ $gettext(\"Load Scenario?\") }}\n        </v-card-title>\n        <v-card-text class=\"text-h6\">\n          {{ $gettext(\"This will ERASE the current project\") }}\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            color=\"regular\"\n            @click=\"cancelDialog\"\n          >\n            {{ $gettext(\"No\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"primary\"\n            @click=\"applyDialog\"\n          >\n            {{ $gettext(\"Yes\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <v-dialog\n      v-model=\"deleteDialog\"\n      persistent\n      max-width=\"350\"\n      @keydown.esc=\"()=>deleteDialog=false\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h4\">\n          {{ $gettext(\"Delete \")+ scenarioToDelete+' ?' }}\n        </v-card-title>\n        <v-card-text class=\"text-h6\">\n          {{ $gettext(\"The scenario will be permanently deleted\") }}\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            color=\"regular\"\n            @click=\"()=>deleteDialog=false\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"error\"\n            @click=\"deleteScenario\"\n          >\n            {{ $gettext(\"Delete\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-dialog\n      v-model=\"copyDialog\"\n      persistent\n      max-width=\"290\"\n      @keydown.enter=\"createProject\"\n      @keydown.esc=\"cancel\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h5\">\n          {{ selectedScenario? $gettext(\"copy\") +' '+ selectedScenario : $gettext('New Scenario') }}\n        </v-card-title>\n        <v-card-text>\n          <v-container>\n            <v-col cols=\"12\">\n              <v-text-field\n                v-model=\"input\"\n                autofocus\n                :label=\"$gettext('name')\"\n              />\n            </v-col>\n          </v-container>\n        </v-card-text>\n        <v-card-text :style=\"{textAlign: 'center',color:'red'}\">\n          {{ errorMessage }}\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer />\n\n          <v-btn\n            color=\"grey\"\n            text\n            @click=\"closeCopy\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"green darken-1\"\n            text\n            @click=\"createProject\"\n          >\n            {{ $gettext(\"ok\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n  <section v-else-if=\"loggedIn && modelsList.length==0\">\n    <div>\n      <v-progress-linear\n        color=\"primary\"\n        absolute\n        bottom\n        indeterminate\n      />\n    </div>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.title {\n  font-size: 1.2em;\n  padding-left: 1.2rem;\n  color:var(--v-secondarydark-base);\n}\n.is-active{\n  opacity:1;\n  background-color:var(--v-primary-base);\n\n}\n.lowercase-text {\n  text-transform: lowercase;\n}\n.text-right {\n  justify-content: end;\n}\n\n.v-card-content {\n  //max-height:400px; /* Set a max height for the middle content */\n  overflow: auto; /* Enable scrolling if the content overflows */\n}\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScenariosExplorer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScenariosExplorer.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScenariosExplorer.vue?vue&type=style&index=0&id=6447d576&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScenariosExplorer.vue?vue&type=style&index=0&id=6447d576&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ScenariosExplorer.vue?vue&type=template&id=6447d576&scoped=true&\"\nimport script from \"./ScenariosExplorer.vue?vue&type=script&lang=js&\"\nexport * from \"./ScenariosExplorer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ScenariosExplorer.vue?vue&type=style&index=0&id=6447d576&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6447d576\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"","<!-- eslint-disable vue/multi-word-component-names -->\n<script>\nimport Profile from '../utils/Profile.vue'\nimport ScenariosExplorer from './ScenariosExplorer.vue'\nexport default {\n  name: 'Toolbar',\n  components: { Profile, ScenariosExplorer },\n  data () {\n    return {\n      dialog: true,\n    }\n  },\n\n  watch: {\n    '$vuetify.theme.dark' (val) {\n      this.$store.commit('changeDarkMode', val)\n    },\n  },\n\n  methods: {\n    handleChangeLanguage (lang) {\n      this.$vuetify.lang.current = lang\n      this.$language.current = lang\n    },\n  },\n}\n</script>\n<template>\n  <v-toolbar\n    :class=\"'app-toolbar elevation-4'\"\n    dense\n  >\n    <v-img\n      :src=\"require('@static/systra_logo.png')\"\n      contain\n      max-width=\"6rem\"\n    />\n    <span class=\"copyright\"></span>\n    <div class=\"app-name\">\n      Quetzal Network Editor\n    </div>\n\n    <v-spacer />\n    <div>\n      <ScenariosExplorer />\n    </div>\n    <v-spacer />\n    <div>\n      <v-tooltip bottom>\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            v-bind=\"attrs\"\n            href=\"https://github.com/systragroup/quetzal-network-editor\"\n            target=\"_blank\"\n            v-on=\"on\"\n          >\n            <v-icon>\n              fab fa-github\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>GitHub</span>\n      </v-tooltip>\n    </div>\n    <div class=\"switch\">\n      <v-switch\n        v-model=\"$vuetify.theme.dark\"\n        append-icon=\"fas fa-moon\"\n      />\n    </div>\n    <div>\n      <v-menu\n        offset-y\n        close-delay=\"100\"\n        transition=\"slide-y-transition\"\n      >\n        <template v-slot:activator=\"{ on: on,attrs:attrs }\">\n          <v-btn\n            text\n            class=\"language active\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n          >\n            {{ $language.current }}\n          </v-btn>\n        </template>\n        <v-list>\n          <v-list-item\n            v-for=\"(language, lang) in $language.available\"\n            :key=\"lang\"\n            :class=\"language\"\n\n            @click=\"()=>handleChangeLanguage(lang)\"\n          >\n            {{ language.toUpperCase() }}\n          </v-list-item>\n        </v-list>\n      </v-menu>\n    </div>\n    <div>\n      <Profile />\n    </div>\n  </v-toolbar>\n</template>\n\n<style lang=\"scss\" scoped>\n.app-toolbar {\n  z-index: 100;\n  height: 50px !important;\n  display: flex;\n  color: $secondary !important;\n  position: relative;\n}\n.login {\n  padding-left: 50px;\n}\n.project-name {\n  font-size: 1.3em;\n}\n.app-name {\n  font-size: 1.2em;\n  padding-left: 1.2rem;\n  color:var(--v-secondarydark-base);\n}\n.copyright {\n  font-size: 0.9rem;\n  padding-left: 5px;\n  padding-top: 1rem;\n  color:var(--v-secondarydark-base);\n}\n.languages-container {\n  display: flex;\n}\n.switch {\n  display: flex;\n  padding-top: 1rem;\n  padding-left:1rem;\n  align-items: center;\n  justify-content: center;\n  color: $grey-light;\n  cursor: pointer;\n}\n.language {\n  width: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: $grey-light;\n  cursor: pointer;\n  transition: 0.3s;\n}\n.language.active, .language:hover {\n  color:var(--v-secondarydark-base);\n}\n.language:last-child {\n  border-right: 0;\n}\n</style>\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=0&id=4f697eca&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=0&id=4f697eca&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Toolbar.vue?vue&type=template&id=4f697eca&scoped=true&\"\nimport script from \"./Toolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Toolbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Toolbar.vue?vue&type=style&index=0&id=4f697eca&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f697eca\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"transition\",\n    { attrs: { name: \"fade\" } },\n    [\n      _c(\n        \"v-navigation-drawer\",\n        {\n          staticClass: \"drawer elevation-4\",\n          attrs: {\n            app: \"\",\n            stateless: \"\",\n            temporary: !_vm.mini,\n            \"mini-variant\": _vm.mini,\n            \"mini-variant-width\": 50,\n          },\n          on: {\n            \"update:miniVariant\": function ($event) {\n              _vm.mini = $event\n            },\n            \"update:mini-variant\": function ($event) {\n              _vm.mini = $event\n            },\n          },\n          model: {\n            value: _vm.drawer,\n            callback: function ($$v) {\n              _vm.drawer = $$v\n            },\n            expression: \"drawer\",\n          },\n        },\n        [\n          _c(\n            \"div\",\n            {\n              staticClass: \"drawer-header\",\n              on: {\n                click: function ($event) {\n                  _vm.mini = !_vm.mini\n                },\n              },\n            },\n            [\n              _c(\"v-icon\", { attrs: { small: \"\" } }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.mini ? \"fa fa-bars\" : \"fas fa-angle-left\") +\n                    \"\\n      \"\n                ),\n              ]),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-list\",\n            { staticClass: \"drawer-list\", attrs: { dense: \"\" } },\n            [\n              _vm._l(_vm.getDisplayedRoutes(), function (item, key) {\n                return _c(\n                  \"v-list-item\",\n                  {\n                    key: key,\n                    staticClass: \"drawer-list-item\",\n                    class: [\n                      _vm.$route.name === item.name\n                        ? \"drawer-list-item-selected\"\n                        : \"\",\n                    ],\n                    style: { marginTop: item.margin },\n                    attrs: {\n                      disabled:\n                        item.name === \"Save\" &&\n                        (!_vm.$store.getters.scenario || _vm.isProtected),\n                    },\n                    on: {\n                      click: function ($event) {\n                        return _vm.handleClickMenuItem(item)\n                      },\n                    },\n                    nativeOn: {\n                      click: function ($event) {\n                        $event.stopPropagation()\n                      },\n                    },\n                  },\n                  [\n                    _c(\n                      \"v-list-item-action\",\n                      {\n                        class:\n                          item.name === \"Save\" &&\n                          (!_vm.$store.getters.scenario || _vm.isProtected)\n                            ? \"drawer-list-item-icon-disabled\"\n                            : \"drawer-list-item-icon\",\n                      },\n                      [\n                        item.name === \"Run\" && _vm.running\n                          ? _c(\n                              \"v-badge\",\n                              {\n                                attrs: {\n                                  \"offset-x\": \"12px\",\n                                  \"offset-y\": \"10px\",\n                                  color: \"\",\n                                },\n                                scopedSlots: _vm._u(\n                                  [\n                                    {\n                                      key: \"badge\",\n                                      fn: function () {\n                                        return [\n                                          _c(\"v-progress-circular\", {\n                                            attrs: {\n                                              size: \"18\",\n                                              width: \"4\",\n                                              color: \"primary\",\n                                              indeterminate: \"\",\n                                            },\n                                          }),\n                                        ]\n                                      },\n                                      proxy: true,\n                                    },\n                                  ],\n                                  null,\n                                  true\n                                ),\n                              },\n                              [\n                                _vm._v(\" \"),\n                                _c(\n                                  \"v-icon\",\n                                  {\n                                    attrs: {\n                                      small: \"\",\n                                      title: _vm.$gettext(item.title),\n                                    },\n                                  },\n                                  [\n                                    _vm._v(\n                                      \"\\n              \" +\n                                        _vm._s(item.icon) +\n                                        \"\\n            \"\n                                    ),\n                                  ]\n                                ),\n                              ],\n                              1\n                            )\n                          : item.name === \"Run\" && _vm.runWarning\n                          ? _c(\n                              \"v-badge\",\n                              {\n                                attrs: {\n                                  \"offset-x\": \"6px\",\n                                  \"offset-y\": \"11px\",\n                                  color: _vm.runError ? \"error\" : \"warning\",\n                                  icon: \"fa-solid fa-exclamation\",\n                                },\n                              },\n                              [\n                                _c(\n                                  \"v-icon\",\n                                  {\n                                    attrs: {\n                                      small: \"\",\n                                      title: _vm.$gettext(item.title),\n                                    },\n                                  },\n                                  [\n                                    _vm._v(\n                                      \"\\n              \" +\n                                        _vm._s(item.icon) +\n                                        \"\\n            \"\n                                    ),\n                                  ]\n                                ),\n                              ],\n                              1\n                            )\n                          : item.name === \"Save\" && _vm.saving\n                          ? _c(\n                              \"v-badge\",\n                              {\n                                attrs: {\n                                  \"offset-x\": \"12px\",\n                                  \"offset-y\": \"10px\",\n                                  color: \"\",\n                                },\n                                scopedSlots: _vm._u(\n                                  [\n                                    {\n                                      key: \"badge\",\n                                      fn: function () {\n                                        return [\n                                          _c(\"v-progress-circular\", {\n                                            attrs: {\n                                              size: \"18\",\n                                              width: \"4\",\n                                              color: \"primary\",\n                                              indeterminate: \"\",\n                                            },\n                                          }),\n                                        ]\n                                      },\n                                      proxy: true,\n                                    },\n                                  ],\n                                  null,\n                                  true\n                                ),\n                              },\n                              [\n                                _vm._v(\" \"),\n                                _c(\n                                  \"v-icon\",\n                                  {\n                                    attrs: {\n                                      small: \"\",\n                                      title: _vm.$gettext(item.title),\n                                    },\n                                  },\n                                  [\n                                    _vm._v(\n                                      \"\\n              \" +\n                                        _vm._s(item.icon) +\n                                        \"\\n            \"\n                                    ),\n                                  ]\n                                ),\n                              ],\n                              1\n                            )\n                          : _c(\n                              \"v-icon\",\n                              {\n                                attrs: {\n                                  small: \"\",\n                                  title: _vm.$gettext(item.title),\n                                },\n                              },\n                              [\n                                _vm._v(\n                                  \"\\n            \" +\n                                    _vm._s(item.icon) +\n                                    \"\\n          \"\n                                ),\n                              ]\n                            ),\n                      ],\n                      1\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"v-list-item-content\",\n                      [\n                        _c(\n                          \"v-list-item-title\",\n                          { style: { marginLeft: \"20px\", color: \"white\" } },\n                          [\n                            _vm._v(\n                              \"\\n            \" +\n                                _vm._s(_vm.$gettext(item.title)) +\n                                \"\\n          \"\n                            ),\n                          ]\n                        ),\n                      ],\n                      1\n                    ),\n                  ],\n                  1\n                )\n              }),\n              _vm._v(\" \"),\n              _c(\n                \"v-list-item\",\n                {\n                  staticClass: \"version-number\",\n                  style: { fontSize: 24 - 2 * _vm.version.length + \"px\" },\n                },\n                [_c(\"span\", [_vm._v(_vm._s(_vm.version))])]\n              ),\n            ],\n            2\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport Router from '@src/router/index'\nconst version = require('../../../package.json').version\n\nexport default {\n  name: 'NavigationDrawer',\n  data () {\n    return {\n      leftSidenav: false,\n      drawer: true,\n      mini: true,\n      menuItems: [],\n      version: version,\n      saving: false,\n    }\n  },\n  computed: {\n    running () { return this.$store.getters['run/running'] },\n    runError () { return this.$store.getters['run/error'] },\n    runSychronized () { return this.$store.getters['run/synchronized'] },\n    runWarning () { return (this.runError || !this.runSychronized) },\n    isProtected () {\n      return this.$store.getters.protected\n    },\n  },\n  created () {\n    this.menuItems = Router.options.routes.concat({\n      name: 'Save',\n      icon: 'fa-solid fa-save',\n      margin: 'auto',\n      title: this.$gettext('Save'),\n    })\n    this.menuItems = this.menuItems.concat({\n      name: 'Export',\n      icon: 'fa-solid fa-download',\n      title: this.$gettext('Export'),\n    })\n  },\n  methods: {\n    getDisplayedRoutes () {\n      return this.menuItems.filter(o => o.icon)\n    },\n    getRouteTitle (route) {\n      const tpl = this.$gettext('%{s}')\n      return this.$gettextInterpolate(tpl, { s: route.title })\n    },\n    handleClickMenuItem (route) {\n      switch (route.name) {\n        case 'Export':\n          this.$store.dispatch('exportFiles', 'all')\n          break\n        case 'Save':\n          this.saving = true\n          this.$store.dispatch('exportToS3').then(\n            () => {\n              this.saving = false\n              this.$store.commit('changeNotification',\n                { text: this.$gettext('Scenario saved'), autoClose: true, color: 'success' })\n            }).catch(\n            err => {\n              this.saving = false\n              this.$store.commit('changeAlert', err)\n            })\n          break\n        default :\n          this.$router.push(route.path).catch(() => {})\n          this.mini = true\n          break\n      }\n    },\n\n  },\n}\n</script>\n<template>\n  <transition name=\"fade\">\n    <v-navigation-drawer\n      v-model=\"drawer\"\n      app\n      class=\"drawer elevation-4\"\n      stateless\n      :temporary=\"!mini\"\n      :mini-variant.sync=\"mini\"\n      :mini-variant-width=\"50\"\n    >\n      <div\n        class=\"drawer-header\"\n        @click=\"mini = !mini\"\n      >\n        <v-icon\n          small\n        >\n          {{ mini ? 'fa fa-bars' : 'fas fa-angle-left' }}\n        </v-icon>\n      </div>\n      <v-list\n        dense\n        class=\"drawer-list\"\n      >\n        <v-list-item\n          v-for=\"( item,key ) in getDisplayedRoutes()\"\n          :key=\"key\"\n          class=\"drawer-list-item\"\n          :disabled=\"(item.name === 'Save') && ((!$store.getters.scenario) || (isProtected))\"\n          :class=\"[ $route.name === item.name ? 'drawer-list-item-selected' : '']\"\n          :style=\"{marginTop: item.margin}\"\n          @click.native.stop\n          @click=\"handleClickMenuItem(item)\"\n        >\n          <v-list-item-action\n            :class=\"(item.name === 'Save') && ((!$store.getters.scenario) || (isProtected))?\n              'drawer-list-item-icon-disabled':'drawer-list-item-icon'\"\n          >\n            <v-badge\n              v-if=\"item.name==='Run' && running \"\n              :offset-x=\"'12px'\"\n              :offset-y=\"'10px'\"\n              :color=\"''\"\n            >\n              <template v-slot:badge>\n                <v-progress-circular\n                  size=\"18\"\n                  width=\"4\"\n                  color=\"primary\"\n                  indeterminate\n                />\n              </template>\n              <v-icon\n                small\n                :title=\"$gettext(item.title)\"\n              >\n                {{ item.icon }}\n              </v-icon>\n            </v-badge>\n            <v-badge\n              v-else-if=\"item.name==='Run' && runWarning \"\n              :offset-x=\"'6px'\"\n              :offset-y=\"'11px'\"\n              :color=\"runError ? 'error' : 'warning' \"\n              :icon=\"'fa-solid fa-exclamation'\"\n            >\n              <v-icon\n                small\n                :title=\"$gettext(item.title)\"\n              >\n                {{ item.icon }}\n              </v-icon>\n            </v-badge>\n            <v-badge\n              v-else-if=\"item.name==='Save' && saving\"\n              :offset-x=\" '12px' \"\n              :offset-y=\" '10px' \"\n              :color=\" ''\"\n            >\n              <template v-slot:badge>\n                <v-progress-circular\n                  size=\"18\"\n                  width=\"4\"\n                  color=\"primary\"\n                  indeterminate\n                />\n              </template>\n              <v-icon\n                small\n                :title=\"$gettext(item.title)\"\n              >\n                {{ item.icon }}\n              </v-icon>\n            </v-badge>\n            <v-icon\n              v-else\n              small\n              :title=\"$gettext(item.title)\"\n            >\n              {{ item.icon }}\n            </v-icon>\n          </v-list-item-action>\n          <v-list-item-content>\n            <v-list-item-title :style=\"{marginLeft: '20px', color: 'white'}\">\n              {{ $gettext(item.title) }}\n            </v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n        <v-list-item\n          class=\"version-number\"\n          :style=\"{fontSize:24 - 2*version.length+'px'}\"\n        >\n          <span>{{ version }}</span>\n        </v-list-item>\n      </v-list>\n    </v-navigation-drawer>\n  </transition>\n</template>\n<style lang=\"scss\" scoped>\n.drawer {\n  background-color: var(--v-secondary-base) !important;\n}\n.drawer-header {\n  width: 100%;\n  height: 50px;\n  border-bottom: 1px solid white;\n  background-color: var(--v-secondary-base);\n  color: white;\n  display: flex;\n  align-items: center;\n  padding-left: 18px;\n  cursor: pointer;\n}\n.drawer-list {\n  height: calc(100% - 50px);\n  display: flex;\n\n  flex-direction: column;\n  padding: 20px 0;\n}\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  color:white ;\n  flex: 0;\n  transition: 0.3s;\n}\n.version-number {\n  justify-content: flex-start ;\n  color:white !important;\n  margin-bottom:-1rem;\n  flex: 0;\n}\n.drawer-list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n.drawer-list-item-icon-disabled {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  opacity: 0.4;\n}\n.drawer-list-item-selected {\n  background-color: var(--v-secondarydarkfix-base);\n}\n.drawer-list-item:hover {\n  background-color: var(--v-secondary-base);\n}\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationDrawer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationDrawer.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationDrawer.vue?vue&type=style&index=0&id=5b138161&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationDrawer.vue?vue&type=style&index=0&id=5b138161&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NavigationDrawer.vue?vue&type=template&id=5b138161&scoped=true&\"\nimport script from \"./NavigationDrawer.vue?vue&type=script&lang=js&\"\nexport * from \"./NavigationDrawer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavigationDrawer.vue?vue&type=style&index=0&id=5b138161&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b138161\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    { staticClass: \"text-center\" },\n    [\n      _c(\n        \"v-bottom-sheet\",\n        {\n          attrs: { persistent: \"\" },\n          model: {\n            value: _vm.sheet,\n            callback: function ($$v) {\n              _vm.sheet = $$v\n            },\n            expression: \"sheet\",\n          },\n        },\n        [\n          _c(\"v-sheet\", { staticClass: \"text-center\" }, [\n            _c(\n              \"div\",\n              [\n                _c(\n                  \"v-alert\",\n                  { attrs: { prominent: \"\", type: \"error\" } },\n                  [\n                    _c(\n                      \"v-row\",\n                      [\n                        _c(\"v-col\", { staticClass: \"grow\" }, [\n                          _c(\"h2\", [\n                            _vm._v(\n                              \"\\n                ERROR: \" +\n                                _vm._s(_vm.err.name) +\n                                \"\\n              \"\n                            ),\n                          ]),\n                          _vm._v(\" \"),\n                          _c(\"p\", [\n                            _vm._v(\n                              \"\\n                \" +\n                                _vm._s(_vm.err.message) +\n                                \"\\n              \"\n                            ),\n                          ]),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\n                          \"v-col\",\n                          { staticClass: \"shrink\" },\n                          [\n                            _c(\n                              \"v-btn\",\n                              { attrs: { icon: \"\" }, on: { click: _vm.close } },\n                              [\n                                _c(\"v-icon\", [\n                                  _vm._v(\n                                    \"\\n                  fas fa-times\\n                \"\n                                  ),\n                                ]),\n                              ],\n                              1\n                            ),\n                          ],\n                          1\n                        ),\n                      ],\n                      1\n                    ),\n                  ],\n                  1\n                ),\n              ],\n              1\n            ),\n          ]),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nexport default {\n  name: 'Alert',\n  components: {\n\n  },\n\n  props: [],\n  events: [],\n  data () {\n    return {\n      sheet: false,\n\n    }\n  },\n  computed: {\n    err () {\n      return this.$store.getters.alert\n    },\n  },\n  watch: {\n    err (val) {\n      if (val.name) {\n        this.sheet = true\n        console.error(val)\n      }\n    },\n  },\n  methods: {\n    close () {\n      this.$store.commit('changeAlert', {})\n      this.sheet = !this.sheet\n    },\n  },\n}\n</script>\n<template>\n  <div class=\"text-center\">\n    <v-bottom-sheet\n      v-model=\"sheet\"\n      persistent\n    >\n      <v-sheet\n        class=\"text-center\"\n      >\n        <div>\n          <v-alert\n            prominent\n            type=\"error\"\n          >\n            <v-row>\n              <v-col class=\"grow\">\n                <h2>\n                  ERROR: {{ err.name }}\n                </h2>\n                <p>\n                  {{ err.message }}\n                </p>\n              </v-col>\n              <v-col class=\"shrink\">\n                <v-btn\n                  icon\n                  @click=\"close\"\n                >\n                  <v-icon>\n                    fas fa-times\n                  </v-icon>\n                </v-btn>\n              </v-col>\n            </v-row>\n          </v-alert>\n        </div>\n      </v-sheet>\n    </v-bottom-sheet>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Alert.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Alert.vue?vue&type=script&lang=js&\"","import mod from \"-!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","<script>\nimport Toolbar from '@comp/layout/Toolbar.vue'\nimport NavigationDrawer from '@comp/layout/NavigationDrawer.vue'\nimport Alert from '@comp/utils/Alert.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    Toolbar,\n    NavigationDrawer,\n    Alert,\n  },\n  data () {\n    return {\n      snackbar: false,\n    }\n  },\n  computed: {\n    notification () {\n      return this.$store.getters.notification\n    },\n    loading () {\n      return this.$store.getters.loading\n    },\n  },\n  watch: {\n    notification () {\n      this.snackbar = !!this.notification.text\n    },\n    snackbar (val) {\n      if (val === false) {\n        this.$store.commit('changeNotification', { text: '', autoClose: true })\n      }\n    },\n  },\n  async created () {\n    // init links and node to empty one (new project)\n    this.$store.commit('initNetworks')\n    this.$store.commit('changeDarkMode', this.$vuetify.theme.dark)\n  },\n  methods: {\n    closeSnackbar () {\n      this.snackbar = false\n    },\n    onResize () {\n      // -50 for the ToolBar\n      this.$store.commit('changeWindowHeight', this.$refs.container.clientHeight - 50)\n    },\n  },\n}\n</script>\n<template>\n  <v-app class=\"app\">\n    <NavigationDrawer />\n    <div\n      ref=\"container\"\n      v-resize=\"onResize\"\n      class=\"container\"\n    >\n      <Toolbar />\n      <transition name=\"fade\">\n        <router-view />\n      </transition>\n    </div>\n    <v-overlay :value=\"loading\">\n      <v-progress-circular\n        indeterminate\n        size=\"64\"\n      />\n    </v-overlay>\n    <v-snackbar\n      v-model=\"snackbar\"\n      :timeout=\"notification.autoClose ? 3000 : -1\"\n      transition=\"slide-y-reverse-transition\"\n      :color=\"notification.color? notification.color : 'white'\"\n      :class=\"`snackbar-${notification.type}`\"\n    >\n      <span class=\"snackbar-text\">\n        {{ $gettext(notification.text) }}\n      </span>\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn\n          small\n          color=\"secondarydark\"\n          text\n          v-bind=\"attrs\"\n          @click=\"closeSnackbar\"\n        >\n          {{ $gettext(\"Close\") }}\n        </v-btn>\n      </template>\n    </v-snackbar>\n    <Alert />\n  </v-app>\n</template>\n<style lang=\"scss\" scoped>\n.app {\n  background-color: $grey-ultralight !important;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n.snackbar-text{\n  color:var(--v-secondarydark-base);\n}\n.container {\n  height: 100%;\n  margin-left: 50px;\n  width: calc(100% - 50px);\n  max-width: calc(100% - 50px);\n  padding: 0;\n}\n.container.login {\n  margin-left: 0;\n  width: 100%;\n}\n</style>\n","import { render, staticRenderFns } from \"./Alert.vue?vue&type=template&id=785f7271&scoped=true&\"\nimport script from \"./Alert.vue?vue&type=script&lang=js&\"\nexport * from \"./Alert.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"785f7271\",\n  null\n  \n)\n\nexport default component.exports","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=0e5b4375&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=0e5b4375&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=0e5b4375&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=0e5b4375&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e5b4375\",\n  null\n  \n)\n\nexport default component.exports","import '@fortawesome/fontawesome-free/css/all.css'\nimport 'vuetify/dist/vuetify.min.css'\nimport 'mapbox-gl/dist/mapbox-gl.css'\nimport '@scss/app.scss'\n\nimport Vue from 'vue'\nimport GetTextPlugin from 'vue-gettext'\nimport { store } from './store'\nimport router from './router'\nimport Vuetify from 'vuetify'\nimport 'promise-polyfill/src/polyfill'\n\nimport fr from 'vuetify/es5/locale/fr'\nimport en from 'vuetify/es5/locale/en'\nimport de from 'vuetify/es5/locale/de'\nimport es from 'vuetify/es5/locale/es'\nimport pt from 'vuetify/es5/locale/pt'\n\nimport translations from './translations.json'\n\nimport App from './App.vue'\n\nconst mapboxPublicKey = process.env.VUE_APP_MAPBOX_PUBLIC_KEY\nconsole.assert(mapboxPublicKey)\n\nconst languageMixin = {\n  methods: {\n    $selectBestLanguage (browserLangs, supportedLangs) {\n      if (browserLangs.length) {\n        for (const lang of browserLangs) {\n          const parts = lang.toLowerCase().split('-')\n          if (parts.length > 1) {\n            parts[1] = parts[1].toUpperCase()\n          }\n          const normLang = parts.join('-')\n          if (supportedLangs.includes(normLang)) {\n            return normLang\n          } else if (parts.length > 1 && supportedLangs.includes(parts[0])) {\n            return parts[0]\n          }\n        }\n        return supportedLangs[0]\n      } else {\n        return supportedLangs[0]\n      }\n    },\n  },\n}\n\nconst bestLanguage = languageMixin.methods.$selectBestLanguage(navigator.languages, ['en', 'fr', 'es', 'de', 'pt'])\nconst darkMode = (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches)\n\nVue.use(Vuetify)\nVue.use(GetTextPlugin, {\n  autoAddKeyAttributes: true,\n  availableLanguages: {\n    en: 'English',\n    fr: 'Franais',\n    es: 'Espaol',\n    de: 'Deutsch',\n    pt: 'Portugus',\n  },\n  defaultLanguage: bestLanguage,\n  translations,\n  silent: true,\n})\n\nVue.config.productionTip = false\nVue.config.devtools = false\nVue.config.performance = false\n\nconst vuetify = new Vuetify({\n  theme: {\n    dark: !!darkMode,\n    options: {\n      customProperties: true,\n    },\n    themes: {\n\n      light: {\n        primary: '#B5E0D6',\n        primarydark: '#7EBAAC',\n        secondary: '#2C3E4E',\n        secondarydark: '#1A242C',\n        secondarydarkfix: '#1A242C',\n        secondarylight: '#334453',\n        background: '#808080',\n        lightgrey: '#E3E4E6',\n        white: '#fff',\n        black: '#000000',\n        mediumgrey: '#9E9E9E',\n        darkgrey: '#5B5B5C',\n        accent: '#2C3E4E',\n        linksprimary: '#7EBAAC',\n        linkssecondary: '#B5E0D6',\n        chart: {\n          lightgreen: '#CDDC39',\n          darkgreen: '#4CAF50',\n          lightblue: '#00BCD4',\n          darkblue: '#2196F3',\n          purple: '#673AB7',\n          pink: '#E91E63',\n          orange: '#FF7B30',\n          yellow: '#FFC107',\n        },\n      },\n      dark: {\n        primary: '#2196F3',\n        primarydark: '#191919',\n        secondary: '#263238',\n        secondarydark: '#fff',\n        secondarydarkfix: '#1A242C',\n        lightgrey: '#403f3f',\n        mediumgrey: '#575757',\n        darkgrey: '#d9d9db',\n        background: '#000000',\n        white: '#000000',\n        black: '#fff',\n        success: '#2196F3',\n        accent: '#d3c1b1',\n        linksprimary: '#2196F3',\n        linkssecondary: '#90CAF9',\n        chart: {\n          lightgreen: '#CDDC39',\n          darkgreen: '#4CAF50',\n          lightblue: '#00BCD4',\n          darkblue: '#2196F3',\n          purple: '#673AB7',\n          pink: '#E91E63',\n          orange: '#FF7B30',\n          yellow: '#FFC107',\n        },\n\n      },\n\n    },\n  },\n  icons: {\n    iconfont: 'fa',\n  },\n  lang: {\n    locales: { fr, en, es, de, pt },\n    current: bestLanguage,\n  },\n})\n\nVue.mixin(languageMixin)\n\nVue.mixin({\n  methods: {\n    $flatEdges (obj, recurse = false) {\n      let flatObj = obj\n      if (obj.edges) {\n        flatObj = obj.edges.map(edge => edge.node)\n      }\n      if (recurse) {\n        for (const key in obj) {\n          if (obj[key] !== null && typeof obj[key] === 'object') {\n            obj[key] = this.$flatEdges(obj[key], true)\n          }\n        }\n      }\n      return flatObj\n    },\n  },\n})\n\nconst app = new Vue({\n\n  router,\n  store,\n  vuetify,\n  render: h => h(App),\n  template: '<App/>',\n})\n\napp.$mount('#app')\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\"input\", {\n        ref: \"zipInput\",\n        staticStyle: { display: \"none\" },\n        attrs: { id: \"zip-input\", type: \"file\", accept: \".zip\" },\n        on: { change: _vm.readZip },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"layout\" },\n        [\n          _c(\"div\", {\n            staticClass: \"layout-overlay\",\n            class: { \"animate-layer\": _vm.loggedIn },\n          }),\n          _vm._v(\" \"),\n          _c(\n            \"v-card\",\n            { staticClass: \"card\", class: { \"animate-login\": _vm.loggedIn } },\n            [\n              _c(\n                \"v-row\",\n                [\n                  _c(\n                    \"v-col\",\n                    [\n                      _c(\n                        \"v-card-text\",\n                        { style: { textAlign: \"center\" } },\n                        [\n                          _c(\"div\", { staticClass: \"title\" }, [\n                            _vm._v(\n                              \"\\n              \" +\n                                _vm._s(_vm.$gettext(\"Select a Project\")) +\n                                \"\\n            \"\n                            ),\n                          ]),\n                          _vm._v(\" \"),\n                          _c(\"div\", [\n                            _vm._v(\n                              \"\\n              \" +\n                                _vm._s(\n                                  _vm.$gettext(\n                                    \"Log in and select an existing project or create a new project from project navigation menu\"\n                                  )\n                                ) +\n                                \"\\n            \"\n                            ),\n                          ]),\n                          _vm._v(\" \"),\n                          _c(\"div\", { staticClass: \"subtitle\" }, [\n                            _vm._v(\n                              \"\\n              \" +\n                                _vm._s(_vm.$gettext(\"OR\")) +\n                                \"\\n            \"\n                            ),\n                          ]),\n                          _vm._v(\" \"),\n                          _c(\"div\", { staticClass: \"title\" }, [\n                            _vm._v(\n                              \"\\n              \" +\n                                _vm._s(\n                                  _vm.$gettext(\"Continue Without Project\")\n                                ) +\n                                \"\\n            \"\n                            ),\n                          ]),\n                          _vm._v(\" \"),\n                          _c(\"div\", [\n                            _vm._v(\n                              \"\\n              \" +\n                                _vm._s(\n                                  _vm.$gettext(\n                                    \"Start importing files individually or start with an empty project\"\n                                  )\n                                ) +\n                                \"\\n            \"\n                            ),\n                          ]),\n                          _vm._v(\" \"),\n                          _c(\"div\", { staticClass: \"subtitle\" }, [\n                            _vm._v(\n                              \"\\n              \" +\n                                _vm._s(_vm.$gettext(\"OR\")) +\n                                \"\\n            \"\n                            ),\n                          ]),\n                          _vm._v(\" \"),\n                          _c(\n                            \"div\",\n                            { staticClass: \"title\" },\n                            [\n                              _vm._v(\n                                \"\\n              \" +\n                                  _vm._s(_vm.$gettext(\"Load Zip\")) +\n                                  \"\\n              \"\n                              ),\n                              _c(\"InfoZip\"),\n                            ],\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"div\",\n                            [\n                              _c(\n                                \"v-btn\",\n                                {\n                                  style: { \"margin-right\": \"auto\" },\n                                  attrs: { color: \"normal\" },\n                                  on: {\n                                    click: function ($event) {\n                                      return _vm.buttonHandle(\"zip\")\n                                    },\n                                  },\n                                },\n                                [\n                                  _c(\n                                    \"v-icon\",\n                                    { attrs: { small: \"\", left: \"\" } },\n                                    [\n                                      _vm._v(\n                                        \"\\n                  fas fa-file-archive\\n                \"\n                                      ),\n                                    ]\n                                  ),\n                                  _vm._v(\n                                    \"\\n                \" +\n                                      _vm._s(_vm.$gettext(\"Load Zip File\")) +\n                                      \"\\n              \"\n                                  ),\n                                ],\n                                1\n                              ),\n                            ],\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\"div\", { staticClass: \"subtitle\" }, [\n                            _vm._v(\n                              \"\\n              \" +\n                                _vm._s(_vm.$gettext(\"OR\")) +\n                                \"\\n            \"\n                            ),\n                          ]),\n                          _vm._v(\" \"),\n                          _c(\"div\", { staticClass: \"title\" }, [\n                            _vm._v(\n                              \"\\n              \" +\n                                _vm._s(_vm.$gettext(\"Load Example\")) +\n                                \"\\n            \"\n                            ),\n                          ]),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-menu\",\n                            {\n                              attrs: {\n                                \"offset-y\": \"\",\n                                \"nudge-left\": \"70\",\n                                \"close-delay\": \"100\",\n                                transition: \"slide-y-transition\",\n                              },\n                              scopedSlots: _vm._u([\n                                {\n                                  key: \"activator\",\n                                  fn: function ({ on: on, attrs: attrs }) {\n                                    return [\n                                      _c(\n                                        \"v-btn\",\n                                        _vm._g(\n                                          _vm._b(\n                                            {\n                                              style: {\n                                                \"margin-bottom\": \"2rem\",\n                                              },\n                                            },\n                                            \"v-btn\",\n                                            attrs,\n                                            false\n                                          ),\n                                          on\n                                        ),\n                                        [\n                                          _vm._v(\n                                            \"\\n                  \" +\n                                              _vm._s(\n                                                _vm.$gettext(\"Load Example\")\n                                              ) +\n                                              \"\\n                \"\n                                          ),\n                                        ]\n                                      ),\n                                    ]\n                                  },\n                                },\n                              ]),\n                            },\n                            [\n                              _vm._v(\" \"),\n                              _c(\n                                \"v-list\",\n                                [\n                                  _c(\n                                    \"v-list-item\",\n                                    {\n                                      attrs: { link: \"\" },\n                                      on: {\n                                        click: () =>\n                                          _vm.buttonHandle(\"example1\"),\n                                      },\n                                    },\n                                    [\n                                      _c(\"v-list-item-title\", [\n                                        _vm._v(\n                                          \"\\n                    \" +\n                                            _vm._s(_vm.$gettext(\"PT & Road\")) +\n                                            \"\\n                  \"\n                                        ),\n                                      ]),\n                                    ],\n                                    1\n                                  ),\n                                  _vm._v(\" \"),\n                                  _c(\n                                    \"v-list-item\",\n                                    {\n                                      attrs: { link: \"\" },\n                                      on: {\n                                        click: () =>\n                                          _vm.buttonHandle(\"example2\"),\n                                      },\n                                    },\n                                    [\n                                      _c(\"v-list-item-title\", [\n                                        _vm._v(\n                                          \"\\n                    \" +\n                                            _vm._s(\n                                              _vm.$gettext(\n                                                \"PT, Road, Zones, OD & Results\"\n                                              )\n                                            ) +\n                                            \"\\n                  \"\n                                        ),\n                                      ]),\n                                    ],\n                                    1\n                                  ),\n                                ],\n                                1\n                              ),\n                            ],\n                            1\n                          ),\n                        ],\n                        1\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"v-divider\", { attrs: { vertical: \"\" } }),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-col\",\n                    [\n                      _c(\"FileLoader\", {\n                        on: { FilesLoaded: (files) => _vm.loadNetwork(files) },\n                      }),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"v-divider\", { attrs: { vertical: \"\" } }),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-col\",\n                    [\n                      _c(\"FilesList\", {\n                        on: { FilesLoaded: (files) => _vm.loadNetwork(files) },\n                      }),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"button-row\" },\n                [\n                  _c(\n                    \"v-tooltip\",\n                    {\n                      attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                      scopedSlots: _vm._u([\n                        {\n                          key: \"activator\",\n                          fn: function ({ on, attrs }) {\n                            return [\n                              _c(\n                                \"v-btn\",\n                                _vm._g(\n                                  _vm._b(\n                                    {\n                                      on: {\n                                        click: function ($event) {\n                                          return _vm.buttonHandle(\"newProject\")\n                                        },\n                                      },\n                                    },\n                                    \"v-btn\",\n                                    attrs,\n                                    false\n                                  ),\n                                  on\n                                ),\n                                [\n                                  _vm._v(\n                                    \"\\n              \" +\n                                      _vm._s(_vm.$gettext(\"delete all\")) +\n                                      \"\\n            \"\n                                  ),\n                                ]\n                              ),\n                            ]\n                          },\n                        },\n                      ]),\n                    },\n                    [\n                      _vm._v(\" \"),\n                      _c(\"span\", [\n                        _vm._v(\n                          _vm._s(\n                            _vm.$gettext(\n                              \"Delete all network and start from scratch\"\n                            )\n                          )\n                        ),\n                      ]),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { disabled: !_vm.filesAdded, color: \"primary\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.login()\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Go!\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { persistent: \"\", \"max-width\": \"350\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.applyDialog.apply(null, arguments)\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                _vm.showDialog = false\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Overwrite current Project ?\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.showDialog = !_vm.showDialog\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"No\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"primary\" },\n                      on: { click: _vm.applyDialog },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Yes\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    [\n      _c(\"input\", {\n        ref: \"fileInput\",\n        staticStyle: { display: \"none\" },\n        attrs: { id: \"file-input\", type: \"file\", accept: \".geojson\" },\n        on: { change: _vm.readFile },\n      }),\n      _vm._v(\" \"),\n      _c(\"input\", {\n        ref: \"paramsInput\",\n        staticStyle: { display: \"none\" },\n        attrs: { id: \"params-input\", type: \"file\", accept: \".json\" },\n        on: { change: _vm.readParams },\n      }),\n      _vm._v(\" \"),\n      _c(\"input\", {\n        ref: \"stylesInput\",\n        staticStyle: { display: \"none\" },\n        attrs: { id: \"styles-input\", type: \"file\", accept: \".json\" },\n        on: { change: _vm.readStyles },\n      }),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"row\" }, [\n        _c(\n          \"div\",\n          { staticClass: \"container\" },\n          [\n            _c(\n              \"v-icon\",\n              {\n                staticClass: \"type-icon\",\n                style: { opacity: _vm.linksIsEmpty ? \"0.50\" : \"1\" },\n              },\n              [_vm._v(\"\\n        fas fa-project-diagram\\n      \")]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              {\n                staticClass: \"subtitle\",\n                style: { opacity: _vm.linksIsEmpty ? \"0.50\" : \"1\" },\n              },\n              [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"PT Network\")) +\n                    \"\\n        \"\n                ),\n                !_vm.linksIsEmpty\n                  ? _c(\n                      \"v-icon\",\n                      {\n                        staticClass: \"check-icon\",\n                        attrs: { color: \"success\" },\n                      },\n                      [_vm._v(\"\\n          fas fa-check\\n        \")]\n                    )\n                  : _vm._e(),\n              ],\n              1\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"element\" },\n              [\n                _c(\n                  \"v-menu\",\n                  {\n                    attrs: {\n                      \"offset-y\": \"\",\n                      \"close-delay\": \"100\",\n                      transition: \"slide-y-transition\",\n                    },\n                    scopedSlots: _vm._u([\n                      {\n                        key: \"activator\",\n                        fn: function ({ on: on, attrs: attrs }) {\n                          return [\n                            _c(\n                              \"v-btn\",\n                              _vm._g(\n                                _vm._b(\n                                  { attrs: { icon: \"\", outlined: \"\" } },\n                                  \"v-btn\",\n                                  attrs,\n                                  false\n                                ),\n                                on\n                              ),\n                              [\n                                _c(\"v-icon\", { attrs: { small: \"\" } }, [\n                                  _vm._v(\n                                    \"\\n                fa-solid fa-upload\\n              \"\n                                  ),\n                                ]),\n                              ],\n                              1\n                            ),\n                          ]\n                        },\n                      },\n                    ]),\n                  },\n                  [\n                    _vm._v(\" \"),\n                    _c(\n                      \"v-list\",\n                      [\n                        _c(\n                          \"v-list-item\",\n                          {\n                            attrs: {\n                              link: \"\",\n                              disabled:\n                                _vm.loadedType == \"road\" ||\n                                _vm.localLinksLoaded,\n                            },\n                            on: { click: () => _vm.buttonHandle(\"PT links\") },\n                          },\n                          [\n                            _c(\"v-list-item-title\", [\n                              _vm._v(\n                                \"\\n                \" +\n                                  _vm._s(_vm.$gettext(\"Links\")) +\n                                  \"\\n              \"\n                              ),\n                            ]),\n                          ],\n                          1\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"v-list-item\",\n                          {\n                            attrs: {\n                              link: \"\",\n                              disabled:\n                                _vm.loadedType == \"road\" ||\n                                _vm.localNodesLoaded,\n                            },\n                            on: { click: () => _vm.buttonHandle(\"PT nodes\") },\n                          },\n                          [\n                            _c(\"v-list-item-title\", [\n                              _vm._v(\n                                \"\\n                \" +\n                                  _vm._s(_vm.$gettext(\"Nodes\")) +\n                                  \"\\n              \"\n                              ),\n                            ]),\n                          ],\n                          1\n                        ),\n                      ],\n                      1\n                    ),\n                  ],\n                  1\n                ),\n              ],\n              1\n            ),\n          ],\n          1\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"container\" },\n          [\n            _c(\n              \"v-icon\",\n              {\n                staticClass: \"type-icon\",\n                style: { opacity: _vm.rlinksIsEmpty ? \"0.50\" : \"1\" },\n              },\n              [_vm._v(\"\\n        fas fa-project-diagram\\n      \")]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              {\n                staticClass: \"subtitle\",\n                style: { opacity: _vm.rlinksIsEmpty ? \"0.50\" : \"1\" },\n              },\n              [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Road Network\")) +\n                    \"\\n        \"\n                ),\n                !_vm.rlinksIsEmpty\n                  ? _c(\n                      \"v-icon\",\n                      {\n                        staticClass: \"check-icon\",\n                        attrs: { color: \"success\" },\n                      },\n                      [_vm._v(\"\\n          fas fa-check\\n        \")]\n                    )\n                  : _vm._e(),\n              ],\n              1\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"element\" },\n              [\n                _c(\n                  \"v-menu\",\n                  {\n                    attrs: {\n                      \"offset-y\": \"\",\n                      \"close-delay\": \"100\",\n                      transition: \"slide-y-transition\",\n                    },\n                    scopedSlots: _vm._u([\n                      {\n                        key: \"activator\",\n                        fn: function ({ on: on, attrs: attrs }) {\n                          return [\n                            _c(\n                              \"v-btn\",\n                              _vm._g(\n                                _vm._b(\n                                  { attrs: { icon: \"\", outlined: \"\" } },\n                                  \"v-btn\",\n                                  attrs,\n                                  false\n                                ),\n                                on\n                              ),\n                              [\n                                _c(\"v-icon\", { attrs: { small: \"\" } }, [\n                                  _vm._v(\n                                    \"\\n                fa-solid fa-upload\\n              \"\n                                  ),\n                                ]),\n                              ],\n                              1\n                            ),\n                          ]\n                        },\n                      },\n                    ]),\n                  },\n                  [\n                    _vm._v(\" \"),\n                    _c(\n                      \"v-list\",\n                      [\n                        _c(\n                          \"v-list-item\",\n                          {\n                            attrs: {\n                              link: \"\",\n                              disabled:\n                                _vm.loadedType == \"PT\" || _vm.localLinksLoaded,\n                            },\n                            on: { click: () => _vm.buttonHandle(\"road links\") },\n                          },\n                          [\n                            _c(\"v-list-item-title\", [\n                              _vm._v(\n                                \"\\n                \" +\n                                  _vm._s(_vm.$gettext(\"Links\")) +\n                                  \"\\n              \"\n                              ),\n                            ]),\n                          ],\n                          1\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"v-list-item\",\n                          {\n                            attrs: {\n                              link: \"\",\n                              disabled:\n                                _vm.loadedType == \"PT\" || _vm.localNodesLoaded,\n                            },\n                            on: { click: () => _vm.buttonHandle(\"road nodes\") },\n                          },\n                          [\n                            _c(\"v-list-item-title\", [\n                              _vm._v(\n                                \"\\n                \" +\n                                  _vm._s(_vm.$gettext(\"Nodes\")) +\n                                  \"\\n              \"\n                              ),\n                            ]),\n                          ],\n                          1\n                        ),\n                      ],\n                      1\n                    ),\n                  ],\n                  1\n                ),\n              ],\n              1\n            ),\n          ],\n          1\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"container\" },\n          [\n            _c(\n              \"v-icon\",\n              {\n                staticClass: \"type-icon\",\n                style: { opacity: _vm.ODIsEmpty ? \"0.50\" : \"1\" },\n              },\n              [_vm._v(\"\\n        fas fa-exchange-alt\\n      \")]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              {\n                staticClass: \"subtitle\",\n                style: { opacity: _vm.ODIsEmpty ? \"0.50\" : \"1\" },\n              },\n              [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Origin - Destination\")) +\n                    \"\\n        \"\n                ),\n                !_vm.ODIsEmpty\n                  ? _c(\n                      \"v-icon\",\n                      {\n                        staticClass: \"check-icon\",\n                        attrs: { color: \"success\" },\n                      },\n                      [_vm._v(\"\\n          fas fa-check\\n        \")]\n                    )\n                  : _vm._e(),\n              ],\n              1\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"element\" },\n              [\n                _c(\n                  \"v-btn\",\n                  {\n                    attrs: { icon: \"\", outlined: \"\" },\n                    on: { click: () => _vm.buttonHandle(\"od\") },\n                  },\n                  [\n                    _c(\"v-icon\", { attrs: { small: \"\" } }, [\n                      _vm._v(\"\\n            fa-solid fa-upload\\n          \"),\n                    ]),\n                  ],\n                  1\n                ),\n              ],\n              1\n            ),\n          ],\n          1\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\"v-divider\"),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"row\" }, [\n        _c(\n          \"div\",\n          { staticClass: \"container\" },\n          [\n            _c(\n              \"v-icon\",\n              {\n                staticClass: \"type-icon\",\n                style: { opacity: _vm.paramsIsEmpty ? \"0.50\" : \"1\" },\n              },\n              [_vm._v(\"\\n        fas fa-cog\\n      \")]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              {\n                staticClass: \"subtitle\",\n                style: { opacity: _vm.paramsIsEmpty ? \"0.50\" : \"1\" },\n              },\n              [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Parameters\")) +\n                    \"\\n        \"\n                ),\n                !_vm.paramsIsEmpty\n                  ? _c(\n                      \"v-icon\",\n                      {\n                        staticClass: \"check-icon\",\n                        attrs: { color: \"success\" },\n                      },\n                      [_vm._v(\"\\n          fas fa-check\\n        \")]\n                    )\n                  : _vm._e(),\n              ],\n              1\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"element\" },\n              [\n                _c(\n                  \"v-btn\",\n                  {\n                    attrs: { icon: \"\", outlined: \"\" },\n                    on: { click: () => _vm.buttonHandle(\"parameters\") },\n                  },\n                  [\n                    _c(\"v-icon\", { attrs: { small: \"\" } }, [\n                      _vm._v(\"\\n            fa-solid fa-upload\\n          \"),\n                    ]),\n                  ],\n                  1\n                ),\n              ],\n              1\n            ),\n          ],\n          1\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"container\" },\n          [\n            _c(\n              \"v-icon\",\n              {\n                staticClass: \"type-icon\",\n                style: { opacity: _vm.stylesIsEmpty ? \"0.50\" : \"1\" },\n              },\n              [_vm._v(\"\\n        fas fa-palette\\n      \")]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              {\n                staticClass: \"subtitle\",\n                style: { opacity: _vm.stylesIsEmpty ? \"0.50\" : \"1\" },\n              },\n              [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Style presets\")) +\n                    \"\\n        \"\n                ),\n                !_vm.stylesIsEmpty\n                  ? _c(\n                      \"v-icon\",\n                      {\n                        staticClass: \"check-icon\",\n                        attrs: { color: \"success\" },\n                      },\n                      [_vm._v(\"\\n          fas fa-check\\n        \")]\n                    )\n                  : _vm._e(),\n              ],\n              1\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"element\" },\n              [\n                _c(\n                  \"v-btn\",\n                  {\n                    attrs: { icon: \"\", outlined: \"\" },\n                    on: { click: () => _vm.buttonHandle(\"styles\") },\n                  },\n                  [\n                    _c(\"v-icon\", { attrs: { small: \"\" } }, [\n                      _vm._v(\"\\n            fa-solid fa-upload\\n          \"),\n                    ]),\n                  ],\n                  1\n                ),\n              ],\n              1\n            ),\n          ],\n          1\n        ),\n      ]),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<!-- eslint-disable no-case-declarations -->\n<script>\nimport { serializer } from '@comp/utils/serializer.js'\nimport { readFileAsText } from '@comp/utils/utils.js'\n\n// const $gettext = s => s\n\nexport default {\n  name: 'FileLoader',\n  events: ['FilesLoaded'],\n\n  data () {\n    return {\n      loadedLinks: {},\n      loadedNodes: {},\n      loadedType: '',\n      choice: '',\n    }\n  },\n\n  computed: {\n    rlinksIsEmpty () { return this.$store.getters.rlinksIsEmpty },\n    linksIsEmpty () { return this.$store.getters.linksIsEmpty },\n    ODIsEmpty () { return this.$store.getters['od/layerIsEmpty'] },\n    paramsIsEmpty () { return this.$store.getters['run/parametersIsEmpty'] },\n    stylesIsEmpty () { return this.$store.getters.styles.length === 0 },\n    localLinksLoaded () { return Object.keys(this.loadedLinks).length !== 0 },\n    localNodesLoaded () { return Object.keys(this.loadedNodes).length !== 0 },\n    localFilesAreLoaded () {\n      return (this.localLinksLoaded && this.localNodesLoaded)\n    },\n\n  },\n  watch: {\n\n    localFilesAreLoaded (val) {\n      if (val) {\n        let files = []\n        if (this.loadedType === 'PT') {\n          files = [\n            { path: 'inputs/pt/links.geojson', content: this.loadedLinks },\n            { path: 'inputs/pt/nodes.geojson', content: this.loadedNodes },\n          ]\n        } else {\n          files = [\n            { path: 'inputs/road/links.geojson', content: this.loadedLinks },\n            { path: 'inputs/road/nodes.geojson', content: this.loadedNodes },\n          ]\n        }\n        this.$emit('FilesLoaded', files)\n        this.loadedLinks = {}\n        this.loadedNodes = {}\n        this.loadedType = ''\n      }\n    },\n\n  },\n\n  methods: {\n    buttonHandle (choice) {\n      this.choice = choice\n      if (this.choice === 'parameters') {\n        this.$refs.paramsInput.click()\n        document.getElementById('params-input').value = '' // clean it for next file\n      } else if (this.choice === 'styles') {\n        this.$refs.stylesInput.click()\n        document.getElementById('styles-input').value = '' // clean it for next file\n      } else if (['PT links', 'PT nodes', 'road links', 'road nodes', 'od'].includes(this.choice)) {\n        this.$refs.fileInput.click()\n        document.getElementById('file-input').value = '' // clean it for next file\n      }\n    },\n\n    async readParams (event) {\n      this.$store.commit('changeLoading', true)\n      const files = event.target.files\n      try {\n        let data = await readFileAsText(files[0])\n        data = JSON.parse(data)\n        this.$emit('FilesLoaded', [{ path: 'inputs/params.json', content: data }])\n        this.$store.commit('changeLoading', false)\n      } catch (err) {\n        this.$store.commit('changeLoading', false)\n        this.$store.commit('changeAlert', err)\n      }\n    },\n    async readStyles (event) {\n      this.$store.commit('changeLoading', true)\n      const files = event.target.files\n      try {\n        let data = await readFileAsText(files[0])\n        data = JSON.parse(data)\n        this.$emit('FilesLoaded', [{ path: 'styles.json', content: data }])\n        this.$store.commit('changeLoading', false)\n      } catch (err) {\n        this.$store.commit('changeLoading', false)\n        this.$store.commit('changeAlert', err)\n      }\n    },\n    async readFile (event) {\n      this.$store.commit('changeLoading', true)\n      const files = event.target.files\n      // it is a geojson\n      if (files[0].name.slice(-7) !== 'geojson') {\n        this.$store.commit('changeLoading', false)\n        this.$store.commit('changeAlert', { name: 'ImportError', message: 'File must be a geojson' })\n        return\n      }\n      const name = files[0].name\n\n      try {\n        let data = await readFileAsText(files[0])\n        data = JSON.parse(data)\n        switch (this.choice) {\n          case 'PT links':\n            this.loadedLinks = serializer(data, name, 'LineString')\n            this.loadedType = 'PT'\n            break\n          case 'PT nodes':\n            this.loadedNodes = serializer(data, name, 'Point')\n            this.loadedType = 'PT'\n            break\n          case 'road links':\n            this.loadedLinks = serializer(data, name, 'LineString')\n            this.loadedType = 'road'\n            break\n          case 'road nodes':\n            this.loadedNodes = serializer(data, name, 'Point')\n            this.loadedType = 'road'\n            break\n          case 'od':\n            this.$emit('FilesLoaded', [{ path: 'inputs/od/od.geojson', content: data }])\n            break\n          default:\n            console.log('autre')\n        }\n        this.$store.commit('changeLoading', false)\n      } catch (err) {\n        this.$store.commit('changeLoading', false)\n        this.$store.commit('changeAlert', err)\n      }\n    },\n  },\n}\n</script>\n<template>\n  <div>\n    <input\n      id=\"file-input\"\n      ref=\"fileInput\"\n      type=\"file\"\n      style=\"display: none\"\n      accept=\".geojson\"\n      @change=\"readFile\"\n    >\n    <input\n      id=\"params-input\"\n      ref=\"paramsInput\"\n      type=\"file\"\n      style=\"display: none\"\n      accept=\".json\"\n      @change=\"readParams\"\n    >\n    <input\n      id=\"styles-input\"\n      ref=\"stylesInput\"\n      type=\"file\"\n      style=\"display: none\"\n      accept=\".json\"\n      @change=\"readStyles\"\n    >\n    <div class=\"row\">\n      <div class=\"container\">\n        <v-icon\n          class=\"type-icon\"\n          :style=\"{'opacity': linksIsEmpty? '0.50':'1'}\"\n        >\n          fas fa-project-diagram\n        </v-icon>\n        <div\n          class=\"subtitle\"\n          :style=\"{'opacity': linksIsEmpty? '0.50':'1'}\"\n        >\n          {{ $gettext('PT Network') }}\n          <v-icon\n            v-if=\"!linksIsEmpty\"\n            class=\"check-icon\"\n            color=\"success\"\n          >\n            fas fa-check\n          </v-icon>\n        </div>\n\n        <div class=\"element\">\n          <v-menu\n            offset-y\n            close-delay=\"100\"\n            transition=\"slide-y-transition\"\n          >\n            <template v-slot:activator=\"{ on: on,attrs:attrs }\">\n              <v-btn\n                icon\n                outlined\n                v-bind=\"attrs\"\n                v-on=\"on\"\n              >\n                <v-icon small>\n                  fa-solid fa-upload\n                </v-icon>\n              </v-btn>\n            </template>\n            <v-list>\n              <v-list-item\n                link\n                :disabled=\"loadedType=='road' || localLinksLoaded\"\n                @click=\"()=>buttonHandle('PT links')\"\n              >\n                <v-list-item-title>\n                  {{ $gettext('Links') }}\n                </v-list-item-title>\n              </v-list-item>\n              <v-list-item\n                link\n                :disabled=\"loadedType=='road' || localNodesLoaded\"\n                @click=\"()=>buttonHandle('PT nodes')\"\n              >\n                <v-list-item-title>\n                  {{ $gettext('Nodes') }}\n                </v-list-item-title>\n              </v-list-item>\n            </v-list>\n          </v-menu>\n        </div>\n      </div>\n      <div class=\"container\">\n        <v-icon\n          class=\"type-icon\"\n          :style=\"{'opacity': rlinksIsEmpty? '0.50':'1'}\"\n        >\n          fas fa-project-diagram\n        </v-icon>\n        <div\n          class=\"subtitle\"\n          :style=\"{'opacity': rlinksIsEmpty? '0.50':'1'}\"\n        >\n          {{ $gettext('Road Network') }}\n          <v-icon\n            v-if=\"!rlinksIsEmpty\"\n            class=\"check-icon\"\n            color=\"success\"\n          >\n            fas fa-check\n          </v-icon>\n        </div>\n\n        <div class=\"element\">\n          <v-menu\n            offset-y\n            close-delay=\"100\"\n            transition=\"slide-y-transition\"\n          >\n            <template v-slot:activator=\"{ on: on,attrs:attrs }\">\n              <v-btn\n                icon\n                outlined\n                v-bind=\"attrs\"\n                v-on=\"on\"\n              >\n                <v-icon\n                  small\n                >\n                  fa-solid fa-upload\n                </v-icon>\n              </v-btn>\n            </template>\n            <v-list>\n              <v-list-item\n                link\n                :disabled=\"loadedType=='PT' || localLinksLoaded\"\n                @click=\"()=>buttonHandle('road links')\"\n              >\n                <v-list-item-title>\n                  {{ $gettext('Links') }}\n                </v-list-item-title>\n              </v-list-item>\n              <v-list-item\n                link\n                :disabled=\"loadedType=='PT' || localNodesLoaded\"\n                @click=\"()=>buttonHandle('road nodes')\"\n              >\n                <v-list-item-title>\n                  {{ $gettext('Nodes') }}\n                </v-list-item-title>\n              </v-list-item>\n            </v-list>\n          </v-menu>\n        </div>\n      </div>\n      <div class=\"container\">\n        <v-icon\n          class=\"type-icon\"\n          :style=\"{'opacity': ODIsEmpty? '0.50':'1'}\"\n        >\n          fas fa-exchange-alt\n        </v-icon>\n        <div\n          class=\"subtitle\"\n          :style=\"{'opacity': ODIsEmpty? '0.50':'1'}\"\n        >\n          {{ $gettext('Origin - Destination') }}\n          <v-icon\n            v-if=\"!ODIsEmpty\"\n            class=\"check-icon\"\n            color=\"success\"\n          >\n            fas fa-check\n          </v-icon>\n        </div>\n\n        <div class=\"element\">\n          <v-btn\n            icon\n            outlined\n            @click=\"()=>buttonHandle('od')\"\n          >\n            <v-icon small>\n              fa-solid fa-upload\n            </v-icon>\n          </v-btn>\n        </div>\n      </div>\n    </div>\n    <v-divider />\n    <div class=\"row\">\n      <div class=\"container\">\n        <v-icon\n          class=\"type-icon\"\n          :style=\"{'opacity': paramsIsEmpty? '0.50':'1'}\"\n        >\n          fas fa-cog\n        </v-icon>\n        <div\n          class=\"subtitle\"\n          :style=\"{'opacity': paramsIsEmpty? '0.50':'1'}\"\n        >\n          {{ $gettext('Parameters') }}\n          <v-icon\n            v-if=\"!paramsIsEmpty\"\n            class=\"check-icon\"\n            color=\"success\"\n          >\n            fas fa-check\n          </v-icon>\n        </div>\n\n        <div class=\"element\">\n          <v-btn\n            icon\n            outlined\n            @click=\"()=>buttonHandle('parameters')\"\n          >\n            <v-icon small>\n              fa-solid fa-upload\n            </v-icon>\n          </v-btn>\n        </div>\n      </div>\n      <div class=\"container\">\n        <v-icon\n          class=\"type-icon\"\n          :style=\"{'opacity': stylesIsEmpty? '0.50':'1'}\"\n        >\n          fas fa-palette\n        </v-icon>\n        <div\n          class=\"subtitle\"\n          :style=\"{'opacity': stylesIsEmpty? '0.50':'1'}\"\n        >\n          {{ $gettext('Style presets') }}\n          <v-icon\n            v-if=\"!stylesIsEmpty\"\n            class=\"check-icon\"\n            color=\"success\"\n          >\n            fas fa-check\n          </v-icon>\n        </div>\n\n        <div class=\"element\">\n          <v-btn\n            icon\n            outlined\n            @click=\"()=>buttonHandle('styles')\"\n          >\n            <v-icon small>\n              fa-solid fa-upload\n            </v-icon>\n          </v-btn>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n\n.row{\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding-bottom: 30px;\n  padding-top:18px;\n\n}\n.container{\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  align-items: center;\n  padding-left: 2em;\n  padding-right: 2em;\n\n}\n.type-icon{\n  padding-right: 0.2em;\n}\n.element{\n  margin-left: auto;\n}\n.check-icon{\n  padding-left: 1em;\n}\n.subtitle {\n  flex:2;\n  font-size: 1.5em;\n  font-weight: bold;\n}\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileLoader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileLoader.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileLoader.vue?vue&type=style&index=0&id=d3a53384&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileLoader.vue?vue&type=style&index=0&id=d3a53384&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./FileLoader.vue?vue&type=template&id=d3a53384&scoped=true&\"\nimport script from \"./FileLoader.vue?vue&type=script&lang=js&\"\nexport * from \"./FileLoader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileLoader.vue?vue&type=style&index=0&id=d3a53384&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d3a53384\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\"div\", [\n    _c(\"input\", {\n      ref: \"otherInputs\",\n      staticStyle: { display: \"none\" },\n      attrs: { id: \"other-inputs\", type: \"file\", multiple: \"multiple\" },\n      on: { change: _vm.readOtherInputs },\n    }),\n    _vm._v(\" \"),\n    _c(\"input\", {\n      ref: \"otherOutputs\",\n      staticStyle: { display: \"none\" },\n      attrs: { id: \"other-outputs\", type: \"file\", multiple: \"multiple\" },\n      on: { change: _vm.readOtherOutputs },\n    }),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"files-container\" }, [\n      _c(\"div\", { staticClass: \"title-box\" }, [\n        _c(\"h1\", { staticClass: \"title\" }, [\n          _vm._v(\n            \"\\n        \" + _vm._s(_vm.$gettext(\"Other Inputs\")) + \"\\n      \"\n          ),\n        ]),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"upload-button\" },\n          [\n            _c(\n              \"v-btn\",\n              {\n                attrs: { icon: \"\", outlined: \"\" },\n                on: { click: () => _vm.buttonHandle(\"inputs\") },\n              },\n              [\n                _c(\"v-icon\", { attrs: { small: \"\" } }, [\n                  _vm._v(\"\\n            fa-solid fa-upload\\n          \"),\n                ]),\n              ],\n              1\n            ),\n          ],\n          1\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"list\" },\n        _vm._l(_vm.inputFiles, function (path, key) {\n          return _c(\n            \"li\",\n            { key: key },\n            [\n              _vm._v(\"\\n        \" + _vm._s(path) + \"\\n        \"),\n              _c(\n                \"v-tooltip\",\n                {\n                  attrs: { top: \"\", \"open-delay\": \"250\" },\n                  scopedSlots: _vm._u(\n                    [\n                      {\n                        key: \"activator\",\n                        fn: function ({ on, attrs }) {\n                          return [\n                            _c(\n                              \"v-btn\",\n                              _vm._g(\n                                _vm._b(\n                                  {\n                                    staticClass: \"list-button\",\n                                    attrs: { icon: \"\" },\n                                    on: { click: () => _vm.buttonHandle(path) },\n                                  },\n                                  \"v-btn\",\n                                  attrs,\n                                  false\n                                ),\n                                on\n                              ),\n                              [\n                                _c(\"v-icon\", { attrs: { small: \"\" } }, [\n                                  _vm._v(\n                                    \"\\n                fa-solid fa-upload\\n              \"\n                                  ),\n                                ]),\n                              ],\n                              1\n                            ),\n                          ]\n                        },\n                      },\n                    ],\n                    null,\n                    true\n                  ),\n                },\n                [\n                  _vm._v(\" \"),\n                  _c(\"span\", [\n                    _vm._v(_vm._s(_vm.$gettext(\"Replace file inplace\"))),\n                  ]),\n                ]\n              ),\n            ],\n            1\n          )\n        }),\n        0\n      ),\n    ]),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"files-container\" }, [\n      _c(\"div\", { staticClass: \"title-box\" }, [\n        _c(\"h1\", { staticClass: \"title\" }, [\n          _vm._v(\"\\n        \" + _vm._s(_vm.$gettext(\"Outputs\")) + \"\\n      \"),\n        ]),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"upload-button\" },\n          [\n            _c(\n              \"v-btn\",\n              {\n                attrs: { icon: \"\", outlined: \"\" },\n                on: { click: () => _vm.buttonHandle(\"outputs\") },\n              },\n              [\n                _c(\"v-icon\", { attrs: { small: \"\" } }, [\n                  _vm._v(\"\\n            fa-solid fa-upload\\n          \"),\n                ]),\n              ],\n              1\n            ),\n          ],\n          1\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"list\" },\n        [\n          _vm._l(_vm.outputFiles, function (path) {\n            return _c(\"li\", { key: path }, [\n              _vm._v(\"\\n        \" + _vm._s(path) + \"\\n      \"),\n            ])\n          }),\n          _vm._v(\" \"),\n          _vm._l(_vm.layers, function (item) {\n            return _c(\n              \"li\",\n              { key: item },\n              [\n                _vm._v(\"\\n        \" + _vm._s(item) + \"\\n        \"),\n                _c(\n                  \"v-tooltip\",\n                  {\n                    attrs: { top: \"\", \"open-delay\": \"250\" },\n                    scopedSlots: _vm._u(\n                      [\n                        {\n                          key: \"activator\",\n                          fn: function ({ on, attrs }) {\n                            return [\n                              _c(\n                                \"v-icon\",\n                                _vm._g(\n                                  _vm._b(\n                                    {\n                                      staticClass: \"list-icon\",\n                                      attrs: { small: \"\" },\n                                    },\n                                    \"v-icon\",\n                                    attrs,\n                                    false\n                                  ),\n                                  on\n                                ),\n                                [\n                                  _vm._v(\n                                    \"\\n              fa-solid fa-layer-group\\n            \"\n                                  ),\n                                ]\n                              ),\n                            ]\n                          },\n                        },\n                      ],\n                      null,\n                      true\n                    ),\n                  },\n                  [\n                    _vm._v(\" \"),\n                    _c(\"span\", [\n                      _vm._v(_vm._s(_vm.$gettext(\"Viewable in results\"))),\n                    ]),\n                  ]\n                ),\n              ],\n              1\n            )\n          }),\n        ],\n        2\n      ),\n    ]),\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<!-- eslint-disable no-case-declarations -->\n<script>\nimport { readFileAsText, readFileAsBytes } from '@comp/utils/utils.js'\n// const $gettext = s => s\n\nexport default {\n  name: 'FilesList',\n  events: ['FilesLoaded'],\n\n  data () {\n    return {\n      filesPanel: [0, 1],\n    }\n  },\n\n  computed: {\n    loadedFiles () { return this.$store.getters.otherFiles.map(file => file.path) },\n    inputFiles () { return this.loadedFiles.filter(file => file.startsWith('input')) },\n    outputFiles () { return this.loadedFiles.filter(file => file.startsWith('output')) },\n    layers () {\n      // get available layers, reformat name and add .json and .geojson to have the matrix also.\n      const layers = this.$store.getters.availableLayers.filter(name => name.startsWith('outputs/'))\n      const list = []\n      for (const name of layers) {\n        list.push(name + '.geojson')\n        if (this.$store.getters[`${name}/hasOD`]) {\n          list.push(name + '.json')\n        }\n      }\n      return list\n    },\n  },\n\n  mounted () {\n  },\n  methods: {\n    buttonHandle (choice) {\n      this.choice = choice\n      if (this.choice === 'outputs') {\n        this.$refs.otherOutputs.click()\n        document.getElementById('other-outputs').value = '' // clean it for next file\n      } else if (this.choice.startsWith('inputs')) {\n        // inputs or a path (if we want to change an existing input)\n        this.$refs.otherInputs.click()\n        document.getElementById('other-inputs').value = '' // clean it for next file\n      }\n    },\n    async readOtherInputs (event) {\n      // this.$store.commit('changeLoading', true)\n      this.$store.commit('changeLoading', true)\n      const fileList = []\n      const files = event.target.files\n\n      for (const file of files) {\n        let name = 'inputs/' + file.name\n        // if we want to replace an existing input. this.choice contains the existing path name\n        if (this.choice !== 'inputs') {\n          name = this.choice\n        }\n        try {\n          const content = await readFileAsBytes(file)\n          fileList.push({ content: content, path: name })\n          this.$store.commit('changeLoading', false)\n        } catch (err) {\n          this.$store.commit('changeLoading', false)\n          this.$store.commit('changeAlert', err)\n        }\n      }\n      this.$store.commit('changeLoading', false)\n      this.$emit('FilesLoaded', fileList)\n\n      // this.$store.commit('changeLoading', false)\n    },\n    async readOtherOutputs (event) {\n      // load outputs as Layer Module and as other files (ex: png)\n      this.$store.commit('changeLoading', true)\n      const fileList = []\n      const files = event.target.files\n      for (const file of files) {\n        const name = 'outputs/' + file.name\n        try {\n          if (file.name.endsWith('.geojson') || file.name.endsWith('.json')) {\n            let content = await readFileAsText(file)\n            content = JSON.parse(content)\n            fileList.push({ content: content, path: name })\n          } else { // if not a geojson or a json. save as other.\n            const content = await readFileAsBytes(file)\n            fileList.push({ content: content, path: name })\n          }\n\n          this.$store.commit('changeLoading', false)\n        } catch (err) {\n          this.$store.commit('changeLoading', false)\n          this.$store.commit('changeAlert', err)\n        }\n      }\n      this.$store.commit('changeLoading', false)\n      this.$emit('FilesLoaded', fileList)\n    },\n\n  },\n}\n</script>\n<template>\n  <div>\n    <input\n      id=\"other-inputs\"\n      ref=\"otherInputs\"\n      type=\"file\"\n      style=\"display: none\"\n      multiple=\"multiple\"\n      @change=\"readOtherInputs\"\n    >\n    <input\n      id=\"other-outputs\"\n      ref=\"otherOutputs\"\n      type=\"file\"\n      style=\"display: none\"\n      multiple=\"multiple\"\n      @change=\"readOtherOutputs\"\n    >\n    <div class=\"files-container\">\n      <div class=\"title-box\">\n        <h1 class=\"title\">\n          {{ $gettext('Other Inputs') }}\n        </h1>\n        <div class=\"upload-button\">\n          <v-btn\n            icon\n            outlined\n            @click=\"()=>buttonHandle('inputs')\"\n          >\n            <v-icon small>\n              fa-solid fa-upload\n            </v-icon>\n          </v-btn>\n        </div>\n      </div>\n      <div class=\"list\">\n        <li\n          v-for=\"(path, key) in inputFiles\"\n          :key=\"key\"\n        >\n          {{ path }}\n          <v-tooltip\n            top\n            open-delay=\"250\"\n          >\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                v-bind=\"attrs\"\n                class=\"list-button\"\n                icon\n                v-on=\"on\"\n                @click=\"()=>buttonHandle(path)\"\n              >\n                <v-icon small>\n                  fa-solid fa-upload\n                </v-icon>\n              </v-btn>\n            </template>\n            <span>{{ $gettext('Replace file inplace') }}</span>\n          </v-tooltip>\n        </li>\n      </div>\n    </div>\n    <div class=\"files-container\">\n      <div class=\"title-box\">\n        <h1 class=\"title\">\n          {{ $gettext('Outputs') }}\n        </h1>\n        <div class=\"upload-button\">\n          <v-btn\n            icon\n            outlined\n            @click=\"()=>buttonHandle('outputs')\"\n          >\n            <v-icon small>\n              fa-solid fa-upload\n            </v-icon>\n          </v-btn>\n        </div>\n      </div>\n      <div class=\"list\">\n        <li\n          v-for=\"path in outputFiles\"\n          :key=\"path\"\n        >\n          {{ path }}\n        </li>\n        <li\n          v-for=\"item in layers\"\n          :key=\"item\"\n        >\n          {{ item }}\n          <v-tooltip\n            top\n            open-delay=\"250\"\n          >\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-icon\n                v-bind=\"attrs\"\n                small\n                class=\"list-icon\"\n                v-on=\"on\"\n              >\n                fa-solid fa-layer-group\n              </v-icon>\n            </template>\n            <span>{{ $gettext('Viewable in results') }}</span>\n          </v-tooltip>\n        </li>\n      </div>\n    </div>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n.files-container{\n  height: 17rem;\n  border-radius: 5px;\n  background:var(--v-background-lighten4);\n  display: flex;\n  margin: 10px 0px 0px 00px;\n  flex-direction: column;\n\n}\n.title-box {\n  display: flex;\n  flex-direction: row;\n  background:var(--v-background-lighten3);\n\n  border-radius: 5px 5px 0px 0px;\n  padding: 0.5rem 0.5rem 0.5rem 1rem;\n\n}\n.title{\n  font-size: 2em !important;\n  font-weight: bold;\n}\n.upload-button {\n  margin-left: auto;\n  margin-right:0.75rem\n}\n.list-button{\n  margin-left:auto;\n  margin-right:1rem\n}\n.list-icon{\n  margin-left:0.5rem\n}\n.list {\n  font-size: 1em;\n  font-weight: bold;\n  //border: 1px solid red;\n  overflow-y: auto;\n  padding-left: 1rem;\n  padding-top:0.5rem\n}\n.list li {\n  /* Add individual list item styles here */\n  display: flex; /* Use flexbox layout for each list item */\n  align-items: center; /* Align button vertically in the list item */\n}\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesList.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesList.vue?vue&type=style&index=0&id=e186d29a&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesList.vue?vue&type=style&index=0&id=e186d29a&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./FilesList.vue?vue&type=template&id=e186d29a&scoped=true&\"\nimport script from \"./FilesList.vue?vue&type=script&lang=js&\"\nexport * from \"./FilesList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilesList.vue?vue&type=style&index=0&id=e186d29a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e186d29a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    { style: { \"margin-left\": \"10px\" } },\n    [\n      _c(\n        \"v-btn\",\n        { attrs: { icon: \"\", small: \"\" }, on: { click: _vm.show } },\n        [_c(\"v-icon\", [_vm._v(\"far fa-question-circle small\")])],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { height: _vm.height, width: _vm.width },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\"v-img\", {\n            attrs: {\n              src: _vm.url,\n              contain: \"\",\n              height: _vm.height,\n              width: _vm.width,\n              alt: \"image\",\n            },\n          }),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<!-- eslint-disable no-case-declarations -->\n<script>\n\n// const $gettext = s => s\n\nexport default {\n  name: 'InfoZip',\n\n  data () {\n    return {\n      showDialog: false,\n      url: 'https://raw.githubusercontent.com/systragroup/quetzal-network-editor/master/example/zip_schematic.jpg',\n      width: 1300,\n      height: 900,\n    }\n  },\n\n  watch: {\n  },\n\n  methods: {\n    show () {\n      this.showDialog = !this.showDialog\n\n      if (this.showDialog === true) {\n        const img = new Image()\n        img.onload = () => {\n          this.width = img.width > this.width ? this.width : img.width\n          this.height = img.height > this.height ? this.height : img.height\n        }\n        img.src = this.url\n      }\n    },\n  },\n}\n</script>\n<template>\n  <div :style=\"{'margin-left':'10px'}\">\n    <v-btn\n      icon\n      small\n      @click=\"show\"\n    >\n      <v-icon>far fa-question-circle small</v-icon>\n    </v-btn>\n    <v-dialog\n      v-model=\"showDialog\"\n      :height=\"height\"\n      :width=\"width\"\n    >\n      <v-img\n        :src=\"url\"\n        contain\n        :height=\"height\"\n        :width=\"width\"\n        :alt=\"'image'\"\n      />\n    </v-dialog>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoZip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoZip.vue?vue&type=script&lang=js&\"","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Import.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Import.vue?vue&type=script&lang=js&\"","<!-- eslint-disable no-case-declarations -->\n<script>\nimport s3 from '../AWSClient'\nimport { extractZip, unzip } from '../components/utils/utils.js'\nimport FileLoader from '@comp/import/FileLoader.vue'\nimport FilesList from '@comp/import/FilesList.vue'\n\nimport InfoZip from '@comp/import/InfoZip.vue'\nconst $gettext = s => s\n\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: 'Import',\n  components: {\n    FileLoader,\n    InfoZip,\n    FilesList,\n  },\n\n  data () {\n    return {\n      loggedIn: false,\n      choice: null,\n      showDialog: false,\n      filesAdded: false,\n    }\n  },\n\n  computed: {\n    projectIsEmpty () { return this.$store.getters.projectIsEmpty },\n    s3Path () { return this.$route.query.s3Path },\n\n  },\n  watch: {\n    s3Path (val) {\n      if (val) this.loadFilesFromS3(val)\n    },\n\n  },\n  mounted () {\n    this.$store.commit('changeNotification', '')\n    if (this.s3Path) this.loadFilesFromS3(this.s3Path)\n  },\n  methods: {\n    login () {\n      // Leave time for animation to end (.animate-login and .animate-layer css rules)\n      setTimeout(() => {\n        this.$router.push('/Home').catch(() => {})\n      }, 300)\n    },\n\n    buttonHandle (choice) {\n      this.choice = choice\n      switch (this.choice) {\n        case 'zip':\n          this.$refs.zipInput.click()\n          document.getElementById('zip-input').value = '' // clean it for next file\n          break\n        case 'example1':\n          this.projectIsEmpty ? this.loadExample(['PT', 'road']) : this.showDialog = true\n          break\n        case 'example2':\n          this.projectIsEmpty ? this.loadExample(['PT', 'road', 'loaded', 'zones']) : this.showDialog = true\n          break\n        case 'newProject':\n          this.projectIsEmpty ? this.newProject() : this.showDialog = true\n          break\n      }\n    },\n\n    applyDialog () {\n      // this only happen when both files are loaded.\n      // remove links and nodes from store. (and filesAreLoaded)\n      this.$store.commit('initNetworks')\n      this.$store.commit('unloadLayers')\n      this.$store.commit('unloadProject')\n      this.$store.commit('run/cleanRun')\n      this.$store.commit('runOSM/cleanRun')\n      this.$store.commit('runGTFS/cleanRun')\n\n      if (this.choice === 'example1') {\n        this.loadExample(['PT', 'road'])\n      } else if (this.choice === 'example2') {\n        this.loadExample(['PT', 'road', 'loaded', 'zones'])\n      } else if (this.choice === 'newProject') {\n        this.newProject()\n      }\n      this.showDialog = !this.showDialog\n    },\n\n    newProject () {\n      this.$store.commit('initNetworks')\n      this.$store.commit('unloadLayers')\n      this.$store.commit('unloadProject')\n      this.$store.commit('run/cleanRun')\n      this.$store.commit('runOSM/cleanRun')\n      this.$store.commit('runGTFS/cleanRun')\n      this.$store.commit('changeNotification',\n        { text: $gettext('project overwrited'), autoClose: true, color: 'success' })\n    },\n\n    loadNetwork (files) {\n      this.$store.commit('loadFiles', files)\n      this.filesAdded = true\n      this.$store.commit('changeLoading', false)\n    },\n\n    async readZip (event) {\n      try {\n        this.$store.commit('changeLoading', true)\n        const zfiles = event.target.files\n        // there is a file\n        if (!zfiles.length) {\n          this.$store.commit('changeLoading', false)\n          return\n        }\n        // it is a zip\n        if (zfiles[0].name.slice(-3) !== 'zip') {\n          this.$store.commit('changeLoading', false)\n          this.$store.commit('changeAlert', { name: 'ImportError', message: $gettext('file is not a zip') })\n          return\n        }\n        const files = await extractZip(zfiles[0])\n        this.loadNetwork(files)\n      } catch (err) {\n        this.$store.commit('changeLoading', false)\n        this.$store.commit('changeAlert', err)\n      }\n    },\n\n    async loadFilesFromS3 () {\n      if (!this.projectIsEmpty) {\n        this.$store.commit('initNetworks')\n        this.$store.commit('unloadLayers')\n        this.$store.commit('run/cleanRun')\n        this.$store.commit('runOSM/cleanRun')\n        this.$store.commit('runGTFS/cleanRun')\n      }\n      this.$store.commit('changeLoading', true)\n      this.$router.replace({ query: null }) // remove query in url when page is load.\n\n      const model = this.$store.getters.model\n      const scen = this.$store.getters.scenario + '/'\n\n      const res = []\n      try {\n        let filesList = await s3.listFiles(model, scen)\n        filesList = filesList.filter(name => !name.endsWith('/'))\n        // console.log(filesList)\n        for (const file of filesList) {\n          const name = file.slice(scen.length) // remove scen name from file\n          if (!name.startsWith('outputs/') && !name.startsWith('inputs/')) {\n            if (name === 'styles.json') {\n              const content = await s3.readJson(model, file)\n              res.push({ path: name, content: content })\n            }\n            if (name === 'attributesChoices.json') {\n              const content = await s3.readJson(model, file)\n              res.push({ path: name, content: content })\n            }\n          } else if (file.endsWith('.json') || file.endsWith('.geojson')) {\n            const content = await s3.readJson(model, file)\n            res.push({ path: name, content: content })\n          } else {\n            res.push({ path: name, content: null })\n          }\n        }\n        this.loadNetwork(res)\n      } catch (err) {\n        this.$store.commit('changeAlert', err)\n        this.$store.commit('changeLoading', false)\n      }\n    },\n\n    async loadExample (filesToLoads) {\n      this.$store.commit('changeLoading', true)\n      const url = 'https://raw.githubusercontent.com/systragroup/quetzal-network-editor/master/example/'\n      const res = []\n      let content = {}\n\n      try {\n        if (filesToLoads.includes('PT')) {\n          content = await fetch(url + 'links_exemple.geojson').then(res => res.json())\n          res.push({ path: 'inputs/pt/links.geojson', content: content })\n          content = await fetch(url + 'nodes_exemple.geojson').then(res => res.json())\n          res.push({ path: 'inputs/pt/nodes.geojson', content: content })\n        }\n\n        if (filesToLoads.includes('road')) {\n          content = await fetch(url + 'road_links_exemple.geojson').then(res => res.json())\n          res.push({ path: 'inputs/road/links.geojson', content: content })\n          content = await fetch(url + 'road_nodes_exemple.geojson').then(res => res.json())\n          res.push({ path: 'inputs/road/nodes.geojson', content: content })\n        }\n\n        if (filesToLoads.includes('loaded')) {\n          content = await fetch(url + 'loaded_links.geojson').then(res => res.json())\n          res.push({ path: 'outputs/loaded_links.geojson', content: content })\n          content = await fetch(url + 'loaded_nodes.geojson').then(res => res.json())\n          res.push({ path: 'outputs/loaded_nodes.geojson', content: content })\n        }\n\n        if (filesToLoads.includes('zones')) {\n          content = await fetch(url + 'zones.geojson').then(res => res.json())\n          res.push({ path: 'outputs/zones.geojson', content: content })\n          content = await fetch(url + 'zones.zip').then(res => unzip(res.blob()))\n          res.push({ path: 'outputs/zones.json', content: content })\n        }\n        // this is zones and mat. reuse var to save memory\n\n        this.loadNetwork(res)\n        // this.loggedIn = true\n        // this.login()\n      } catch {\n        this.$store.commit('changeLoading', false)\n        this.$store.commit('changeAlert', {\n          name: 'ImportError',\n          message: $gettext($gettext('An error occur fetching example on github')),\n        })\n      }\n    },\n\n  },\n}\n</script>\n<template>\n  <section>\n    <input\n      id=\"zip-input\"\n      ref=\"zipInput\"\n      type=\"file\"\n      style=\"display: none\"\n      accept=\".zip\"\n      @change=\"readZip\"\n    >\n\n    <div class=\"layout\">\n      <div\n        class=\"layout-overlay\"\n        :class=\"{ 'animate-layer': loggedIn }\"\n      />\n      <v-card\n        class=\"card\"\n        :class=\"{ 'animate-login': loggedIn }\"\n      >\n        <v-row>\n          <v-col>\n            <v-card-text :style=\"{textAlign: 'center'}\">\n              <div class=\"title\">\n                {{ $gettext(\"Select a Project\") }}\n              </div>\n              <div>\n                {{ $gettext(\"Log in and select an existing project or create a new project from project navigation menu\") }}\n              </div>\n              <div class=\"subtitle\">\n                {{ $gettext(\"OR\") }}\n              </div>\n              <div class=\"title\">\n                {{ $gettext(\"Continue Without Project\") }}\n              </div>\n              <div>\n                {{ $gettext(\"Start importing files individually or start with an empty project\") }}\n              </div>\n              <div class=\"subtitle\">\n                {{ $gettext(\"OR\") }}\n              </div>\n              <div class=\"title\">\n                {{ $gettext(\"Load Zip\") }}\n                <InfoZip />\n              </div>\n              <div>\n                <v-btn\n                  :style=\"{'margin-right':'auto'}\"\n                  :color=\"'normal'\"\n                  @click=\"buttonHandle('zip')\"\n                >\n                  <v-icon\n                    small\n                    left\n                  >\n                    fas fa-file-archive\n                  </v-icon>\n                  {{ $gettext('Load Zip File') }}\n                </v-btn>\n              </div>\n              <div class=\"subtitle\">\n                {{ $gettext(\"OR\") }}\n              </div>\n              <div class=\"title\">\n                {{ $gettext(\"Load Example\") }}\n              </div>\n\n              <v-menu\n\n                offset-y\n                nudge-left=\"70\"\n                close-delay=\"100\"\n                transition=\"slide-y-transition\"\n              >\n                <template v-slot:activator=\"{ on: on,attrs:attrs }\">\n                  <v-btn\n                    :style=\"{'margin-bottom':'2rem'}\"\n                    v-bind=\"attrs\"\n                    v-on=\"on\"\n                  >\n                    {{ $gettext('Load Example') }}\n                  </v-btn>\n                </template>\n                <v-list>\n                  <v-list-item\n                    link\n                    @click=\"()=>buttonHandle('example1')\"\n                  >\n                    <v-list-item-title>\n                      {{ $gettext(\"PT & Road\") }}\n                    </v-list-item-title>\n                  </v-list-item>\n                  <v-list-item\n                    link\n                    @click=\"()=>buttonHandle('example2')\"\n                  >\n                    <v-list-item-title>\n                      {{ $gettext(\"PT, Road, Zones, OD & Results\") }}\n                    </v-list-item-title>\n                  </v-list-item>\n                </v-list>\n              </v-menu>\n            </v-card-text>\n          </v-col>\n          <v-divider vertical />\n          <v-col>\n            <FileLoader\n              @FilesLoaded=\"(files) => loadNetwork(files)\"\n            />\n          </v-col>\n          <v-divider vertical />\n\n          <v-col>\n            <FilesList\n              @FilesLoaded=\"(files) => loadNetwork(files)\"\n            />\n          </v-col>\n        </v-row>\n        <div class=\"button-row\">\n          <v-tooltip\n            bottom\n            open-delay=\"500\"\n          >\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                v-bind=\"attrs\"\n                @click=\"buttonHandle('newProject')\"\n                v-on=\"on\"\n              >\n                {{ $gettext('delete all') }}\n              </v-btn>\n            </template>\n            <span>{{ $gettext(\"Delete all network and start from scratch\") }}</span>\n          </v-tooltip>\n          <v-btn\n            :disabled=\"!filesAdded\"\n            color=\"primary\"\n            @click=\"login()\"\n          >\n            {{ $gettext('Go!') }}\n          </v-btn>\n        </div>\n      </v-card>\n    </div>\n    <v-dialog\n      v-model=\"showDialog\"\n      persistent\n      max-width=\"350\"\n      @keydown.enter=\"applyDialog\"\n      @keydown.esc=\"showDialog=false\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h5\">\n          {{ $gettext(\"Overwrite current Project ?\") }}\n        </v-card-title>\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            color=\"regular\"\n            @click=\"showDialog = !showDialog\"\n          >\n            {{ $gettext(\"No\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"primary\"\n            @click=\"applyDialog\"\n          >\n            {{ $gettext(\"Yes\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.layout {\n  position: absolute;\n  width: calc(100%);\n  height: calc(100% - 50px);\n  display: flex;\n  flex-flow: row;\n  justify-content: center;\n  align-items: center;\n}\n\n.layout-overlay {\n  height: 100%;\n  width: 100%;\n  background-color:var(--v-background-base);\n\n  position: absolute;\n}\n.card {\n  width:80rem;\n  overflow-y:hidden;\n  padding: 20px;\n}\n.button-question{\n  display: flex;\n  align-items: center ;\n\n}\n.title {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 2em !important;\n  color: var(--v-primary-base);\n  font-weight: bold;\n  margin-top:18px;\n}\n.subtitle {\n  font-size: 1.5em;\n  font-weight: bold;\n  margin: 20px;\n}\n.card button {\n  margin: 0.5rem;\n}\n.animate-login {\n  transform: translateY(-185%);\n  transition: 1s;\n}\n.animate-layer {\n  opacity: 0;\n  transition: 1s;\n}\n.button-row{\n  display: flex;\n  align-items: center;\n  justify-content:center;\n  margin-top : 1rem;\n  padding-top:0.5rem;\n  border-top: 1px solid var(--v-lightgrey-base);\n}\n\n</style>\n","import { render, staticRenderFns } from \"./InfoZip.vue?vue&type=template&id=1b5fbd9c&scoped=true&\"\nimport script from \"./InfoZip.vue?vue&type=script&lang=js&\"\nexport * from \"./InfoZip.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b5fbd9c\",\n  null\n  \n)\n\nexport default component.exports","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Import.vue?vue&type=style&index=0&id=1eb30a93&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Import.vue?vue&type=style&index=0&id=1eb30a93&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Import.vue?vue&type=template&id=1eb30a93&scoped=true&\"\nimport script from \"./Import.vue?vue&type=script&lang=js&\"\nexport * from \"./Import.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Import.vue?vue&type=style&index=0&id=1eb30a93&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1eb30a93\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    { staticClass: \"map-view\" },\n    [\n      _c(\n        \"v-dialog\",\n        {\n          attrs: {\n            scrollable: \"\",\n            persistent: \"\",\n            \"max-width\": _vm.numLinks > 1 ? \"40rem\" : \"20rem\",\n          },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.applyAction.apply(null, arguments)\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                return _vm.cancelAction.apply(null, arguments)\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            { attrs: { \"max-height\": \"55rem\" } },\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(\n                      [\"deleteTrip\", \"deleterGroup\"].includes(_vm.action)\n                        ? _vm.$gettext(\"Delete\") + \" \" + _vm.message + \"?\"\n                        : _vm.$gettext(\"Edit Properties\")\n                    ) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\"v-divider\"),\n              _vm._v(\" \"),\n              _vm.editForm\n                ? _c(\n                    \"v-card-text\",\n                    [\n                      _c(\n                        \"v-row\",\n                        _vm._l(_vm.numLinks, function (n, idx) {\n                          return _c(\n                            \"v-col\",\n                            { key: idx },\n                            [\n                              _c(\n                                \"v-list\",\n                                [\n                                  _vm.numLinks > 1\n                                    ? _c(\n                                        \"v-list-item\",\n                                        [\n                                          _c(\n                                            \"v-icon\",\n                                            {\n                                              style: {\n                                                \"align-items\": \"center\",\n                                                \"justify-content\": \"center\",\n                                                transform:\n                                                  \"rotate(\" +\n                                                  _vm.linkDir[idx] +\n                                                  \"deg)\",\n                                              },\n                                            },\n                                            [\n                                              _vm._v(\n                                                \"\\n                  fas fa-long-arrow-alt-up\\n                \"\n                                              ),\n                                            ]\n                                          ),\n                                        ],\n                                        1\n                                      )\n                                    : _vm._e(),\n                                  _vm._v(\" \"),\n                                  _vm._l(\n                                    _vm.orderedForm(idx),\n                                    function (value, key) {\n                                      return _c(\"v-text-field\", {\n                                        key: key,\n                                        attrs: {\n                                          label: key,\n                                          hint: _vm.showHint\n                                            ? _vm.$gettext(_vm.hints[key])\n                                            : \"\",\n                                          \"persistent-hint\": _vm.showHint,\n                                          filled: !value[\"disabled\"],\n                                          type: _vm.$store.getters.attributeType(\n                                            key\n                                          ),\n                                          placeholder: value[\"placeholder\"]\n                                            ? _vm.$gettext(\"multiple Values\")\n                                            : \"\",\n                                          \"persistent-placeholder\": value[\n                                            \"placeholder\"\n                                          ]\n                                            ? true\n                                            : false,\n                                          disabled: value[\"disabled\"],\n                                        },\n                                        on: {\n                                          wheel: function ($event) {\n                                            return $event.target.blur()\n                                          },\n                                        },\n                                        scopedSlots: _vm._u(\n                                          [\n                                            key === \"route_color\"\n                                              ? {\n                                                  key: \"append\",\n                                                  fn: function () {\n                                                    return [\n                                                      _c(\"color-picker\", {\n                                                        model: {\n                                                          value: value[\"value\"],\n                                                          callback: function (\n                                                            $$v\n                                                          ) {\n                                                            _vm.$set(\n                                                              value,\n                                                              \"value\",\n                                                              $$v\n                                                            )\n                                                          },\n                                                          expression:\n                                                            \"value['value']\",\n                                                        },\n                                                      }),\n                                                    ]\n                                                  },\n                                                  proxy: true,\n                                                }\n                                              : Object.keys(\n                                                  _vm.attributesChoices\n                                                ).includes(key)\n                                              ? {\n                                                  key: \"append\",\n                                                  fn: function () {\n                                                    return [\n                                                      _c(\"MenuSelector\", {\n                                                        attrs: {\n                                                          items:\n                                                            _vm\n                                                              .attributesChoices[\n                                                              key\n                                                            ],\n                                                        },\n                                                        model: {\n                                                          value: value[\"value\"],\n                                                          callback: function (\n                                                            $$v\n                                                          ) {\n                                                            _vm.$set(\n                                                              value,\n                                                              \"value\",\n                                                              $$v\n                                                            )\n                                                          },\n                                                          expression:\n                                                            \"value['value']\",\n                                                        },\n                                                      }),\n                                                    ]\n                                                  },\n                                                  proxy: true,\n                                                }\n                                              : null,\n                                            _vm.showDeleteOption\n                                              ? {\n                                                  key: \"prepend\",\n                                                  fn: function () {\n                                                    return [\n                                                      _c(\n                                                        \"v-btn\",\n                                                        {\n                                                          attrs: {\n                                                            icon: \"\",\n                                                            \"x-small\": \"\",\n                                                            disabled:\n                                                              _vm.attributeNonDeletable(\n                                                                key\n                                                              ),\n                                                            color: \"error\",\n                                                          },\n                                                          on: {\n                                                            click: () =>\n                                                              _vm.deleteField(\n                                                                key\n                                                              ),\n                                                          },\n                                                        },\n                                                        [\n                                                          _c(\"v-icon\", [\n                                                            _vm._v(\n                                                              \"fas fa-trash small\"\n                                                            ),\n                                                          ]),\n                                                        ],\n                                                        1\n                                                      ),\n                                                    ]\n                                                  },\n                                                  proxy: true,\n                                                }\n                                              : null,\n                                          ],\n                                          null,\n                                          true\n                                        ),\n                                        model: {\n                                          value: value[\"value\"],\n                                          callback: function ($$v) {\n                                            _vm.$set(value, \"value\", $$v)\n                                          },\n                                          expression: \"value['value']\",\n                                        },\n                                      })\n                                    }\n                                  ),\n                                ],\n                                2\n                              ),\n                            ],\n                            1\n                          )\n                        }),\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-row\",\n                        [\n                          _c(\"v-text-field\", {\n                            attrs: {\n                              label: _vm.$gettext(\"add field\"),\n                              placeholder: _vm.$gettext(\"new field name\"),\n                              filled: \"\",\n                              rules: _vm.rules.newField,\n                            },\n                            on: {\n                              keydown: function ($event) {\n                                if (\n                                  !$event.type.indexOf(\"key\") &&\n                                  _vm._k(\n                                    $event.keyCode,\n                                    \"enter\",\n                                    13,\n                                    $event.key,\n                                    \"Enter\"\n                                  )\n                                )\n                                  return null\n                                $event.stopPropagation()\n                                return _vm.addField.apply(null, arguments)\n                              },\n                              wheel: function ($event) {\n                                return $event.target.blur()\n                              },\n                            },\n                            scopedSlots: _vm._u(\n                              [\n                                {\n                                  key: \"append-outer\",\n                                  fn: function () {\n                                    return [\n                                      _c(\n                                        \"v-btn\",\n                                        {\n                                          staticClass: \"text--primary\",\n                                          attrs: {\n                                            color: \"primary\",\n                                            fab: \"\",\n                                            \"x-small\": \"\",\n                                          },\n                                          on: { click: _vm.addField },\n                                        },\n                                        [_c(\"v-icon\", [_vm._v(\"fas fa-plus\")])],\n                                        1\n                                      ),\n                                    ]\n                                  },\n                                  proxy: true,\n                                },\n                              ],\n                              null,\n                              false,\n                              941361224\n                            ),\n                            model: {\n                              value: _vm.newFieldName,\n                              callback: function ($$v) {\n                                _vm.newFieldName = $$v\n                              },\n                              expression: \"newFieldName\",\n                            },\n                          }),\n                        ],\n                        1\n                      ),\n                    ],\n                    1\n                  )\n                : _vm._e(),\n              _vm._v(\" \"),\n              [\"cloneTrip\"].includes(_vm.action)\n                ? _c(\n                    \"v-card-text\",\n                    [\n                      _c(\"v-text-field\", {\n                        attrs: { label: _vm.$gettext(\"New name\") },\n                        model: {\n                          value: _vm.cloneName,\n                          callback: function ($$v) {\n                            _vm.cloneName = $$v\n                          },\n                          expression: \"cloneName\",\n                        },\n                      }),\n                    ],\n                    1\n                  )\n                : _vm._e(),\n              _vm._v(\" \"),\n              _c(\"v-divider\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _vm.editForm\n                    ? _c(\n                        \"v-btn\",\n                        {\n                          attrs: { icon: \"\", \"x-small\": \"\" },\n                          on: { click: () => (_vm.showHint = !_vm.showHint) },\n                        },\n                        [\n                          _c(\"v-icon\", [\n                            _vm._v(\"far fa-question-circle small\"),\n                          ]),\n                        ],\n                        1\n                      )\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _vm.editForm\n                    ? _c(\n                        \"v-btn\",\n                        {\n                          attrs: { icon: \"\", \"x-small\": \"\" },\n                          on: { click: _vm.ToggleDeleteOption },\n                        },\n                        [\n                          _vm.showDeleteOption\n                            ? _c(\"v-icon\", [\n                                _vm._v(\n                                  \"\\n            fas fa-minus-circle fa-rotate-90\\n          \"\n                                ),\n                              ])\n                            : _c(\"v-icon\", [\n                                _vm._v(\n                                  \"\\n            fas fa-minus-circle\\n          \"\n                                ),\n                              ]),\n                        ],\n                        1\n                      )\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"grey\", text: \"\" },\n                      on: { click: _vm.cancelAction },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Cancel\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"success\", text: \"\" },\n                      on: { click: _vm.applyAction },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Save\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { \"max-width\": \"300\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.duplicate()\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                return _vm.cancelClone.apply(null, arguments)\n              },\n            ],\n          },\n          model: {\n            value: _vm.cloneDialog,\n            callback: function ($$v) {\n              _vm.cloneDialog = $$v\n            },\n            expression: \"cloneDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _c(\"v-card-title\", [\n                _c(\"span\", { staticClass: \"text-h5\" }, [\n                  _vm._v(_vm._s(_vm.$gettext(\"Duplicate and reverse\"))),\n                ]),\n                _vm._v(\" \"),\n                _c(\"span\", { staticClass: \"text-h5\" }, [\n                  _vm._v(_vm._s(_vm.message + \" ?\")),\n                ]),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-text\",\n                [\n                  _c(\"v-text-field\", {\n                    attrs: { label: _vm.$gettext(\"New name\") },\n                    model: {\n                      value: _vm.cloneName,\n                      callback: function ($$v) {\n                        _vm.cloneName = $$v\n                      },\n                      expression: \"cloneName\",\n                    },\n                  }),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-text\",\n                { style: { textAlign: \"center\", color: \"red\" } },\n                [_vm._v(\"\\n        \" + _vm._s(_vm.errorMessage) + \"\\n      \")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"grey\", text: \"\" },\n                      on: { click: _vm.cancelClone },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Cancel\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"green darken-1\", text: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.duplicate()\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Save\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"SidePanel\", {\n        attrs: {\n          \"selected-trips\": _vm.selectedTrips,\n          \"selectedr-group\": _vm.selectedrGroup,\n        },\n        on: {\n          \"update-tripList\": _vm.updateSelectedTrips,\n          confirmChanges: _vm.confirmChanges,\n          abortChanges: _vm.abortChanges,\n          deleteButton: _vm.deleteButton,\n          cloneButton: _vm.cloneButton,\n          propertiesButton: _vm.actionClick,\n          \"change-mode\": (e) => (_vm.mode = e),\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\"Map\", {\n        ref: \"mapref\",\n        attrs: { \"selected-trips\": _vm.selectedTrips, mode: _vm.mode },\n        on: { clickFeature: _vm.actionClick },\n      }),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    {\n      ref: \"leftPanelDiv\",\n      class: _vm.showLeftPanel ? \"left-panel elevation-4\" : \"left-panel-close\",\n      style: { width: _vm.showLeftPanel ? _vm.width + \"px\" : \"0px\" },\n    },\n    [\n      _c(\n        \"div\",\n        {\n          staticClass: \"left-panel-toggle-btn elevation-4\",\n          on: {\n            click: function ($event) {\n              return _vm.$store.commit(\"changeLeftPanel\")\n            },\n          },\n        },\n        [\n          _c(\"v-icon\", { attrs: { small: \"\", color: \"secondary\" } }, [\n            _vm._v(\n              \"\\n      \" +\n                _vm._s(\n                  _vm.showLeftPanel\n                    ? \"fas fa-chevron-left\"\n                    : \"fas fa-chevron-right\"\n                ) +\n                \"\\n    \"\n            ),\n          ]),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"div\", {\n        staticClass: \"resizable-handle\",\n        on: { mousedown: _vm.startResize },\n      }),\n      _vm._v(\" \"),\n      _c(\"transition\", { attrs: { name: \"fade\" } }, [\n        _c(\n          \"div\",\n          {\n            directives: [\n              {\n                name: \"show\",\n                rawName: \"v-show\",\n                value: _vm.showLeftPanelContent,\n                expression: \"showLeftPanelContent\",\n              },\n            ],\n            ref: \"leftPanel\",\n            staticClass: \"left-panel-content\",\n            attrs: { id: \"left-panel\" },\n          },\n          [\n            _c(\"div\", [\n              _c(\n                \"div\",\n                {\n                  style: {\n                    \"margin-top\": \"20px\",\n                    \"margin-bottom\": \"20px\",\n                    \"margin-right\": \"20px\",\n                  },\n                },\n                [\n                  _c(\n                    \"v-tabs\",\n                    {\n                      attrs: {\n                        \"background-color\": \"secondary\",\n                        dark: \"\",\n                        grow: \"\",\n                      },\n                      model: {\n                        value: _vm.tab,\n                        callback: function ($$v) {\n                          _vm.tab = $$v\n                        },\n                        expression: \"tab\",\n                      },\n                    },\n                    [\n                      _c(\"v-tab\", [_vm._v(_vm._s(_vm.$gettext(\"PT\")))]),\n                      _vm._v(\" \"),\n                      _c(\"v-tab\", [_vm._v(_vm._s(_vm.$gettext(\"Road\")))]),\n                      _vm._v(\" \"),\n                      _c(\"v-tab\", [_vm._v(_vm._s(_vm.$gettext(\"OD\")))]),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"LinksSidePanel\", {\n                    directives: [\n                      {\n                        name: \"show\",\n                        rawName: \"v-show\",\n                        value: _vm.tab === 0,\n                        expression: \"tab===0\",\n                      },\n                    ],\n                    attrs: {\n                      height: _vm.windowHeight,\n                      \"selected-trips\": _vm.selectedTrips,\n                    },\n                    on: {\n                      \"update-tripList\": (e) =>\n                        _vm.$emit(\"update-tripList\", {\n                          type: \"links\",\n                          data: e,\n                        }),\n                      confirmChanges: (e) => _vm.$emit(\"confirmChanges\", e),\n                      abortChanges: (e) => _vm.$emit(\"abortChanges\", e),\n                      cloneButton: (e) => _vm.$emit(\"cloneButton\", e),\n                      deleteButton: (e) => _vm.$emit(\"deleteButton\", e),\n                      propertiesButton: (e) => _vm.$emit(\"propertiesButton\", e),\n                    },\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"RoadSidePanel\", {\n                    directives: [\n                      {\n                        name: \"show\",\n                        rawName: \"v-show\",\n                        value: _vm.tab === 1,\n                        expression: \"tab===1\",\n                      },\n                    ],\n                    attrs: {\n                      height: _vm.windowHeight,\n                      \"selectedr-goup\": _vm.selectedrGroup,\n                    },\n                    on: {\n                      \"update-tripList\": (e) =>\n                        _vm.$emit(\"update-tripList\", {\n                          type: \"rlinks\",\n                          data: e,\n                        }),\n                      deleteButton: (e) => _vm.$emit(\"deleteButton\", e),\n                      propertiesButton: (e) => _vm.$emit(\"propertiesButton\", e),\n                    },\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"ODSidePanel\", {\n                    directives: [\n                      {\n                        name: \"show\",\n                        rawName: \"v-show\",\n                        value: _vm.tab === 2,\n                        expression: \"tab===2\",\n                      },\n                    ],\n                    attrs: { height: _vm.windowHeight },\n                    on: {\n                      deleteButton: (e) => _vm.$emit(\"deleteButton\", e),\n                      propertiesButton: (e) => _vm.$emit(\"propertiesButton\", e),\n                    },\n                  }),\n                ],\n                1\n              ),\n            ]),\n          ]\n        ),\n      ]),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"v-card-title\",\n        { staticClass: \"white--text secondary\" },\n        [\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              style: { color: \"white\" },\n                              attrs: { icon: \"\" },\n                              on: {\n                                click: function ($event) {\n                                  return _vm.showAll()\n                                },\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", { staticClass: \"list-item-icon\" }, [\n                            _vm._v(\n                              \"\\n            \" +\n                                _vm._s(\n                                  _vm.tripList == _vm.tripId\n                                    ? \"fa-eye fa\"\n                                    : \"fa-eye-slash fa\"\n                                ) +\n                                \"\\n          \"\n                            ),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\"span\", [\n                _vm._v(\n                  _vm._s(\n                    _vm.tripList == _vm.tripId\n                      ? _vm.$gettext(\"Hide All\")\n                      : _vm.$gettext(\"Show All\")\n                  )\n                ),\n              ]),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              style: { color: \"white\" },\n                              attrs: {\n                                icon: \"\",\n                                disabled:\n                                  _vm.tripList.length === 0 ? true : false,\n                              },\n                              on: {\n                                click: function ($event) {\n                                  return _vm.propertiesButton(_vm.tripList)\n                                },\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", { staticClass: \"list-item-icon\" }, [\n                            _vm._v(\"\\n            fas fa-list\\n          \"),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\"span\", [\n                _vm._v(_vm._s(_vm.$gettext(\"Edit Visibles Properties\"))),\n              ]),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\"span\", { style: { color: \"white\" } }, [\n            _vm._v(\"\\n      \" + _vm._s(_vm.$gettext(\"Lines\")) + \"\\n    \"),\n          ]),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\n            \"v-menu\",\n            {\n              attrs: {\n                \"offset-y\": \"\",\n                \"open-on-hover\": \"\",\n                \"close-delay\": \"100\",\n                transition: \"slide-y-transition\",\n              },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on: on, attrs: attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              style: { color: \"white\" },\n                              attrs: { icon: \"\", dark: \"\" },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [_c(\"v-icon\", [_vm._v(\"fa-solid fa-download\")])],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\n                \"v-list\",\n                [\n                  _c(\n                    \"v-list-item\",\n                    {\n                      attrs: { link: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$store.dispatch(\"exportFiles\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-list-item-title\", [\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Export All\")) +\n                            \"\\n          \"\n                        ),\n                      ]),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-list-item\",\n                    {\n                      attrs: { link: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$store.dispatch(\"exportFiles\", \"visibles\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-list-item-title\", [\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Export Only Visible\")) +\n                            \"\\n          \"\n                        ),\n                      ]),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        {\n          staticClass: \"mx-auto scrollable\",\n          attrs: {\n            \"max-width\": \"100%\",\n            \"min-width\": \"100%\",\n            height: _vm.height,\n          },\n        },\n        [\n          _c(\n            \"v-list-item\",\n            [\n              _c(\"v-select\", {\n                attrs: {\n                  items: _vm.filterChoices,\n                  \"prepend-icon\": \"fas fa-filter\",\n                  label: _vm.$gettext(\"filter\"),\n                  \"item-color\": \"secondarydark\",\n                  color: \"secondarydark\",\n                },\n                model: {\n                  value: _vm.vmodelSelectedFilter,\n                  callback: function ($$v) {\n                    _vm.vmodelSelectedFilter = $$v\n                  },\n                  expression: \"vmodelSelectedFilter\",\n                },\n              }),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _vm._l(_vm.classifiedTripId, function (value, key) {\n            return _c(\n              \"v-list-group\",\n              {\n                key: String(value.name) + String(key),\n                attrs: {\n                  color: \"secondarydark\",\n                  value: false,\n                  \"no-action\": \"\",\n                },\n                scopedSlots: _vm._u(\n                  [\n                    {\n                      key: \"activator\",\n                      fn: function () {\n                        return [\n                          _c(\n                            \"v-list-item-action\",\n                            [\n                              _c(\n                                \"v-tooltip\",\n                                {\n                                  attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                                  scopedSlots: _vm._u(\n                                    [\n                                      {\n                                        key: \"activator\",\n                                        fn: function ({ on, attrs }) {\n                                          return [\n                                            _c(\n                                              \"v-btn\",\n                                              _vm._g(\n                                                _vm._b(\n                                                  {\n                                                    attrs: { icon: \"\" },\n                                                    on: {\n                                                      click: function ($event) {\n                                                        $event.stopPropagation()\n                                                        return _vm.showGroup(\n                                                          value.tripId\n                                                        )\n                                                      },\n                                                    },\n                                                  },\n                                                  \"v-btn\",\n                                                  attrs,\n                                                  false\n                                                ),\n                                                on\n                                              ),\n                                              [\n                                                _c(\n                                                  \"v-icon\",\n                                                  {\n                                                    staticClass:\n                                                      \"list-item-icon\",\n                                                  },\n                                                  [\n                                                    _vm._v(\n                                                      \"\\n                  \" +\n                                                        _vm._s(\n                                                          value.tripId.some(\n                                                            (val) =>\n                                                              _vm.tripList.includes(\n                                                                val\n                                                              )\n                                                          )\n                                                            ? \"fa-eye fa\"\n                                                            : \"fa-eye-slash fa\"\n                                                        ) +\n                                                        \"\\n                \"\n                                                    ),\n                                                  ]\n                                                ),\n                                              ],\n                                              1\n                                            ),\n                                          ]\n                                        },\n                                      },\n                                    ],\n                                    null,\n                                    true\n                                  ),\n                                },\n                                [\n                                  _vm._v(\" \"),\n                                  _c(\"span\", [\n                                    _vm._v(\n                                      \"\\n              \" +\n                                        _vm._s(\n                                          value.tripId.some((val) =>\n                                            _vm.tripList.includes(val)\n                                          )\n                                            ? _vm.$gettext(\"Hide All\")\n                                            : _vm.$gettext(\"Show All\")\n                                        ) +\n                                        \"\\n            \"\n                                    ),\n                                  ]),\n                                ]\n                              ),\n                            ],\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-list-item-content\",\n                            [\n                              _c(\"v-list-item-title\", [\n                                _c(\"strong\", [\n                                  _vm._v(\n                                    \"\\n              \" +\n                                      _vm._s(\n                                        value.name == \"undefined\"\n                                          ? _vm.$gettext(value.name)\n                                          : value.name\n                                      ) +\n                                      \"\\n            \"\n                                  ),\n                                ]),\n                              ]),\n                            ],\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-tooltip\",\n                            {\n                              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                              scopedSlots: _vm._u(\n                                [\n                                  {\n                                    key: \"activator\",\n                                    fn: function ({ on, attrs }) {\n                                      return [\n                                        _c(\n                                          \"v-btn\",\n                                          _vm._g(\n                                            _vm._b(\n                                              {\n                                                staticClass: \"ma-1\",\n                                                attrs: {\n                                                  icon: \"\",\n                                                  disabled:\n                                                    _vm.editorTrip != null\n                                                      ? true\n                                                      : false,\n                                                },\n                                                on: {\n                                                  click: function ($event) {\n                                                    $event.stopPropagation()\n                                                    return _vm.propertiesButton(\n                                                      value.tripId\n                                                    )\n                                                  },\n                                                },\n                                              },\n                                              \"v-btn\",\n                                              attrs,\n                                              false\n                                            ),\n                                            on\n                                          ),\n                                          [\n                                            _c(\n                                              \"v-icon\",\n                                              { attrs: { color: \"regular\" } },\n                                              [\n                                                _vm._v(\n                                                  \"\\n                fas fa-list\\n              \"\n                                                ),\n                                              ]\n                                            ),\n                                          ],\n                                          1\n                                        ),\n                                      ]\n                                    },\n                                  },\n                                ],\n                                null,\n                                true\n                              ),\n                            },\n                            [\n                              _vm._v(\" \"),\n                              _c(\"span\", [\n                                _vm._v(\n                                  _vm._s(_vm.$gettext(\"Edit Group Properties\"))\n                                ),\n                              ]),\n                            ]\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-tooltip\",\n                            {\n                              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                              scopedSlots: _vm._u(\n                                [\n                                  {\n                                    key: \"activator\",\n                                    fn: function ({ on, attrs }) {\n                                      return [\n                                        _c(\n                                          \"v-btn\",\n                                          _vm._g(\n                                            _vm._b(\n                                              {\n                                                staticClass: \"ma-1\",\n                                                attrs: {\n                                                  icon: \"\",\n                                                  disabled: _vm.editorTrip\n                                                    ? true\n                                                    : false,\n                                                },\n                                                on: {\n                                                  click: function ($event) {\n                                                    $event.stopPropagation()\n                                                    return _vm.deleteButton({\n                                                      trip: value.tripId,\n                                                      message: value.name,\n                                                      action: \"deleteTrip\",\n                                                    })\n                                                  },\n                                                },\n                                              },\n                                              \"v-btn\",\n                                              attrs,\n                                              false\n                                            ),\n                                            on\n                                          ),\n                                          [\n                                            _c(\n                                              \"v-icon\",\n                                              {\n                                                attrs: {\n                                                  small: \"\",\n                                                  color: \"regular\",\n                                                },\n                                              },\n                                              [\n                                                _vm._v(\n                                                  \"\\n                fas fa-trash\\n              \"\n                                                ),\n                                              ]\n                                            ),\n                                          ],\n                                          1\n                                        ),\n                                      ]\n                                    },\n                                  },\n                                ],\n                                null,\n                                true\n                              ),\n                            },\n                            [\n                              _vm._v(\" \"),\n                              _c(\"span\", [\n                                _vm._v(_vm._s(_vm.$gettext(\"Delete Group\"))),\n                              ]),\n                            ]\n                          ),\n                        ]\n                      },\n                      proxy: true,\n                    },\n                  ],\n                  null,\n                  true\n                ),\n              },\n              [\n                _vm._v(\" \"),\n                _c(\"v-virtual-scroll\", {\n                  attrs: {\n                    items: value.tripId,\n                    \"item-height\": 45,\n                    height: Math.min(\n                      _vm.height - 220,\n                      45 * value.tripId.length + 3\n                    ),\n                  },\n                  scopedSlots: _vm._u(\n                    [\n                      {\n                        key: \"default\",\n                        fn: function ({ item }) {\n                          return [\n                            _c(\n                              \"v-list-item\",\n                              { key: item, staticClass: \"pl-2\" },\n                              [\n                                _c(\n                                  \"v-list-item-action\",\n                                  [\n                                    _c(\"v-checkbox\", {\n                                      staticClass: \"pl-2\",\n                                      attrs: {\n                                        \"on-icon\": \"fa-eye fa\",\n                                        \"off-icon\": \"fa-eye-slash fa\",\n                                        color: \"primary\",\n                                        value: item,\n                                        size: \"10\",\n                                        \"hide-details\": \"\",\n                                      },\n                                      model: {\n                                        value: _vm.tripList,\n                                        callback: function ($$v) {\n                                          _vm.tripList = $$v\n                                        },\n                                        expression: \"tripList\",\n                                      },\n                                    }),\n                                  ],\n                                  1\n                                ),\n                                _vm._v(\" \"),\n                                _c(\n                                  \"v-tooltip\",\n                                  {\n                                    attrs: {\n                                      right: \"\",\n                                      \"open-delay\": \"300\",\n                                      \"content-class\": \"custom-tooltip\",\n                                    },\n                                    scopedSlots: _vm._u(\n                                      [\n                                        {\n                                          key: \"activator\",\n                                          fn: function ({ on }) {\n                                            return [\n                                              item == _vm.editorTrip\n                                                ? _c(\n                                                    \"v-list-item-title\",\n                                                    _vm._g({}, on),\n                                                    [\n                                                      _c(\"strong\", [\n                                                        _vm._v(_vm._s(item)),\n                                                      ]),\n                                                    ]\n                                                  )\n                                                : _c(\n                                                    \"v-list-item-title\",\n                                                    _vm._g({}, on),\n                                                    [\n                                                      _vm._v(\n                                                        \"\\n                  \" +\n                                                          _vm._s(item) +\n                                                          \"\\n                \"\n                                                      ),\n                                                    ]\n                                                  ),\n                                            ]\n                                          },\n                                        },\n                                      ],\n                                      null,\n                                      true\n                                    ),\n                                  },\n                                  [\n                                    _vm._v(\" \"),\n                                    _c(\"span\", [_vm._v(_vm._s(item))]),\n                                  ]\n                                ),\n                                _vm._v(\" \"),\n                                _c(\n                                  \"v-tooltip\",\n                                  {\n                                    attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                                    scopedSlots: _vm._u(\n                                      [\n                                        {\n                                          key: \"activator\",\n                                          fn: function ({ on, attrs }) {\n                                            return [\n                                              _c(\n                                                \"v-btn\",\n                                                _vm._g(\n                                                  _vm._b(\n                                                    {\n                                                      staticClass: \"ma-1\",\n                                                      attrs: {\n                                                        icon: \"\",\n                                                        disabled:\n                                                          (item !=\n                                                            _vm.editorTrip) &\n                                                          (_vm.editorTrip !=\n                                                            null)\n                                                            ? true\n                                                            : false,\n                                                      },\n                                                      on: {\n                                                        click: function (\n                                                          $event\n                                                        ) {\n                                                          return _vm.editButton(\n                                                            item\n                                                          )\n                                                        },\n                                                      },\n                                                    },\n                                                    \"v-btn\",\n                                                    attrs,\n                                                    false\n                                                  ),\n                                                  on\n                                                ),\n                                                [\n                                                  _c(\n                                                    \"v-icon\",\n                                                    {\n                                                      attrs: {\n                                                        color:\n                                                          item == _vm.editorTrip\n                                                            ? \"regular\"\n                                                            : \"regular\",\n                                                      },\n                                                    },\n                                                    [\n                                                      _vm._v(\n                                                        \"\\n                    fas fa-pen\\n                  \"\n                                                      ),\n                                                    ]\n                                                  ),\n                                                ],\n                                                1\n                                              ),\n                                            ]\n                                          },\n                                        },\n                                      ],\n                                      null,\n                                      true\n                                    ),\n                                  },\n                                  [\n                                    _vm._v(\" \"),\n                                    _c(\"span\", [\n                                      _vm._v(_vm._s(_vm.$gettext(\"Edit Line\"))),\n                                    ]),\n                                  ]\n                                ),\n                                _vm._v(\" \"),\n                                _c(\n                                  \"v-tooltip\",\n                                  {\n                                    attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                                    scopedSlots: _vm._u(\n                                      [\n                                        {\n                                          key: \"activator\",\n                                          fn: function ({ on, attrs }) {\n                                            return [\n                                              _c(\n                                                \"v-btn\",\n                                                _vm._g(\n                                                  _vm._b(\n                                                    {\n                                                      staticClass: \"ma-1\",\n                                                      attrs: {\n                                                        icon: \"\",\n                                                        disabled:\n                                                          (item !=\n                                                            _vm.editorTrip) &\n                                                          (_vm.editorTrip !=\n                                                            null)\n                                                            ? true\n                                                            : false,\n                                                      },\n                                                      on: {\n                                                        click: function (\n                                                          $event\n                                                        ) {\n                                                          return _vm.propertiesButton(\n                                                            item\n                                                          )\n                                                        },\n                                                      },\n                                                    },\n                                                    \"v-btn\",\n                                                    attrs,\n                                                    false\n                                                  ),\n                                                  on\n                                                ),\n                                                [\n                                                  _c(\n                                                    \"v-icon\",\n                                                    {\n                                                      attrs: {\n                                                        color:\n                                                          item == _vm.editorTrip\n                                                            ? \"regular\"\n                                                            : \"regular\",\n                                                      },\n                                                    },\n                                                    [\n                                                      _vm._v(\n                                                        \"\\n                    fas fa-list\\n                  \"\n                                                      ),\n                                                    ]\n                                                  ),\n                                                ],\n                                                1\n                                              ),\n                                            ]\n                                          },\n                                        },\n                                      ],\n                                      null,\n                                      true\n                                    ),\n                                  },\n                                  [\n                                    _vm._v(\" \"),\n                                    _c(\"span\", [\n                                      _vm._v(\n                                        _vm._s(\n                                          _vm.$gettext(\"Edit Line Properties\")\n                                        )\n                                      ),\n                                    ]),\n                                  ]\n                                ),\n                                _vm._v(\" \"),\n                                _c(\n                                  \"v-tooltip\",\n                                  {\n                                    attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                                    scopedSlots: _vm._u(\n                                      [\n                                        {\n                                          key: \"activator\",\n                                          fn: function ({ on, attrs }) {\n                                            return [\n                                              _c(\n                                                \"v-btn\",\n                                                _vm._g(\n                                                  _vm._b(\n                                                    {\n                                                      staticClass: \"ma-1\",\n                                                      attrs: {\n                                                        icon: \"\",\n                                                        disabled:\n                                                          (item !=\n                                                            _vm.editorTrip) &\n                                                          (_vm.editorTrip !=\n                                                            null)\n                                                            ? true\n                                                            : false,\n                                                      },\n                                                      on: {\n                                                        click: function (\n                                                          $event\n                                                        ) {\n                                                          return _vm.cloneButton(\n                                                            {\n                                                              trip: item,\n                                                              message: item,\n                                                            }\n                                                          )\n                                                        },\n                                                      },\n                                                    },\n                                                    \"v-btn\",\n                                                    attrs,\n                                                    false\n                                                  ),\n                                                  on\n                                                ),\n                                                [\n                                                  _c(\n                                                    \"v-icon\",\n                                                    {\n                                                      attrs: {\n                                                        color:\n                                                          item == _vm.editorTrip\n                                                            ? \"regular\"\n                                                            : \"regular\",\n                                                      },\n                                                    },\n                                                    [\n                                                      _vm._v(\n                                                        \"\\n                    fas fa-clone\\n                  \"\n                                                      ),\n                                                    ]\n                                                  ),\n                                                ],\n                                                1\n                                              ),\n                                            ]\n                                          },\n                                        },\n                                      ],\n                                      null,\n                                      true\n                                    ),\n                                  },\n                                  [\n                                    _vm._v(\" \"),\n                                    _c(\"span\", [\n                                      _vm._v(_vm._s(_vm.$gettext(\"Duplicate\"))),\n                                    ]),\n                                  ]\n                                ),\n                                _vm._v(\" \"),\n                                _c(\n                                  \"v-tooltip\",\n                                  {\n                                    attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                                    scopedSlots: _vm._u(\n                                      [\n                                        {\n                                          key: \"activator\",\n                                          fn: function ({ on, attrs }) {\n                                            return [\n                                              _c(\n                                                \"v-btn\",\n                                                _vm._g(\n                                                  _vm._b(\n                                                    {\n                                                      staticClass: \"ma-1\",\n                                                      attrs: {\n                                                        icon: \"\",\n                                                        disabled: _vm.editorTrip\n                                                          ? true\n                                                          : false,\n                                                      },\n                                                      on: {\n                                                        click: function (\n                                                          $event\n                                                        ) {\n                                                          return _vm.deleteButton(\n                                                            {\n                                                              trip: item,\n                                                              message: item,\n                                                              action:\n                                                                \"deleteTrip\",\n                                                            }\n                                                          )\n                                                        },\n                                                      },\n                                                    },\n                                                    \"v-btn\",\n                                                    attrs,\n                                                    false\n                                                  ),\n                                                  on\n                                                ),\n                                                [\n                                                  _c(\n                                                    \"v-icon\",\n                                                    {\n                                                      attrs: {\n                                                        small: \"\",\n                                                        color: \"regular\",\n                                                      },\n                                                    },\n                                                    [\n                                                      _vm._v(\n                                                        \"\\n                    fas fa-trash\\n                  \"\n                                                      ),\n                                                    ]\n                                                  ),\n                                                ],\n                                                1\n                                              ),\n                                            ]\n                                          },\n                                        },\n                                      ],\n                                      null,\n                                      true\n                                    ),\n                                  },\n                                  [\n                                    _vm._v(\" \"),\n                                    _c(\"span\", [\n                                      _vm._v(\n                                        _vm._s(_vm.$gettext(\"Delete Line\"))\n                                      ),\n                                    ]),\n                                  ]\n                                ),\n                              ],\n                              1\n                            ),\n                          ]\n                        },\n                      },\n                    ],\n                    null,\n                    true\n                  ),\n                }),\n              ],\n              1\n            )\n          }),\n          _vm._v(\" \"),\n          _c(\"v-divider\"),\n        ],\n        2\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        { staticClass: \"mx-auto\" },\n        [\n          (_vm.editorTrip ? true : false)\n            ? _c(\n                \"v-list-item\",\n                [\n                  _c(\n                    \"v-tooltip\",\n                    {\n                      attrs: { right: \"\", \"open-delay\": \"500\" },\n                      scopedSlots: _vm._u(\n                        [\n                          {\n                            key: \"activator\",\n                            fn: function ({ on, attrs }) {\n                              return [\n                                _c(\n                                  \"v-btn\",\n                                  _vm._g(\n                                    _vm._b(\n                                      {\n                                        staticClass: \"mx-2\",\n                                        attrs: {\n                                          color: _vm.$store.getters.anchorMode\n                                            ? \"grey\"\n                                            : \"regular\",\n                                        },\n                                        on: {\n                                          click: function ($event) {\n                                            return _vm.$store.commit(\n                                              \"changeAnchorMode\"\n                                            )\n                                          },\n                                        },\n                                      },\n                                      \"v-btn\",\n                                      attrs,\n                                      false\n                                    ),\n                                    on\n                                  ),\n                                  [\n                                    _c(\"v-icon\", { attrs: { small: \"\" } }, [\n                                      _vm._v(\n                                        \"\\n              fas fa-anchor\\n            \"\n                                      ),\n                                    ]),\n                                  ],\n                                  1\n                                ),\n                              ]\n                            },\n                          },\n                        ],\n                        null,\n                        false,\n                        3833012906\n                      ),\n                    },\n                    [\n                      _vm._v(\" \"),\n                      _c(\"span\", [\n                        _vm._v(\n                          \" \" + _vm._s(_vm.$gettext(\"Edit Line geometry\")) + \" \"\n                        ),\n                        _c(\"b\", [_vm._v(\"(CTRL)\")]),\n                      ]),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      on: {\n                        click: function ($event) {\n                          return _vm.$emit(\"abortChanges\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-icon\", { attrs: { small: \"\", left: \"\" } }, [\n                        _vm._v(\"\\n          fas fa-times-circle\\n        \"),\n                      ]),\n                      _vm._v(\n                        \"\\n        \" +\n                          _vm._s(_vm.$gettext(\"Abort\")) +\n                          \"\\n      \"\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"primary\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$emit(\"confirmChanges\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-icon\", { attrs: { small: \"\", left: \"\" } }, [\n                        _vm._v(\"\\n          fas fa-save\\n        \"),\n                      ]),\n                      _vm._v(\n                        \"\\n        \" +\n                          _vm._s(_vm.$gettext(\"Confirm\")) +\n                          \"\\n      \"\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _c(\n            \"v-list-item\",\n            {\n              directives: [\n                {\n                  name: \"show\",\n                  rawName: \"v-show\",\n                  value: _vm.editorTrip ? false : true,\n                  expression: \"editorTrip ? false: true\",\n                },\n              ],\n            },\n            [\n              _c(\"v-spacer\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-tooltip\",\n                {\n                  attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                  scopedSlots: _vm._u([\n                    {\n                      key: \"activator\",\n                      fn: function ({ on, attrs }) {\n                        return [\n                          _c(\n                            \"v-btn\",\n                            _vm._g(\n                              _vm._b(\n                                {\n                                  staticClass: \"text--primary\",\n                                  attrs: {\n                                    color: \"primary\",\n                                    fab: \"\",\n                                    small: \"\",\n                                  },\n                                  on: { click: _vm.createNewLine },\n                                },\n                                \"v-btn\",\n                                attrs,\n                                false\n                              ),\n                              on\n                            ),\n                            [_c(\"v-icon\", [_vm._v(\"fas fa-plus\")])],\n                            1\n                          ),\n                        ]\n                      },\n                    },\n                  ]),\n                },\n                [\n                  _vm._v(\" \"),\n                  _c(\"span\", [_vm._v(_vm._s(_vm.$gettext(\"Create new Line\")))]),\n                ]\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { persistent: \"\", \"max-width\": \"290\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                _vm.$emit(\"confirmChanges\")\n                _vm.showDialog = !_vm.showDialog\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                _vm.showDialog = false\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Save Changes?\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\", left: \"\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.showDialog = false\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Cancel\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.$emit(\"abortChanges\")\n                          _vm.showDialog = !_vm.showDialog\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"No\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"primary\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.$emit(\"confirmChanges\")\n                          _vm.showDialog = !_vm.showDialog\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Yes\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nconst $gettext = s => s\nconst short = require('short-uuid')\n\nexport default {\n  name: 'LinksSidePanel',\n  components: {\n  },\n\n  props: ['selectedTrips', 'height'], // height is here to resize with the windows...\n  events: ['selectEditorTrip', 'confirmChanges', 'abortChanges', 'cloneButton', 'deleteButton', 'propertiesButton', 'newLine'],\n\n  data () {\n    return {\n      showDialog: false,\n      tripList: [],\n      // for some reason, the v-model does not update when i force it in a watcher or a method.\n      // I this vmodelselectedFilter for displaying the correct selected filter in the filter selector.\n      selectedFilter: '',\n      vmodelSelectedFilter: '',\n    }\n  },\n  computed: {\n    filterChoices () { return this.$store.getters.lineAttributes },\n    editorTrip () { return this.$store.getters.editorTrip },\n    tripId () { return this.$store.getters.tripId },\n    arrayUniqueTripId () {\n      // drop duplicates links trips. each line is a trip here.\n      const arrayUniqueByKey = [...new Map(this.$store.getters.links.features.map(item =>\n        [item.properties.trip_id, item.properties])).values()]\n      return arrayUniqueByKey\n    },\n    filteredCat () {\n      // for a given filter (key) get array of unique value\n      // e.g. get ['bus','subway'] for route_type\n      const val = Array.from(new Set(this.arrayUniqueTripId.map(\n        item => item[this.selectedFilter])))\n      return val\n    },\n\n    classifiedTripId () {\n      // return this list of object, {cat_name, tripId list}\n      const classifiedTripId = []\n      const undefinedCat = { name: $gettext('undefined'), tripId: [] }\n      this.filteredCat.forEach(c => {\n        const arr = this.arrayUniqueTripId.filter(\n          item => item[this.selectedFilter] === c,\n        ).map((item) => item.trip_id).sort()\n\n        // regroup all null values into a single list 'undefined'\n        if (c === null | c === '' | c === undefined) {\n          undefinedCat.tripId.push(...arr)\n        } else {\n          classifiedTripId.push({ name: c, tripId: arr })\n        }\n      })\n      // if there was undefined Categories, append it at the end.\n      if (undefinedCat.tripId.length > 0) {\n        classifiedTripId.push(undefinedCat)\n      }\n      return classifiedTripId\n    },\n  },\n\n  watch: {\n    tripList (val) {\n      this.$emit('update-tripList', val)\n    },\n    tripId (newVal, oldVal) {\n      if (newVal.length < oldVal.length) {\n        // if a trip is deleted. we remove it, no remapping.\n        this.tripList = this.tripList.filter((trip) => newVal.includes(trip))\n      } else if (newVal.length > oldVal.length) {\n        // if a trip is added, we add it!\n        const newTrip = newVal.filter(item => !oldVal.includes(item))[0]\n        this.tripList.push(newTrip)\n      } else {\n        // if a trip name changes.\n        // update TripList v-model when a trip_id is changed.\n        const dict = {}\n        oldVal.forEach(\n          function (key, i) {\n            dict[key] = newVal[i]\n          })\n        this.tripList = this.tripList.map((trip) => dict[trip])\n      }\n    },\n    vmodelSelectedFilter (newVal, oldVal) {\n      this.selectedFilter = newVal\n      // prevent group larger than 500.\n      if (this.filteredCat.length > 500) {\n        // if it is larger, return to oldValue\n        this.selectedFilter = oldVal\n        // display error message\n        this.$store.commit('changeNotification',\n          {\n            text: $gettext('Cannot filter by this field. There is more than 500 groups'),\n            autoClose: true,\n            color: 'red darken-2',\n          })\n        // return the value in the v-select as the old Value\n        // eslint-disable-next-line no-return-assign\n        this.$nextTick(() => this.vmodelSelectedFilter = oldVal)\n      }\n    },\n\n  },\n  created () {\n    this.tripList = this.selectedTrips\n    this.selectedFilter = 'route_type'\n    this.vmodelSelectedFilter = this.selectedFilter\n  },\n\n  methods: {\n\n    editButton (value) {\n      if (this.editorTrip === value) {\n        this.showDialog = true\n      } else {\n        this.$store.commit('setEditorTrip', { tripId: value, changeBounds: true })\n        this.$store.commit('changeNotification', { text: '', autoClose: true })\n      }\n    },\n\n    propertiesButton (value) {\n      // select the TripId and open dialog\n      if (typeof value === 'object') {\n        this.$emit('propertiesButton', { action: 'Edit Group Info', lingering: false, tripIds: value })\n      } else if (!this.editorTrip) {\n        this.$store.commit('setEditorTrip', { tripId: value, changeBounds: false })\n        this.$emit('propertiesButton', { action: 'Edit Line Info', lingering: false })\n        // just open dialog\n      } else {\n        this.$emit('propertiesButton', { action: 'Edit Line Info', lingering: true })\n        this.$store.commit('changeNotification', { text: '', autoClose: true })\n      }\n    },\n    createNewLine () {\n      const name = 'trip_' + short.generate()\n      this.$store.commit('setEditorTrip', { tripId: name, changeBounds: false })\n      this.$emit('propertiesButton', { action: 'Edit Line Info', lingering: true })\n    },\n\n    cloneButton (obj) {\n      this.$emit('cloneButton', obj)\n    },\n\n    deleteButton (obj) {\n      // obj contain trip and message.\n      this.$emit('deleteButton', obj)\n    },\n    showAll () {\n      if (this.tripList === this.tripId) {\n        this.tripList = []\n      } else {\n        this.tripList = this.tripId\n      }\n    },\n    showGroup (val) {\n      // at least one value is selected in the group : uncheck all\n      if (val.some(value => this.tripList.includes(value))) {\n        this.tripList = this.tripList.filter(trip => !val.includes(trip))\n      // none are selected : select All.\n      } else {\n        this.tripList = Array.from(new Set([...this.tripList, ...val]))\n      }\n    },\n\n  },\n\n}\n</script>\n<template>\n  <section>\n    <v-card-title class=\"white--text secondary\">\n      <v-tooltip\n        bottom\n        open-delay=\"500\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            :style=\"{color: 'white'}\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n            @click=\"showAll()\"\n          >\n            <v-icon class=\"list-item-icon\">\n              {{ tripList == tripId ? 'fa-eye fa' : 'fa-eye-slash fa' }}\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>{{ tripList == tripId? $gettext(\"Hide All\"): $gettext(\"Show All\") }}</span>\n      </v-tooltip>\n      <v-tooltip\n        bottom\n        open-delay=\"500\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            :style=\"{color: 'white'}\"\n            v-bind=\"attrs\"\n            :disabled=\"tripList.length===0? true: false\"\n            v-on=\"on\"\n            @click=\"propertiesButton(tripList)\"\n          >\n            <v-icon class=\"list-item-icon\">\n              fas fa-list\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>{{ $gettext(\"Edit Visibles Properties\") }}</span>\n      </v-tooltip>\n\n      <v-spacer />\n      <span :style=\"{color: 'white'}\">\n        {{ $gettext(\"Lines\") }}\n      </span>\n\n      <v-spacer />\n\n      <v-spacer />\n      <v-menu\n        offset-y\n        open-on-hover\n        close-delay=\"100\"\n        transition=\"slide-y-transition\"\n      >\n        <template v-slot:activator=\"{ on: on,attrs:attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            :style=\"{color: 'white'}\"\n            dark\n            v-bind=\"attrs\"\n            v-on=\"on\"\n          >\n            <v-icon>fa-solid fa-download</v-icon>\n          </v-btn>\n        </template>\n        <v-list>\n          <v-list-item\n            link\n            @click=\"$store.dispatch('exportFiles')\"\n          >\n            <v-list-item-title>\n              {{ $gettext(\"Export All\") }}\n            </v-list-item-title>\n          </v-list-item>\n          <v-list-item\n            link\n            @click=\"$store.dispatch('exportFiles','visibles')\"\n          >\n            <v-list-item-title>\n              {{ $gettext(\"Export Only Visible\") }}\n            </v-list-item-title>\n          </v-list-item>\n        </v-list>\n      </v-menu>\n    </v-card-title>\n    <v-card\n      max-width=\"100%\"\n      min-width=\"100%\"\n      :height=\"height\"\n      class=\"mx-auto scrollable\"\n    >\n      <v-list-item>\n        <v-select\n          v-model=\"vmodelSelectedFilter\"\n          :items=\"filterChoices\"\n          prepend-icon=\"fas fa-filter\"\n          :label=\"$gettext('filter')\"\n          item-color=\"secondarydark\"\n          color=\"secondarydark\"\n        />\n      </v-list-item>\n      <v-list-group\n        v-for=\"(value, key) in classifiedTripId\"\n        :key=\"String(value.name) + String(key)\"\n        color=\"secondarydark\"\n        :value=\"false\"\n        no-action\n      >\n        <template v-slot:activator>\n          <v-list-item-action>\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  icon\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                  @click.stop=\"showGroup(value.tripId)\"\n                >\n                  <v-icon class=\"list-item-icon\">\n                    {{ value.tripId.some(val => tripList.includes(val))\n                      ? 'fa-eye fa' :\n                        'fa-eye-slash fa' }}\n                  </v-icon>\n                </v-btn>\n              </template>\n              <span>\n                {{ value.tripId.some(val => tripList.includes(val))\n                  ? $gettext(\"Hide All\"):\n                    $gettext(\"Show All\") }}\n              </span>\n            </v-tooltip>\n          </v-list-item-action>\n          <v-list-item-content>\n            <v-list-item-title>\n              <strong>\n                {{ value.name=='undefined'? $gettext(value.name): value.name }}\n              </strong>\n            </v-list-item-title>\n          </v-list-item-content>\n          <v-tooltip\n            bottom\n            open-delay=\"500\"\n          >\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                icon\n                class=\"ma-1\"\n                v-bind=\"attrs\"\n                :disabled=\"editorTrip!=null? true: false\"\n                v-on=\"on\"\n                @click.stop=\"propertiesButton(value.tripId)\"\n              >\n                <v-icon color=\"regular\">\n                  fas fa-list\n                </v-icon>\n              </v-btn>\n            </template>\n            <span>{{ $gettext(\"Edit Group Properties\") }}</span>\n          </v-tooltip>\n          <v-tooltip\n            bottom\n            open-delay=\"500\"\n          >\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                icon\n                class=\"ma-1\"\n                v-bind=\"attrs\"\n                :disabled=\"editorTrip ? true: false\"\n                v-on=\"on\"\n                @click.stop=\"deleteButton({trip:value.tripId, message:value.name,action:'deleteTrip'})\"\n              >\n                <v-icon\n                  small\n                  color=\"regular\"\n                >\n                  fas fa-trash\n                </v-icon>\n              </v-btn>\n            </template>\n            <span>{{ $gettext(\"Delete Group\") }}</span>\n          </v-tooltip>\n        </template>\n\n        <v-virtual-scroll\n          :items=\"value.tripId\"\n          :item-height=\"45\"\n          :height=\"Math.min(height-220, 45*value.tripId.length+3)\"\n        >\n          <template v-slot=\"{ item }\">\n            <v-list-item\n              :key=\"item\"\n              class=\"pl-2\"\n            >\n              <v-list-item-action>\n                <v-checkbox\n                  v-model=\"tripList\"\n                  class=\"pl-2\"\n                  :on-icon=\"'fa-eye fa'\"\n                  :off-icon=\"'fa-eye-slash fa'\"\n                  :color=\"'primary'\"\n                  :value=\"item\"\n                  size=\"10\"\n                  hide-details\n                />\n              </v-list-item-action>\n              <v-tooltip\n                right\n                open-delay=\"300\"\n                content-class=\"custom-tooltip\"\n              >\n                <template v-slot:activator=\"{ on }\">\n                  <v-list-item-title\n                    v-if=\"item==editorTrip\"\n                    v-on=\"on\"\n                  >\n                    <strong>{{ item }}</strong>\n                  </v-list-item-title>\n                  <v-list-item-title\n                    v-else\n                    v-on=\"on\"\n                  >\n                    {{ item }}\n                  </v-list-item-title>\n                </template>\n                <span>{{ item }}</span>\n              </v-tooltip>\n\n              <v-tooltip\n                bottom\n                open-delay=\"500\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    icon\n                    class=\"ma-1\"\n                    v-bind=\"attrs\"\n                    :disabled=\"(item != editorTrip) & (editorTrip!=null) ? true: false\"\n                    v-on=\"on\"\n                    @click=\"editButton(item)\"\n                  >\n                    <v-icon :color=\"item == editorTrip? 'regular':'regular' \">\n                      fas fa-pen\n                    </v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $gettext(\"Edit Line\") }}</span>\n              </v-tooltip>\n\n              <v-tooltip\n                bottom\n                open-delay=\"500\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    icon\n                    class=\"ma-1\"\n                    v-bind=\"attrs\"\n                    :disabled=\"(item != editorTrip) & (editorTrip!=null) ? true: false\"\n                    v-on=\"on\"\n                    @click=\"propertiesButton(item)\"\n                  >\n                    <v-icon :color=\"item == editorTrip? 'regular':'regular' \">\n                      fas fa-list\n                    </v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $gettext(\"Edit Line Properties\") }}</span>\n              </v-tooltip>\n\n              <v-tooltip\n                bottom\n                open-delay=\"500\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    icon\n                    class=\"ma-1\"\n                    v-bind=\"attrs\"\n                    :disabled=\"(item != editorTrip) & (editorTrip!=null) ? true: false\"\n                    v-on=\"on\"\n                    @click=\"cloneButton({trip:item,message:item})\"\n                  >\n                    <v-icon :color=\"item == editorTrip? 'regular':'regular' \">\n                      fas fa-clone\n                    </v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $gettext(\"Duplicate\") }}</span>\n              </v-tooltip>\n\n              <v-tooltip\n                bottom\n                open-delay=\"500\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    icon\n                    class=\"ma-1\"\n                    v-bind=\"attrs\"\n                    :disabled=\"editorTrip ? true: false\"\n                    v-on=\"on\"\n                    @click=\"deleteButton({trip:item,message:item,action:'deleteTrip'})\"\n                  >\n                    <v-icon\n                      small\n                      color=\"regular\"\n                    >\n                      fas fa-trash\n                    </v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $gettext(\"Delete Line\") }}</span>\n              </v-tooltip>\n            </v-list-item>\n          </template>\n        </v-virtual-scroll>\n      </v-list-group>\n\n      <v-divider />\n    </v-card>\n    <v-card class=\"mx-auto\">\n      <v-list-item v-if=\"editorTrip ? true: false\">\n        <v-tooltip\n          right\n          open-delay=\"500\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              v-bind=\"attrs\"\n              class=\"mx-2\"\n              :color=\"$store.getters.anchorMode? 'grey':'regular'\"\n              v-on=\"on\"\n              @click=\"$store.commit('changeAnchorMode')\"\n            >\n              <v-icon small>\n                fas fa-anchor\n              </v-icon>\n            </v-btn>\n          </template>\n          <span> {{ $gettext(\"Edit Line geometry\") }} <b>(CTRL)</b></span>\n        </v-tooltip>\n\n        <v-btn\n          @click=\"$emit('abortChanges')\"\n        >\n          <v-icon\n            small\n            left\n          >\n            fas fa-times-circle\n          </v-icon>\n          {{ $gettext(\"Abort\") }}\n        </v-btn>\n        <v-btn\n          color=\"primary\"\n          @click=\"$emit('confirmChanges')\"\n        >\n          <v-icon\n            small\n            left\n          >\n            fas fa-save\n          </v-icon>\n          {{ $gettext(\"Confirm\") }}\n        </v-btn>\n      </v-list-item>\n      <v-list-item v-show=\"editorTrip ? false: true\">\n        <v-spacer />\n\n        <v-tooltip\n          bottom\n          open-delay=\"500\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              v-bind=\"attrs\"\n              color=\"primary\"\n              class=\"text--primary\"\n              fab\n              small\n              v-on=\"on\"\n              @click=\"createNewLine\"\n            >\n              <v-icon>fas fa-plus</v-icon>\n            </v-btn>\n          </template>\n          <span>{{ $gettext(\"Create new Line\") }}</span>\n        </v-tooltip>\n      </v-list-item>\n    </v-card>\n    <v-dialog\n      v-model=\"showDialog\"\n      persistent\n      max-width=\"290\"\n      @keydown.enter=\"$emit('confirmChanges'); showDialog = !showDialog\"\n      @keydown.esc=\"showDialog=false\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h5\">\n          {{ $gettext(\"Save Changes?\") }}\n        </v-card-title>\n        <v-card-actions>\n          <v-btn\n            color=\"regular\"\n            left\n            @click=\"showDialog = false\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n          <v-spacer />\n          <v-btn\n            color=\"regular\"\n            @click=\"$emit('abortChanges'); showDialog = !showDialog\"\n          >\n            {{ $gettext(\"No\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"primary\"\n\n            @click=\"$emit('confirmChanges'); showDialog = !showDialog\"\n          >\n            {{ $gettext(\"Yes\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n@import \"src/scss/variables.scss\";\n.left-panel {\n  height: 100%;\n  background-color: $primary-dark;\n  transition: 0.3s;\n  position: absolute;\n  display:flex;\n  z-index: 20;\n\n}\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: $primary-dark;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n.custom-tooltip {\n    opacity: 1!important;\n    background: var(--v-tooltip-bg, rgba(97, 97, 97, 1)) !important;\n}\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinksSidePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinksSidePanel.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinksSidePanel.vue?vue&type=style&index=0&id=61e624f6&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinksSidePanel.vue?vue&type=style&index=0&id=61e624f6&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./LinksSidePanel.vue?vue&type=template&id=61e624f6&scoped=true&\"\nimport script from \"./LinksSidePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./LinksSidePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LinksSidePanel.vue?vue&type=style&index=0&id=61e624f6&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61e624f6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"v-card-title\",\n        { staticClass: \"white--text secondary\" },\n        [\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              style: { color: \"white\" },\n                              attrs: { icon: \"\" },\n                              on: {\n                                click: function ($event) {\n                                  return _vm.showAll()\n                                },\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", { staticClass: \"list-item-icon\" }, [\n                            _vm._v(\n                              \"\\n            \" +\n                                _vm._s(\n                                  _vm.tripList.length > 0\n                                    ? \"fa-eye fa\"\n                                    : \"fa-eye-slash fa\"\n                                ) +\n                                \"\\n          \"\n                            ),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\"span\", [\n                _vm._v(\n                  _vm._s(\n                    _vm.tripList.length > 0\n                      ? _vm.$gettext(\"Hide All\")\n                      : _vm.$gettext(\"Show All\")\n                  )\n                ),\n              ]),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              style: { color: \"white\" },\n                              attrs: {\n                                icon: \"\",\n                                disabled:\n                                  _vm.tripList.length === 0 ? true : false,\n                              },\n                              on: {\n                                click: function ($event) {\n                                  return _vm.editVisible()\n                                },\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", { staticClass: \"list-item-icon\" }, [\n                            _vm._v(\"\\n            fas fa-list\\n          \"),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\"span\", [\n                _vm._v(_vm._s(_vm.$gettext(\"Edit Visibles Properties\"))),\n              ]),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\"span\", { style: { color: \"white\" } }, [\n            _vm._v(\"\\n      \" + _vm._s(_vm.$gettext(\"Roads\")) + \"\\n    \"),\n          ]),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\n            \"v-menu\",\n            {\n              attrs: {\n                \"offset-y\": \"\",\n                \"open-on-hover\": \"\",\n                \"close-delay\": \"100\",\n                transition: \"slide-y-transition\",\n              },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on: on, attrs: attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              style: { color: \"white\" },\n                              attrs: { icon: \"\", dark: \"\" },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [_c(\"v-icon\", [_vm._v(\"fa-solid fa-download\")])],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\n                \"v-list\",\n                [\n                  _c(\n                    \"v-list-item\",\n                    {\n                      attrs: { link: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$store.dispatch(\"exportFiles\", \"all\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-list-item-title\", [\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Export All\")) +\n                            \"\\n          \"\n                        ),\n                      ]),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-list-item\",\n                    {\n                      attrs: { link: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$store.dispatch(\"exportFiles\", \"visible\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-list-item-title\", [\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Export Only Visible\")) +\n                            \"\\n          \"\n                        ),\n                      ]),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        {\n          staticClass: \"mx-auto scrollable\",\n          attrs: {\n            \"max-width\": \"100%\",\n            \"min-width\": \"100%\",\n            height: _vm.height,\n          },\n        },\n        [\n          _c(\n            \"v-list-item\",\n            [\n              _c(\"v-select\", {\n                attrs: {\n                  items: _vm.filterChoices,\n                  \"prepend-icon\": \"fas fa-filter\",\n                  label: _vm.$gettext(\"filter\"),\n                  \"item-color\": \"secondarydark\",\n                  color: \"secondarydark\",\n                },\n                model: {\n                  value: _vm.vmodelSelectedFilter,\n                  callback: function ($$v) {\n                    _vm.vmodelSelectedFilter = $$v\n                  },\n                  expression: \"vmodelSelectedFilter\",\n                },\n              }),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\"v-virtual-scroll\", {\n            attrs: {\n              items: _vm.filteredCat,\n              \"item-height\": 45,\n              height: _vm.height - 71,\n            },\n            scopedSlots: _vm._u([\n              {\n                key: \"default\",\n                fn: function ({ item }) {\n                  return [\n                    _c(\n                      \"v-list-item\",\n                      {\n                        key: _vm.vmodelSelectedFilter.concat(item),\n                        staticClass: \"pl-2\",\n                      },\n                      [\n                        _c(\n                          \"v-list-item-action\",\n                          [\n                            _c(\"v-checkbox\", {\n                              staticClass: \"pl-2\",\n                              attrs: {\n                                \"on-icon\": \"fa-eye fa\",\n                                \"off-icon\": \"fa-eye-slash fa\",\n                                color: \"primary\",\n                                value: item,\n                                size: \"10\",\n                                \"hide-details\": \"\",\n                              },\n                              model: {\n                                value: _vm.tripList,\n                                callback: function ($$v) {\n                                  _vm.tripList = $$v\n                                },\n                                expression: \"tripList\",\n                              },\n                            }),\n                          ],\n                          1\n                        ),\n                        _vm._v(\" \"),\n                        _c(\"v-list-item-title\", [\n                          _vm._v(\n                            \"\\n            \" + _vm._s(item) + \"\\n          \"\n                          ),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\n                          \"v-tooltip\",\n                          {\n                            attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                            scopedSlots: _vm._u(\n                              [\n                                {\n                                  key: \"activator\",\n                                  fn: function ({ on, attrs }) {\n                                    return [\n                                      _c(\n                                        \"v-btn\",\n                                        _vm._g(\n                                          _vm._b(\n                                            {\n                                              staticClass: \"ma-1\",\n                                              attrs: {\n                                                icon: \"\",\n                                                disabled: false,\n                                              },\n                                              on: {\n                                                click: function ($event) {\n                                                  return _vm.propertiesButton(\n                                                    item\n                                                  )\n                                                },\n                                              },\n                                            },\n                                            \"v-btn\",\n                                            attrs,\n                                            false\n                                          ),\n                                          on\n                                        ),\n                                        [\n                                          _c(\n                                            \"v-icon\",\n                                            { attrs: { color: \"regular\" } },\n                                            [\n                                              _vm._v(\n                                                \"\\n                  fas fa-list\\n                \"\n                                              ),\n                                            ]\n                                          ),\n                                        ],\n                                        1\n                                      ),\n                                    ]\n                                  },\n                                },\n                              ],\n                              null,\n                              true\n                            ),\n                          },\n                          [\n                            _vm._v(\" \"),\n                            _c(\"span\", [\n                              _vm._v(\n                                _vm._s(_vm.$gettext(\"Edit Line Properties\"))\n                              ),\n                            ]),\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"v-tooltip\",\n                          {\n                            attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                            scopedSlots: _vm._u(\n                              [\n                                {\n                                  key: \"activator\",\n                                  fn: function ({ on, attrs }) {\n                                    return [\n                                      _c(\n                                        \"v-btn\",\n                                        _vm._g(\n                                          _vm._b(\n                                            {\n                                              staticClass: \"ma-1\",\n                                              attrs: {\n                                                icon: \"\",\n                                                disabled: false,\n                                              },\n                                              on: {\n                                                click: function ($event) {\n                                                  return _vm.deleteButton({\n                                                    trip: item,\n                                                    group: _vm.selectedFilter,\n                                                    message: item,\n                                                    action: \"deleterGroup\",\n                                                  })\n                                                },\n                                              },\n                                            },\n                                            \"v-btn\",\n                                            attrs,\n                                            false\n                                          ),\n                                          on\n                                        ),\n                                        [\n                                          _c(\n                                            \"v-icon\",\n                                            {\n                                              attrs: {\n                                                small: \"\",\n                                                color: \"regular\",\n                                              },\n                                            },\n                                            [\n                                              _vm._v(\n                                                \"\\n                  fas fa-trash\\n                \"\n                                              ),\n                                            ]\n                                          ),\n                                        ],\n                                        1\n                                      ),\n                                    ]\n                                  },\n                                },\n                              ],\n                              null,\n                              true\n                            ),\n                          },\n                          [\n                            _vm._v(\" \"),\n                            _c(\"span\", [\n                              _vm._v(_vm._s(_vm.$gettext(\"Delete Line\"))),\n                            ]),\n                          ]\n                        ),\n                      ],\n                      1\n                    ),\n                  ]\n                },\n              },\n            ]),\n          }),\n          _vm._v(\" \"),\n          _c(\"v-divider\"),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        { staticClass: \"mx-auto\" },\n        [\n          _c(\n            \"v-list-item\",\n            [\n              _c(\n                \"v-tooltip\",\n                {\n                  attrs: { right: \"\", \"open-delay\": \"500\" },\n                  scopedSlots: _vm._u([\n                    {\n                      key: \"activator\",\n                      fn: function ({ on, attrs }) {\n                        return [\n                          _c(\n                            \"v-btn\",\n                            _vm._g(\n                              _vm._b(\n                                {\n                                  staticClass: \"mx-2\",\n                                  attrs: {\n                                    color: _vm.$store.getters.anchorMode\n                                      ? \"grey\"\n                                      : \"regular\",\n                                  },\n                                  on: {\n                                    click: function ($event) {\n                                      return _vm.$store.commit(\n                                        \"changeAnchorMode\"\n                                      )\n                                    },\n                                  },\n                                },\n                                \"v-btn\",\n                                attrs,\n                                false\n                              ),\n                              on\n                            ),\n                            [\n                              _c(\"v-icon\", { attrs: { small: \"\" } }, [\n                                _vm._v(\n                                  \"\\n              fas fa-anchor\\n            \"\n                                ),\n                              ]),\n                            ],\n                            1\n                          ),\n                        ]\n                      },\n                    },\n                  ]),\n                },\n                [\n                  _vm._v(\" \"),\n                  _c(\"span\", [\n                    _vm._v(\n                      \" \" + _vm._s(_vm.$gettext(\"Edit Line geometry\")) + \" \"\n                    ),\n                    _c(\"b\", [_vm._v(\"(CTRL)\")]),\n                  ]),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-tooltip\",\n                {\n                  attrs: { right: \"\", \"open-delay\": \"500\" },\n                  scopedSlots: _vm._u([\n                    {\n                      key: \"activator\",\n                      fn: function ({ on, attrs }) {\n                        return [\n                          _c(\n                            \"v-btn\",\n                            _vm._g(\n                              _vm._b(\n                                {\n                                  staticClass: \"mx-2\",\n                                  attrs: {\n                                    disabled: !_vm.$store.getters.hasCycleway,\n                                    color: _vm.$store.getters.cyclewayMode\n                                      ? \"green\"\n                                      : \"regular\",\n                                  },\n                                  on: {\n                                    click: function ($event) {\n                                      return _vm.$store.commit(\n                                        \"changeCyclewayMode\"\n                                      )\n                                    },\n                                  },\n                                },\n                                \"v-btn\",\n                                attrs,\n                                false\n                              ),\n                              on\n                            ),\n                            [\n                              _c(\"v-icon\", { attrs: { small: \"\" } }, [\n                                _vm._v(\n                                  \"\\n              fas fa-biking\\n            \"\n                                ),\n                              ]),\n                            ],\n                            1\n                          ),\n                        ]\n                      },\n                    },\n                  ]),\n                },\n                [\n                  _vm._v(\" \"),\n                  _c(\"span\", [\n                    _vm._v(\n                      \" \" +\n                        _vm._s(\n                          _vm.$gettext(\n                            \"Show Cycleway direction instead of road\"\n                          )\n                        )\n                    ),\n                  ]),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\"v-spacer\"),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nexport default {\n  name: 'RoadSidePanel',\n  components: {\n  },\n  props: ['selectedrGoup', 'height'], // height is here to resize with the windows...\n  events: ['deleteButton', 'propertiesButton', 'update-tripList'],\n\n  data () {\n    return {\n      tripList: this.selectedrGoup,\n      // for some reason, the v-model does not update when i force it in a watcher or a method.\n      // I this vmodelselectedFilter for displaying the correct selected filter in the filter selector.\n      selectedFilter: '',\n      vmodelSelectedFilter: '',\n    }\n  },\n  computed: {\n    filterChoices () { return this.$store.getters.rlineAttributes },\n    filteredCat () { return this.$store.getters.filteredrCategory },\n\n  },\n\n  watch: {\n    tripList (newVal, oldVal) {\n      let changes = ''\n      let method = 'add'\n      if (newVal === this.filteredCat) {\n        changes = newVal\n        method = 'showAll'\n      } else if (newVal.length === 0) {\n        changes = []\n        method = 'hideAll'\n      } else if (newVal.length < oldVal.length) {\n        // if a tripis unchecked. we remove it\n        changes = oldVal.filter(item => !newVal.includes(item))\n        method = 'remove'\n      } else if (newVal.length > oldVal.length) {\n        // if a trip is added, we add it!\n        changes = newVal.filter(item => !oldVal.includes(item))\n        method = 'add'\n      }\n      if (changes !== '') {\n        this.$emit('update-tripList', { category: this.vmodelSelectedFilter, data: changes, method: method })\n      }\n    },\n    selectedrGoup (newVal) {\n      // check selected group in store. if it changes from another component\n      const a = new Set(newVal)\n      const b = new Set(this.tripList)\n      if (!(a.size === b.size && new Set([...a, ...b]).size === a.size)) {\n        this.tripList = structuredClone(newVal)\n      }\n    },\n\n    vmodelSelectedFilter (newVal, oldVal) {\n      this.selectedFilter = newVal\n      // only reset if we change the filter.\n      this.$store.commit('changeSelectedrFilter', this.selectedFilter)\n      // when the component is loaded, oldVal is null and we dont want to overwrite tripList to [].\n      if (oldVal) {\n        this.tripList = []\n      }\n    },\n\n  },\n  mounted () {\n    this.tripList = this.selectedrGoup\n    this.selectedFilter = this.$store.getters.selectedrFilter\n    this.vmodelSelectedFilter = this.selectedFilter\n    this.$store.commit('changeSelectedrFilter', this.selectedFilter)\n\n    if (this.$store.getters.links.features.length === 0 &&\n    !this.$store.getters.projectIsEmpty &&\n    this.selectedrGoup.length === 0) {\n      this.showAll()\n    }\n  },\n\n  methods: {\n\n    propertiesButton (value) {\n      // select the TripId and open dialog\n      this.$emit('propertiesButton', {\n        action: 'Edit Road Group Info',\n        lingering: false,\n        category: this.vmodelSelectedFilter,\n        group: value,\n      })\n    },\n    editVisible () {\n      this.$emit('propertiesButton', {\n        action: 'Edit Visible Road Info',\n        lingering: false,\n      })\n    },\n\n    deleteButton (obj) {\n      // obj contain trip and message.\n      this.$emit('deleteButton', obj)\n    },\n    showAll () {\n      if (this.tripList.length === this.filteredCat.length) {\n        this.tripList = []\n      } else {\n        this.tripList = this.filteredCat\n      }\n    },\n    showGroup (val) {\n      this.tripList = Array.from(new Set([...this.tripList, ...val]))\n    },\n\n  },\n\n}\n</script>\n<template>\n  <section>\n    <v-card-title class=\"white--text secondary\">\n      <v-tooltip\n        bottom\n        open-delay=\"500\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            :style=\"{color: 'white'}\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n            @click=\"showAll()\"\n          >\n            <v-icon class=\"list-item-icon\">\n              {{ tripList.length > 0 ? 'fa-eye fa' : 'fa-eye-slash fa' }}\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>{{ tripList.length > 0 ? $gettext(\"Hide All\"): $gettext(\"Show All\") }}</span>\n      </v-tooltip>\n      <v-tooltip\n        bottom\n        open-delay=\"500\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            :style=\"{color: 'white'}\"\n            :disabled=\"tripList.length===0? true: false\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n            @click=\"editVisible()\"\n          >\n            <v-icon class=\"list-item-icon\">\n              fas fa-list\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>{{ $gettext(\"Edit Visibles Properties\") }}</span>\n      </v-tooltip>\n\n      <v-spacer />\n      <span :style=\"{color: 'white'}\">\n        {{ $gettext(\"Roads\") }}\n      </span>\n\n      <v-spacer />\n\n      <v-spacer />\n      <v-menu\n        offset-y\n        open-on-hover\n        close-delay=\"100\"\n        transition=\"slide-y-transition\"\n      >\n        <template v-slot:activator=\"{ on: on,attrs:attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            :style=\"{color: 'white'}\"\n            dark\n            v-bind=\"attrs\"\n            v-on=\"on\"\n          >\n            <v-icon>fa-solid fa-download</v-icon>\n          </v-btn>\n        </template>\n        <v-list>\n          <v-list-item\n            link\n            @click=\"$store.dispatch('exportFiles','all')\"\n          >\n            <v-list-item-title>\n              {{ $gettext(\"Export All\") }}\n            </v-list-item-title>\n          </v-list-item>\n          <v-list-item\n            link\n            @click=\"$store.dispatch('exportFiles','visible')\"\n          >\n            <v-list-item-title>\n              {{ $gettext(\"Export Only Visible\") }}\n            </v-list-item-title>\n          </v-list-item>\n        </v-list>\n      </v-menu>\n    </v-card-title>\n    <v-card\n      max-width=\"100%\"\n      min-width=\"100%\"\n      :height=\"height\"\n      class=\"mx-auto scrollable\"\n    >\n      <v-list-item>\n        <v-select\n          v-model=\"vmodelSelectedFilter\"\n          :items=\"filterChoices\"\n          prepend-icon=\"fas fa-filter\"\n          :label=\"$gettext('filter')\"\n          item-color=\"secondarydark\"\n          color=\"secondarydark\"\n        />\n      </v-list-item>\n\n      <v-virtual-scroll\n        :items=\"filteredCat\"\n        :item-height=\"45\"\n        :height=\"height-71\"\n      >\n        <template v-slot=\"{ item }\">\n          <v-list-item\n            :key=\"vmodelSelectedFilter.concat(item)\"\n            class=\"pl-2\"\n          >\n            <v-list-item-action>\n              <v-checkbox\n                v-model=\"tripList\"\n                class=\"pl-2\"\n                :on-icon=\"'fa-eye fa'\"\n                :off-icon=\"'fa-eye-slash fa'\"\n                :color=\"'primary'\"\n                :value=\"item\"\n                size=\"10\"\n                hide-details\n              />\n            </v-list-item-action>\n\n            <v-list-item-title>\n              {{ item }}\n            </v-list-item-title>\n\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  icon\n                  class=\"ma-1\"\n                  v-bind=\"attrs\"\n                  :disabled=\"false\"\n                  v-on=\"on\"\n                  @click=\"propertiesButton(item)\"\n                >\n                  <v-icon :color=\"'regular' \">\n                    fas fa-list\n                  </v-icon>\n                </v-btn>\n              </template>\n              <span>{{ $gettext(\"Edit Line Properties\") }}</span>\n            </v-tooltip>\n\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  icon\n                  class=\"ma-1\"\n                  v-bind=\"attrs\"\n                  :disabled=\"false\"\n                  v-on=\"on\"\n                  @click=\"deleteButton({trip:item,group:selectedFilter,message:item,action:'deleterGroup'})\"\n                >\n                  <v-icon\n                    small\n                    color=\"regular\"\n                  >\n                    fas fa-trash\n                  </v-icon>\n                </v-btn>\n              </template>\n              <span>{{ $gettext(\"Delete Line\") }}</span>\n            </v-tooltip>\n          </v-list-item>\n        </template>\n      </v-virtual-scroll>\n\n      <v-divider />\n    </v-card>\n    <v-card class=\"mx-auto\">\n      <v-list-item>\n        <v-tooltip\n          right\n          open-delay=\"500\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              v-bind=\"attrs\"\n              class=\"mx-2\"\n              :color=\"$store.getters.anchorMode? 'grey':'regular'\"\n              v-on=\"on\"\n              @click=\"$store.commit('changeAnchorMode')\"\n            >\n              <v-icon small>\n                fas fa-anchor\n              </v-icon>\n            </v-btn>\n          </template>\n          <span> {{ $gettext(\"Edit Line geometry\") }} <b>(CTRL)</b></span>\n        </v-tooltip>\n        <v-tooltip\n          right\n          open-delay=\"500\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              v-bind=\"attrs\"\n              class=\"mx-2\"\n              :disabled=\"!$store.getters.hasCycleway\"\n              :color=\"$store.getters.cyclewayMode? 'green':'regular'\"\n              v-on=\"on\"\n              @click=\"$store.commit('changeCyclewayMode')\"\n            >\n              <v-icon small>\n                fas fa-biking\n              </v-icon>\n            </v-btn>\n          </template>\n          <span> {{ $gettext(\"Show Cycleway direction instead of road\") }}</span>\n        </v-tooltip>\n        <v-spacer />\n      </v-list-item>\n    </v-card>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.left-panel {\n  height: 100%;\n  background-color: $primary-dark;\n  transition: 0.3s;\n  position: absolute;\n  display:flex;\n  z-index: 20;\n\n}\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: $primary-dark;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadSidePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadSidePanel.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadSidePanel.vue?vue&type=style&index=0&id=0e528228&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadSidePanel.vue?vue&type=style&index=0&id=0e528228&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./RoadSidePanel.vue?vue&type=template&id=0e528228&scoped=true&\"\nimport script from \"./RoadSidePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./RoadSidePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoadSidePanel.vue?vue&type=style&index=0&id=0e528228&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e528228\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"v-card-title\",\n        { staticClass: \"white--text secondary\" },\n        [\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              style: { color: \"white\" },\n                              attrs: { icon: \"\" },\n                              on: {\n                                click: function ($event) {\n                                  return _vm.showAll()\n                                },\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", { staticClass: \"list-item-icon\" }, [\n                            _vm._v(\n                              \"\\n            \" +\n                                _vm._s(\n                                  _vm.vmodelSelectedCat.length > 0\n                                    ? \"fa-eye fa\"\n                                    : \"fa-eye-slash fa\"\n                                ) +\n                                \"\\n          \"\n                            ),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\"span\", [\n                _vm._v(\n                  _vm._s(\n                    _vm.vmodelSelectedCat.length > 0\n                      ? _vm.$gettext(\"Hide All\")\n                      : _vm.$gettext(\"Show All\")\n                  )\n                ),\n              ]),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              style: { color: \"white\" },\n                              attrs: {\n                                icon: \"\",\n                                disabled:\n                                  _vm.vmodelSelectedCat.length === 0\n                                    ? true\n                                    : false,\n                              },\n                              on: {\n                                click: function ($event) {\n                                  return _vm.editVisible()\n                                },\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", { staticClass: \"list-item-icon\" }, [\n                            _vm._v(\"\\n            fas fa-list\\n          \"),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\"span\", [\n                _vm._v(_vm._s(_vm.$gettext(\"Edit Visibles Properties\"))),\n              ]),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\"span\", { style: { color: \"white\" } }, [\n            _vm._v(\"\\n      \" + _vm._s(_vm.$gettext(\"OD\")) + \"\\n    \"),\n          ]),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\n            \"v-menu\",\n            {\n              attrs: {\n                \"offset-y\": \"\",\n                \"open-on-hover\": \"\",\n                \"close-delay\": \"100\",\n                transition: \"slide-y-transition\",\n              },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on: on, attrs: attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              style: { color: \"white\" },\n                              attrs: { icon: \"\", dark: \"\" },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [_c(\"v-icon\", [_vm._v(\"fa-solid fa-download\")])],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\n                \"v-list\",\n                [\n                  _c(\n                    \"v-list-item\",\n                    {\n                      attrs: { link: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$store.dispatch(\"exportFiles\", \"all\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-list-item-title\", [\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Export All\")) +\n                            \"\\n          \"\n                        ),\n                      ]),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-list-item\",\n                    {\n                      attrs: { link: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$store.dispatch(\"exportFiles\", \"visible\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-list-item-title\", [\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Export Only Visible\")) +\n                            \"\\n          \"\n                        ),\n                      ]),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        {\n          staticClass: \"mx-auto scrollable\",\n          attrs: {\n            \"max-width\": \"100%\",\n            \"min-width\": \"100%\",\n            height: _vm.height,\n          },\n        },\n        [\n          _c(\n            \"v-list-item\",\n            [\n              _c(\"v-select\", {\n                attrs: {\n                  items: _vm.filterChoices,\n                  \"prepend-icon\": \"fas fa-filter\",\n                  label: _vm.$gettext(\"filter\"),\n                  \"item-color\": \"secondarydark\",\n                  color: \"secondarydark\",\n                },\n                model: {\n                  value: _vm.vmodelSelectedFilter,\n                  callback: function ($$v) {\n                    _vm.vmodelSelectedFilter = $$v\n                  },\n                  expression: \"vmodelSelectedFilter\",\n                },\n              }),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\"v-virtual-scroll\", {\n            attrs: {\n              items: _vm.filteredCat,\n              \"item-height\": 45,\n              height: _vm.height - 71,\n            },\n            scopedSlots: _vm._u([\n              {\n                key: \"default\",\n                fn: function ({ item }) {\n                  return [\n                    _c(\n                      \"v-list-item\",\n                      {\n                        key: _vm.vmodelSelectedFilter.concat(item),\n                        staticClass: \"pl-2\",\n                      },\n                      [\n                        _c(\n                          \"v-list-item-action\",\n                          [\n                            _c(\"v-checkbox\", {\n                              staticClass: \"pl-2\",\n                              attrs: {\n                                \"on-icon\": \"fa-eye fa\",\n                                \"off-icon\": \"fa-eye-slash fa\",\n                                color: \"primary\",\n                                value: item,\n                                size: \"10\",\n                                \"hide-details\": \"\",\n                              },\n                              model: {\n                                value: _vm.vmodelSelectedCat,\n                                callback: function ($$v) {\n                                  _vm.vmodelSelectedCat = $$v\n                                },\n                                expression: \"vmodelSelectedCat\",\n                              },\n                            }),\n                          ],\n                          1\n                        ),\n                        _vm._v(\" \"),\n                        _c(\"v-list-item-title\", [\n                          _vm._v(\n                            \"\\n            \" + _vm._s(item) + \"\\n          \"\n                          ),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\n                          \"v-tooltip\",\n                          {\n                            attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                            scopedSlots: _vm._u(\n                              [\n                                {\n                                  key: \"activator\",\n                                  fn: function ({ on, attrs }) {\n                                    return [\n                                      _c(\n                                        \"v-btn\",\n                                        _vm._g(\n                                          _vm._b(\n                                            {\n                                              staticClass: \"ma-1\",\n                                              attrs: {\n                                                icon: \"\",\n                                                disabled: false,\n                                              },\n                                              on: {\n                                                click: function ($event) {\n                                                  return _vm.propertiesButton(\n                                                    item\n                                                  )\n                                                },\n                                              },\n                                            },\n                                            \"v-btn\",\n                                            attrs,\n                                            false\n                                          ),\n                                          on\n                                        ),\n                                        [\n                                          _c(\n                                            \"v-icon\",\n                                            { attrs: { color: \"regular\" } },\n                                            [\n                                              _vm._v(\n                                                \"\\n                  fas fa-list\\n                \"\n                                              ),\n                                            ]\n                                          ),\n                                        ],\n                                        1\n                                      ),\n                                    ]\n                                  },\n                                },\n                              ],\n                              null,\n                              true\n                            ),\n                          },\n                          [\n                            _vm._v(\" \"),\n                            _c(\"span\", [\n                              _vm._v(\n                                _vm._s(_vm.$gettext(\"Edit Line Properties\"))\n                              ),\n                            ]),\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"v-tooltip\",\n                          {\n                            attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                            scopedSlots: _vm._u(\n                              [\n                                {\n                                  key: \"activator\",\n                                  fn: function ({ on, attrs }) {\n                                    return [\n                                      _c(\n                                        \"v-btn\",\n                                        _vm._g(\n                                          _vm._b(\n                                            {\n                                              staticClass: \"ma-1\",\n                                              attrs: {\n                                                icon: \"\",\n                                                disabled: false,\n                                              },\n                                              on: {\n                                                click: function ($event) {\n                                                  return _vm.deleteButton({\n                                                    trip: item,\n                                                    group: _vm.selectedFilter,\n                                                    message: item,\n                                                    action: \"deleteODGroup\",\n                                                  })\n                                                },\n                                              },\n                                            },\n                                            \"v-btn\",\n                                            attrs,\n                                            false\n                                          ),\n                                          on\n                                        ),\n                                        [\n                                          _c(\n                                            \"v-icon\",\n                                            {\n                                              attrs: {\n                                                small: \"\",\n                                                color: \"regular\",\n                                              },\n                                            },\n                                            [\n                                              _vm._v(\n                                                \"\\n                  fas fa-trash\\n                \"\n                                              ),\n                                            ]\n                                          ),\n                                        ],\n                                        1\n                                      ),\n                                    ]\n                                  },\n                                },\n                              ],\n                              null,\n                              true\n                            ),\n                          },\n                          [\n                            _vm._v(\" \"),\n                            _c(\"span\", [\n                              _vm._v(_vm._s(_vm.$gettext(\"Delete Line\"))),\n                            ]),\n                          ]\n                        ),\n                      ],\n                      1\n                    ),\n                  ]\n                },\n              },\n            ]),\n          }),\n          _vm._v(\" \"),\n          _c(\"v-divider\"),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        { staticClass: \"mx-auto\" },\n        [_c(\"v-list-item\", [_c(\"v-spacer\")], 1)],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nexport default {\n  name: 'RoadSidePanel',\n  components: {\n  },\n  props: ['height'], // height is here to resize with the windows...\n  events: ['deleteButton', 'propertiesButton'],\n\n  data () {\n    return {\n      // for some reason, the v-model does not update when i force it in a watcher or a method.\n      // I this vmodelselectedFilter for displaying the correct selected filter in the filter selector.\n      vmodelSelectedFilter: 'cycleway',\n      vmodelSelectedCat: [],\n    }\n  },\n  computed: {\n    layer () { return this.$store.getters['od/layer'] },\n    filterChoices () { return this.$store.getters['od/layerAttributes'] },\n    selectedFilter () { return this.$store.getters['od/selectedFilter'] },\n    selectedCat () { return this.$store.getters['od/selectedCategory'] },\n    filteredCat () { return this.$store.getters['od/filteredCategory'] },\n  },\n\n  watch: {\n    vmodelSelectedCat (val) {\n      this.$store.commit('od/changeSelectedCategory', val)\n    },\n    vmodelSelectedFilter (val) {\n      this.$store.commit('od/changeSelectedFilter', val)\n      this.vmodelSelectedCat = [] // reset.\n    },\n\n  },\n  mounted () {\n    this.vmodelSelectedCat = this.selectedCat\n    this.vmodelSelectedFilter = this.selectedFilter\n  },\n\n  methods: {\n\n    propertiesButton (value) {\n      // select the TripId and open dialog\n      this.$emit('propertiesButton', {\n        action: 'Edit OD Group Info',\n        lingering: false,\n        category: this.vmodelSelectedFilter,\n        group: value,\n      })\n    },\n    editVisible () {\n      this.$emit('propertiesButton', {\n        action: 'Edit Visible OD Info',\n        lingering: false,\n      })\n    },\n\n    deleteButton (obj) {\n      // obj contain trip and message.\n      this.$emit('deleteButton', obj)\n    },\n    showAll () {\n      if (this.vmodelSelectedCat.length === this.filteredCat.length) {\n        this.vmodelSelectedCat = []\n      } else {\n        this.vmodelSelectedCat = this.filteredCat\n      }\n    },\n    showGroup (val) {\n      this.tripList = Array.from(new Set([...this.tripList, ...val]))\n    },\n\n  },\n\n}\n</script>\n<template>\n  <section>\n    <v-card-title class=\"white--text secondary\">\n      <v-tooltip\n        bottom\n        open-delay=\"500\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            :style=\"{color: 'white'}\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n            @click=\"showAll()\"\n          >\n            <v-icon class=\"list-item-icon\">\n              {{ vmodelSelectedCat.length > 0 ? 'fa-eye fa' : 'fa-eye-slash fa' }}\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>{{ vmodelSelectedCat.length > 0 ? $gettext(\"Hide All\"): $gettext(\"Show All\") }}</span>\n      </v-tooltip>\n      <v-tooltip\n        bottom\n        open-delay=\"500\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            :style=\"{color: 'white'}\"\n            :disabled=\"vmodelSelectedCat.length === 0? true: false\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n            @click=\"editVisible()\"\n          >\n            <v-icon class=\"list-item-icon\">\n              fas fa-list\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>{{ $gettext(\"Edit Visibles Properties\") }}</span>\n      </v-tooltip>\n\n      <v-spacer />\n      <span :style=\"{color: 'white'}\">\n        {{ $gettext(\"OD\") }}\n      </span>\n\n      <v-spacer />\n\n      <v-spacer />\n      <v-menu\n        offset-y\n        open-on-hover\n        close-delay=\"100\"\n        transition=\"slide-y-transition\"\n      >\n        <template v-slot:activator=\"{ on: on,attrs:attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            :style=\"{color: 'white'}\"\n            dark\n            v-bind=\"attrs\"\n            v-on=\"on\"\n          >\n            <v-icon>fa-solid fa-download</v-icon>\n          </v-btn>\n        </template>\n        <v-list>\n          <v-list-item\n            link\n            @click=\"$store.dispatch('exportFiles','all')\"\n          >\n            <v-list-item-title>\n              {{ $gettext(\"Export All\") }}\n            </v-list-item-title>\n          </v-list-item>\n          <v-list-item\n            link\n            @click=\"$store.dispatch('exportFiles','visible')\"\n          >\n            <v-list-item-title>\n              {{ $gettext(\"Export Only Visible\") }}\n            </v-list-item-title>\n          </v-list-item>\n        </v-list>\n      </v-menu>\n    </v-card-title>\n    <v-card\n      max-width=\"100%\"\n      min-width=\"100%\"\n      :height=\"height\"\n      class=\"mx-auto scrollable\"\n    >\n      <v-list-item>\n        <v-select\n          v-model=\"vmodelSelectedFilter\"\n          :items=\"filterChoices\"\n          prepend-icon=\"fas fa-filter\"\n          :label=\"$gettext('filter')\"\n          item-color=\"secondarydark\"\n          color=\"secondarydark\"\n        />\n      </v-list-item>\n\n      <v-virtual-scroll\n        :items=\"filteredCat\"\n        :item-height=\"45\"\n        :height=\"height-71\"\n      >\n        <template v-slot=\"{ item }\">\n          <v-list-item\n            :key=\"vmodelSelectedFilter.concat(item)\"\n            class=\"pl-2\"\n          >\n            <v-list-item-action>\n              <v-checkbox\n                v-model=\"vmodelSelectedCat\"\n                class=\"pl-2\"\n                :on-icon=\"'fa-eye fa'\"\n                :off-icon=\"'fa-eye-slash fa'\"\n                :color=\"'primary'\"\n                :value=\"item\"\n                size=\"10\"\n                hide-details\n              />\n            </v-list-item-action>\n\n            <v-list-item-title>\n              {{ item }}\n            </v-list-item-title>\n\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  icon\n                  class=\"ma-1\"\n                  v-bind=\"attrs\"\n                  :disabled=\"false\"\n                  v-on=\"on\"\n                  @click=\"propertiesButton(item)\"\n                >\n                  <v-icon :color=\"'regular' \">\n                    fas fa-list\n                  </v-icon>\n                </v-btn>\n              </template>\n              <span>{{ $gettext(\"Edit Line Properties\") }}</span>\n            </v-tooltip>\n\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  icon\n                  class=\"ma-1\"\n                  v-bind=\"attrs\"\n                  :disabled=\"false\"\n                  v-on=\"on\"\n                  @click=\"deleteButton({trip:item,group:selectedFilter,message:item,action:'deleteODGroup'})\"\n                >\n                  <v-icon\n                    small\n                    color=\"regular\"\n                  >\n                    fas fa-trash\n                  </v-icon>\n                </v-btn>\n              </template>\n              <span>{{ $gettext(\"Delete Line\") }}</span>\n            </v-tooltip>\n          </v-list-item>\n        </template>\n      </v-virtual-scroll>\n\n      <v-divider />\n    </v-card>\n    <v-card class=\"mx-auto\">\n      <v-list-item>\n        <v-spacer />\n      </v-list-item>\n    </v-card>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.left-panel {\n  height: 100%;\n  background-color: $primary-dark;\n  transition: 0.3s;\n  position: absolute;\n  display:flex;\n  z-index: 20;\n\n}\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: $primary-dark;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ODSidePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ODSidePanel.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ODSidePanel.vue?vue&type=style&index=0&id=56780b52&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ODSidePanel.vue?vue&type=style&index=0&id=56780b52&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ODSidePanel.vue?vue&type=template&id=56780b52&scoped=true&\"\nimport script from \"./ODSidePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./ODSidePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ODSidePanel.vue?vue&type=style&index=0&id=56780b52&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56780b52\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidePanel.vue?vue&type=script&lang=js&\"","<script>\nimport LinksSidePanel from './LinksSidePanel.vue'\nimport RoadSidePanel from './RoadSidePanel.vue'\nimport ODSidePanel from './ODSidePanel.vue'\nexport default {\n  name: 'SidePanel',\n  components: {\n    LinksSidePanel,\n    RoadSidePanel,\n    ODSidePanel,\n  },\n  props: ['selectedTrips', 'selectedrGroup'],\n  events: ['selectEditorTrip', 'confirmChanges', 'abortChanges', 'cloneButton', 'deleteButton', 'propertiesButton', 'change-mode'],\n\n  data () {\n    return {\n      showLeftPanelContent: true,\n      tab: 0,\n      mode: 'pt',\n      isResizing: false,\n      windowOffest: 0,\n      width: 400, // Initial width of the resizable section\n    }\n  },\n  computed: {\n    showLeftPanel () { return this.$store.getters.showLeftPanel },\n    windowHeight () { return this.$store.getters.windowHeight - 200 },\n  },\n\n  watch: {\n    showLeftPanel (val) {\n      if (val) {\n        // Leave time for animation to end (.fade-enter-active css rule)\n        setTimeout(() => {\n          this.showLeftPanelContent = true\n        }, 500)\n      } else {\n        this.showLeftPanelContent = false\n      }\n    },\n\n    tab (val) {\n      if (val === 0) {\n        this.mode = 'pt'\n      } else if (val === 1) {\n        this.mode = 'road'\n      } else {\n        this.mode = 'od'\n      }\n      this.$emit('change-mode', this.mode)\n    },\n  },\n  created () {\n    if (this.$store.getters.links.features.length === 0 && !this.$store.getters.projectIsEmpty) {\n      this.tab = 1\n    }\n  },\n  methods: {\n    startResize (event) {\n      event.preventDefault()\n      this.isResizing = true\n      this.windowOffest = event.clientX - this.$refs.leftPanelDiv.clientWidth\n      document.addEventListener('mousemove', this.resize)\n      document.addEventListener('mouseup', this.stopResize)\n    },\n    resize (event) {\n      if (this.isResizing) {\n        const width = event.clientX - this.windowOffest\n        this.width = width > 400 ? width : 400\n        // event.target.style.cursor = 'col-resize'\n      }\n    },\n    stopResize (event) {\n      this.isResizing = false\n      document.removeEventListener('mousemove', this.resize)\n      document.removeEventListener('mouseup', this.stopResize)\n      // event.target.style.cursor = 'default'\n    },\n  },\n\n}\n</script>\n<template>\n  <section\n    ref=\"leftPanelDiv\"\n    :class=\"showLeftPanel ? 'left-panel elevation-4' : 'left-panel-close'\"\n    :style=\"{ width:showLeftPanel? width + 'px' : '0px' }\"\n  >\n    <div\n      class=\"left-panel-toggle-btn elevation-4\"\n      @click=\"$store.commit('changeLeftPanel')\"\n    >\n      <v-icon\n        small\n        color=\"secondary\"\n      >\n        {{ showLeftPanel ? 'fas fa-chevron-left' : 'fas fa-chevron-right' }}\n      </v-icon>\n    </div>\n    <div\n      class=\"resizable-handle\"\n      @mousedown=\"startResize\"\n    />\n    <transition name=\"fade\">\n      <div\n        v-show=\"showLeftPanelContent\"\n        id=\"left-panel\"\n        ref=\"leftPanel\"\n        class=\"left-panel-content\"\n      >\n        <div>\n          <div :style=\"{'margin-top': '20px','margin-bottom': '20px','margin-right':'20px'}\">\n            <v-tabs\n              v-model=\"tab\"\n              background-color=\"secondary\"\n              dark\n              grow\n            >\n              <v-tab>{{ $gettext(\"PT\") }}</v-tab>\n              <v-tab>{{ $gettext(\"Road\") }}</v-tab>\n              <v-tab>{{ $gettext(\"OD\") }}</v-tab>\n            </v-tabs>\n            <LinksSidePanel\n              v-show=\"tab===0\"\n              :height=\"windowHeight\"\n              :selected-trips=\"selectedTrips\"\n              @update-tripList=\"(e) => $emit('update-tripList', {type: 'links', data: e})\"\n              @confirmChanges=\"(e) => $emit('confirmChanges',e)\"\n              @abortChanges=\"(e) => $emit('abortChanges',e)\"\n              @cloneButton=\"(e) => $emit('cloneButton',e)\"\n              @deleteButton=\"(e) => $emit('deleteButton',e)\"\n              @propertiesButton=\"(e) => $emit('propertiesButton',e)\"\n            />\n            <RoadSidePanel\n              v-show=\"tab===1\"\n              :height=\"windowHeight\"\n              :selectedr-goup=\"selectedrGroup\"\n              @update-tripList=\"(e) => $emit('update-tripList',{type: 'rlinks', data: e})\"\n              @deleteButton=\"(e) => $emit('deleteButton',e)\"\n              @propertiesButton=\"(e) => $emit('propertiesButton',e)\"\n            />\n            <ODSidePanel\n              v-show=\"tab===2\"\n              :height=\"windowHeight\"\n              @deleteButton=\"(e) => $emit('deleteButton',e)\"\n              @propertiesButton=\"(e) => $emit('propertiesButton',e)\"\n            />\n          </div>\n        </div>\n      </div>\n    </transition>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.left-panel {\n  height: 100%;\n  background-color:var(--v-primarydark-base);\n  transition: 0.3s;\n  position: absolute;\n  display:flex;\n  z-index: 20;\n}\n.left-panel-close {\ntransition:0.3s;\nwidth:0px;\n}\n.left-panel .resizable-handle {\n  width: 5px;\n  height: 100%;\n  background-color: var(--v-background-lighten2);\n  position: absolute;\n  right: 0;\n  top: 0;\n  cursor: col-resize; /* Use the col-resize cursor for horizontal resizing */\n}\n\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: var(--v-primarydark-base);\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n</style>\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidePanel.vue?vue&type=style&index=0&id=f6e4315a&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidePanel.vue?vue&type=style&index=0&id=f6e4315a&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SidePanel.vue?vue&type=template&id=f6e4315a&scoped=true&\"\nimport script from \"./SidePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./SidePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SidePanel.vue?vue&type=style&index=0&id=f6e4315a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f6e4315a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"MglMap\",\n    {\n      key: _vm.mapStyle,\n      style: { width: \"100%\" },\n      attrs: {\n        \"access-token\": _vm.mapboxPublicKey,\n        \"map-style\": _vm.mapStyle,\n        center: _vm.$store.getters.mapCenter,\n        zoom: _vm.$store.getters.mapZoom,\n      },\n      on: {\n        load: _vm.onMapLoaded,\n        mousemove: _vm.draw,\n        mouseout: function ($event) {\n          return _vm.resetDraw()\n        },\n        click: _vm.addPoint,\n        mouseup: _vm.rightClickMap,\n      },\n    },\n    [\n      _vm.mapIsLoaded\n        ? _c(\n            \"div\",\n            { style: { display: \"flex\" } },\n            [\n              _c(\"Settings\"),\n              _vm._v(\" \"),\n              _vm.rasterFiles.length > 0\n                ? _c(\"LayerSelector\", {\n                    attrs: {\n                      choices: _vm.rasterFiles,\n                      \"available-layers\": _vm.availableLayers,\n                    },\n                  })\n                : _vm._e(),\n            ],\n            1\n          )\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\"MglScaleControl\", { attrs: { position: \"bottom-right\" } }),\n      _vm._v(\" \"),\n      _c(\"MglNavigationControl\", { attrs: { position: \"bottom-right\" } }),\n      _vm._v(\" \"),\n      _vm._l(_vm.rasterFiles, function (file) {\n        return _c(\n          \"div\",\n          { key: file.name },\n          [\n            _vm.mapIsLoaded &&\n            _vm.visibleRasters.includes(file.name) &&\n            _vm.availableLayers.includes(file.layer)\n              ? [\n                  _c(\"StaticLayer\", {\n                    attrs: {\n                      preset: file,\n                      map: _vm.map,\n                      order: _vm.visibleRasters.indexOf(file.name),\n                    },\n                  }),\n                ]\n              : _vm._e(),\n          ],\n          2\n        )\n      }),\n      _vm._v(\" \"),\n      _vm.mapIsLoaded\n        ? [\n            _c(\n              \"RoadLinks\",\n              _vm._g(\n                {\n                  ref: \"roadref\",\n                  attrs: {\n                    map: _vm.map,\n                    \"is-editor-mode\": _vm.isEditorMode,\n                    \"is-road-mode\": _vm.mode === \"road\",\n                    \"anchor-mode\": _vm.anchorMode,\n                  },\n                },\n                _vm.isEditorMode\n                  ? {}\n                  : _vm.anchorMode\n                  ? { clickFeature: _vm.clickFeature }\n                  : {\n                      onHover: _vm.onHoverRoad,\n                      offHover: _vm.offHover,\n                      clickFeature: _vm.clickFeature,\n                    }\n              )\n            ),\n          ]\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.mapIsLoaded\n        ? [\n            _c(\"StaticLinks\", {\n              attrs: {\n                map: _vm.map,\n                \"showed-trips\": _vm.selectedTrips,\n                \"is-editor-mode\": _vm.isEditorMode,\n              },\n              on: { rightClick: (e) => _vm.$emit(\"clickFeature\", e) },\n            }),\n          ]\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.mapIsLoaded\n        ? [\n            _c(\n              \"EditorLinks\",\n              _vm._g(\n                { attrs: { map: _vm.map, \"anchor-mode\": _vm.anchorMode } },\n                _vm.anchorMode\n                  ? { clickFeature: _vm.clickFeature }\n                  : {\n                      onHover: _vm.onHover,\n                      offHover: _vm.offHover,\n                      clickFeature: _vm.clickFeature,\n                    }\n              )\n            ),\n          ]\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.mapIsLoaded\n        ? [\n            _c(\"ODMap\", {\n              attrs: {\n                map: _vm.map,\n                \"is-editor-mode\": _vm.isEditorMode,\n                \"is-o-d-mode\": _vm.mode === \"od\",\n              },\n              on: { clickFeature: _vm.clickFeature },\n            }),\n          ]\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.mapIsLoaded\n        ? [\n            _vm.drawMode\n              ? _c(\"MglGeojsonLayer\", {\n                  attrs: {\n                    \"source-id\": \"drawLink\",\n                    source: {\n                      type: \"geojson\",\n                      data: _vm.drawLink,\n                      buffer: 0,\n                      generateId: true,\n                    },\n                    \"layer-id\": \"drawLink\",\n                    layer: {\n                      type: \"line\",\n                      minzoom: 2,\n                      paint: {\n                        \"line-opacity\": 1,\n                        \"line-color\":\n                          _vm.$vuetify.theme.currentTheme.linksprimary,\n                        \"line-width\": [\n                          \"case\",\n                          [\"boolean\", _vm.connectedDrawLink, false],\n                          5,\n                          3,\n                        ],\n                        \"line-dasharray\": [\n                          \"case\",\n                          [\"boolean\", _vm.connectedDrawLink, false],\n                          [\"literal\", []],\n                          [\"literal\", [0, 2, 4]],\n                        ],\n                      },\n                    },\n                  },\n                })\n              : _vm._e(),\n          ]\n        : _vm._e(),\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-menu\",\n    {\n      attrs: {\n        \"close-on-content-click\": false,\n        \"close-on-click\": false,\n        origin: \"top right\",\n        transition: \"scale-transition\",\n        \"position-y\": 30,\n        \"nudge-width\": 200,\n        \"offset-x\": \"\",\n        \"offset-y\": \"\",\n      },\n      scopedSlots: _vm._u([\n        {\n          key: \"activator\",\n          fn: function ({ on, attrs }) {\n            return [\n              _c(\n                \"div\",\n                { staticClass: \"setting\" },\n                [\n                  _c(\n                    \"v-btn\",\n                    _vm._g(\n                      _vm._b(\n                        { attrs: { fab: \"\", small: \"\" } },\n                        \"v-btn\",\n                        attrs,\n                        false\n                      ),\n                      on\n                    ),\n                    [\n                      _c(\"v-icon\", { attrs: { color: \"regular\" } }, [\n                        _vm._v(\"\\n          fa-solid fa-cog\\n        \"),\n                      ]),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ]\n          },\n        },\n      ]),\n      model: {\n        value: _vm.show,\n        callback: function ($$v) {\n          _vm.show = $$v\n        },\n        expression: \"show\",\n      },\n    },\n    [\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        {\n          class: { shake: _vm.shake },\n          attrs: { \"max-width\": 300 },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.submit.apply(null, arguments)\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                return _vm.cancel.apply(null, arguments)\n              },\n            ],\n          },\n        },\n        [\n          _c(\"v-card-title\", { staticClass: \"subtitle\" }, [\n            _vm._v(\"\\n      \" + _vm._s(_vm.$gettext(\"Settings\")) + \"\\n    \"),\n          ]),\n          _vm._v(\" \"),\n          _c(\n            \"v-card-text\",\n            [\n              _c(\n                \"v-form\",\n                { ref: \"form\", attrs: { \"lazy-validation\": \"\" } },\n                [\n                  _c(\n                    \"v-container\",\n                    [\n                      _c(\n                        \"v-col\",\n                        [\n                          _c(\"v-text-field\", {\n                            attrs: {\n                              type: _vm.linkSpeed.type,\n                              label: _vm.$gettext(_vm.linkSpeed.name),\n                              suffix: _vm.linkSpeed.units,\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.linkSpeed.hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              rules: _vm.rules,\n                              required: \"\",\n                            },\n                            on: { wheel: () => {} },\n                            model: {\n                              value: _vm.linkSpeed.value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.linkSpeed, \"value\", $$v)\n                              },\n                              expression: \"linkSpeed.value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-text-field\", {\n                            attrs: {\n                              type: _vm.roadSpeed.type,\n                              label: _vm.$gettext(_vm.roadSpeed.name),\n                              suffix: _vm.roadSpeed.units,\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.roadSpeed.hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              rules: _vm.rules,\n                              required: \"\",\n                            },\n                            on: { wheel: () => {} },\n                            model: {\n                              value: _vm.roadSpeed.value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.roadSpeed, \"value\", $$v)\n                              },\n                              expression: \"roadSpeed.value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-select\", {\n                            attrs: {\n                              items: _vm.linksPopupContent.choices,\n                              label: _vm.$gettext(_vm.linksPopupContent.name),\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.linksPopupContent.hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              \"menu-props\": { top: true, offsetY: true },\n                              chips: \"\",\n                              multiple: \"\",\n                            },\n                            model: {\n                              value: _vm.linksPopupContent.value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.linksPopupContent, \"value\", $$v)\n                              },\n                              expression: \"linksPopupContent.value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-select\", {\n                            attrs: {\n                              items: _vm.roadsPopupContent.choices,\n                              label: _vm.$gettext(_vm.roadsPopupContent.name),\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.roadsPopupContent.hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              \"menu-props\": { top: true, offsetY: true },\n                              chips: \"\",\n                              multiple: \"\",\n                            },\n                            model: {\n                              value: _vm.roadsPopupContent.value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.roadsPopupContent, \"value\", $$v)\n                              },\n                              expression: \"roadsPopupContent.value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-text-field\", {\n                            attrs: {\n                              type: _vm.defaultHighway.type,\n                              label: _vm.$gettext(_vm.defaultHighway.name),\n                              suffix: _vm.defaultHighway.units,\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.defaultHighway.hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              rules: _vm.zipRules,\n                              required: \"\",\n                            },\n                            model: {\n                              value: _vm.defaultHighway.value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.defaultHighway, \"value\", $$v)\n                              },\n                              expression: \"defaultHighway.value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-text-field\", {\n                            attrs: {\n                              type: _vm.outputName.type,\n                              label: _vm.$gettext(_vm.outputName.name),\n                              suffix: _vm.outputName.units,\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.outputName.hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              rules: _vm.zipRules,\n                              required: \"\",\n                            },\n                            model: {\n                              value: _vm.outputName.value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.outputName, \"value\", $$v)\n                              },\n                              expression: \"outputName.value\",\n                            },\n                          }),\n                        ],\n                        1\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-card-actions\",\n            [\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { color: \"grey\", text: \"\" },\n                  on: { click: _vm.cancel },\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"Cancel\")) + \"\\n      \"\n                  ),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { color: \"green darken-1\", text: \"\" },\n                  on: { click: _vm.submit },\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"Save\")) + \"\\n      \"\n                  ),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\"v-spacer\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { icon: \"\", small: \"\" },\n                  on: {\n                    click: function ($event) {\n                      _vm.showHint = !_vm.showHint\n                    },\n                  },\n                },\n                [_c(\"v-icon\", [_vm._v(\"far fa-question-circle small\")])],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nconst $gettext = s => s\n\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: 'Settings',\n  events: ['submit'],\n  data () {\n    return {\n      show: false,\n\n      linkSpeed: {\n        name: $gettext('PT speed'),\n        type: 'Number',\n        value: 0,\n        units: 'km/h',\n        hint: $gettext('Speed used to calculate travel time when a link is drawn, extend or a node is moved'),\n      },\n      roadSpeed: {\n        name: $gettext('Road speed'),\n        type: 'Number',\n        value: 0,\n        units: 'km/h',\n        hint: $gettext('Speed used to calculate road travel time when a link is drawn'),\n      },\n      linksPopupContent: {\n        name: $gettext('PT Popup Content'),\n        type: 'String',\n        choices: [],\n        value: '',\n        hint: $gettext('Link field to display when hovering a trip on the map'),\n      },\n      roadsPopupContent: {\n        name: $gettext('Road Popup Content'),\n        type: 'String',\n        choices: [],\n        value: '',\n        hint: $gettext('Link field to display when hovering road link on the map'),\n      },\n      defaultHighway: {\n        name: $gettext('Road Highway name'),\n        type: 'String',\n        value: '',\n        hint: $gettext('New road links Highway property name'),\n      },\n      outputName: {\n        name: $gettext('Export name'),\n        type: 'String',\n        value: '',\n        units: '.zip',\n        hint: $gettext('the name of the exported zip file'),\n      },\n      errorMessage: null,\n      showHint: false,\n      shake: false,\n\n      rules: [\n        v => !!v || $gettext('Required'),\n        v => v >= 0 || $gettext('should be larger than 0'),\n      ],\n      zipRules: [v => v.slice(-4) !== '.zip' || $gettext('do not add .zip to the end')],\n      showDialog: true,\n    }\n  },\n  watch: {\n    show () { this.fetch() },\n  },\n  created () {\n    this.localShow = this.show\n    this.fetch()\n  },\n  methods: {\n    fetch () {\n      // value are init with this function.\n      // we want to get the value each time we show the settings.\n      // if not, Cancel will not work as the state here and in the store will differ.\n      this.linkSpeed.value = this.$store.getters.linkSpeed\n      this.roadSpeed.value = this.$store.getters.roadSpeed\n      this.linksPopupContent.choices = this.$store.getters.lineAttributes\n      this.linksPopupContent.value = this.$store.getters.linksPopupContent\n      this.roadsPopupContent.choices = this.$store.getters.rlineAttributes\n      this.roadsPopupContent.value = this.$store.getters.roadsPopupContent\n      this.defaultHighway.value = this.$store.getters.defaultHighway\n      this.outputName.value = this.$store.getters.outputName\n    },\n\n    submit () {\n      if (this.$refs.form.validate()) {\n        const payload = {\n          linkSpeed: this.linkSpeed.value,\n          roadSpeed: this.roadSpeed.value,\n          linksPopupContent: this.linksPopupContent.value,\n          roadsPopupContent: this.roadsPopupContent.value,\n          outputName: this.outputName.value,\n          defaultHighway: this.defaultHighway.value,\n        }\n        this.$store.commit('applySettings', payload)\n        this.$emit('submit', true)\n        this.show = false\n        this.$store.commit('changeNotification',\n          { text: $gettext('modification applied'), autoClose: true, color: 'success' })\n      } else {\n        this.shake = true\n        setTimeout(() => {\n          this.shake = false\n        }, 500)\n      }\n    },\n    cancel () {\n      this.$emit('submit', false)\n      this.show = false\n    },\n  },\n}\n</script>\n<template>\n  <v-menu\n    v-model=\"show\"\n    :close-on-content-click=\"false\"\n    :close-on-click=\"false\"\n    :origin=\"'top right'\"\n    transition=\"scale-transition\"\n    :position-y=\"30\"\n    :nudge-width=\"200\"\n    offset-x\n    offset-y\n  >\n    <template v-slot:activator=\"{ on, attrs }\">\n      <div class=\"setting\">\n        <v-btn\n          fab\n          small\n          v-bind=\"attrs\"\n          v-on=\"on\"\n        >\n          <v-icon\n            color=\"regular\"\n          >\n            fa-solid fa-cog\n          </v-icon>\n        </v-btn>\n      </div>\n    </template>\n\n    <v-card\n      :class=\"{'shake':shake}\"\n      :max-width=\"300\"\n      @keydown.enter=\"submit\"\n      @keydown.esc=\"cancel\"\n    >\n      <v-card-title class=\"subtitle\">\n        {{ $gettext('Settings') }}\n      </v-card-title>\n\n      <v-card-text>\n        <v-form\n          ref=\"form\"\n          lazy-validation\n        >\n          <v-container>\n            <v-col>\n              <v-text-field\n                v-model=\"linkSpeed.value\"\n                :type=\"linkSpeed.type\"\n                :label=\"$gettext(linkSpeed.name)\"\n                :suffix=\"linkSpeed.units\"\n                :hint=\"showHint? $gettext(linkSpeed.hint): ''\"\n                :persistent-hint=\"showHint\"\n                :rules=\"rules\"\n                required\n                @wheel=\"()=>{}\"\n              />\n              <v-text-field\n                v-model=\"roadSpeed.value\"\n                :type=\"roadSpeed.type\"\n                :label=\"$gettext(roadSpeed.name)\"\n                :suffix=\"roadSpeed.units\"\n                :hint=\"showHint? $gettext(roadSpeed.hint): ''\"\n                :persistent-hint=\"showHint\"\n                :rules=\"rules\"\n                required\n                @wheel=\"()=>{}\"\n              />\n              <v-select\n                v-model=\"linksPopupContent.value\"\n                :items=\"linksPopupContent.choices\"\n                :label=\"$gettext(linksPopupContent.name)\"\n                :hint=\"showHint? $gettext(linksPopupContent.hint): ''\"\n                :persistent-hint=\"showHint\"\n                :menu-props=\"{ top: true, offsetY: true }\"\n                chips\n                multiple\n              />\n              <v-select\n                v-model=\"roadsPopupContent.value\"\n                :items=\"roadsPopupContent.choices\"\n                :label=\"$gettext(roadsPopupContent.name)\"\n                :hint=\"showHint? $gettext(roadsPopupContent.hint): ''\"\n                :persistent-hint=\"showHint\"\n                :menu-props=\"{ top: true, offsetY: true }\"\n                chips\n                multiple\n              />\n              <v-text-field\n                v-model=\"defaultHighway.value\"\n                :type=\"defaultHighway.type\"\n                :label=\"$gettext(defaultHighway.name)\"\n                :suffix=\"defaultHighway.units\"\n                :hint=\"showHint? $gettext(defaultHighway.hint): ''\"\n                :persistent-hint=\"showHint\"\n                :rules=\"zipRules\"\n                required\n              />\n              <v-text-field\n                v-model=\"outputName.value\"\n                :type=\"outputName.type\"\n                :label=\"$gettext(outputName.name)\"\n                :suffix=\"outputName.units\"\n                :hint=\"showHint? $gettext(outputName.hint): ''\"\n                :persistent-hint=\"showHint\"\n                :rules=\"zipRules\"\n                required\n              />\n            </v-col>\n          </v-container>\n        </v-form>\n      </v-card-text>\n      <v-card-actions>\n        <v-btn\n          color=\"grey\"\n          text\n          @click=\"cancel\"\n        >\n          {{ $gettext(\"Cancel\") }}\n        </v-btn>\n\n        <v-btn\n          color=\"green darken-1\"\n          text\n          @click=\"submit\"\n        >\n          {{ $gettext(\"Save\") }}\n        </v-btn>\n\n        <v-spacer />\n        <v-btn\n          icon\n          small\n          @click=\"showHint = !showHint\"\n        >\n          <v-icon>far fa-question-circle small</v-icon>\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-menu>\n</template>\n<style lang=\"scss\" scoped>\n.setting {\n  left: 98%;\n  width: 0px;\n  z-index: 2;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n}\n\n.layout {\n  position: absolute;\n  width: calc(100%);\n  height: calc(100% - 50px);\n  display: flex;\n  flex-flow: row;\n  justify-content: center;\n  align-items: center;\n}\n.layout-overlay {\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: absolute;\n}\n.card {\n  width: 500px;\n  overflow-y: auto;\n  padding: 40px;\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: $primary !important;\n  font-weight: bold;\n}\n.subtitle {\n  font-size: 2em;\n  color:  var(--v-secondarydark-base) !important;\n  font-weight: bold;\n  padding:1rem\n\n}\n.card button {\n  margin-top: 40px;\n}\n.shake {\n  animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;\n  transform: translate3d(0, 0, 0);\n}\n@keyframes shake {\n  10%, 90% {\n    transform: translate3d(-1px, 0, 0);\n  }\n  20%, 80% {\n    transform: translate3d(2px, 0, 0);\n  }\n  30%, 50%, 70% {\n    transform: translate3d(-4px, 0, 0);\n  }\n  40%, 60% {\n    transform: translate3d(4px, 0, 0);\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&id=60da9423&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&id=60da9423&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=60da9423&scoped=true&\"\nimport script from \"./Settings.vue?vue&type=script&lang=js&\"\nexport * from \"./Settings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Settings.vue?vue&type=style&index=0&id=60da9423&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60da9423\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"MglGeojsonLayer\",\n        _vm._g(\n          {\n            attrs: {\n              \"source-id\": \"links\",\n              source: {\n                type: \"geojson\",\n                data: _vm.visibleLinks,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"links\",\n              layer: {\n                interactive: true,\n                type: \"line\",\n                minzoom: 1,\n                maxzoom: 18,\n                paint: {\n                  \"line-color\": [\n                    \"case\",\n                    [\"has\", \"route_color\"],\n                    [\"concat\", \"#\", [\"get\", \"route_color\"]],\n                    _vm.$vuetify.theme.currentTheme.linksprimary,\n                  ],\n                  \"line-opacity\": [\n                    \"case\",\n                    [\"boolean\", _vm.isEditorMode, false],\n                    0.1,\n                    1,\n                  ],\n                  \"line-width\": [\n                    \"case\",\n                    [\"has\", \"route_width\"],\n                    [\n                      \"case\",\n                      [\"to-boolean\", [\"to-number\", [\"get\", \"route_width\"]]],\n                      [\"to-number\", [\"get\", \"route_width\"]],\n                      3,\n                    ],\n                    3,\n                  ],\n                },\n\n                layout: {\n                  \"line-sort-key\": [\"to-number\", [\"get\", \"route_width\"]],\n                  \"line-cap\": \"round\",\n                },\n              },\n            },\n          },\n          _vm.isEditorMode\n            ? {}\n            : {\n                mouseenter: _vm.enterLink,\n                mouseleave: _vm.leaveLink,\n                contextmenu: _vm.editLineProperties,\n              }\n        )\n      ),\n      _vm._v(\" \"),\n      _c(\"MglGeojsonLayer\", {\n        attrs: {\n          \"source-id\": \"nodes\",\n          source: {\n            type: \"geojson\",\n            data: _vm.visibleNodes,\n            buffer: 0,\n            promoteId: \"index\",\n          },\n          \"layer-id\": \"nodes\",\n          layer: {\n            interactive: true,\n            type: \"circle\",\n            minzoom: 12,\n            maxzoom: 18,\n            paint: {\n              \"circle-color\": [\n                \"case\",\n                [\"boolean\", _vm.isEditorMode, false],\n                _vm.$vuetify.theme.currentTheme.mediumgrey,\n                _vm.$vuetify.theme.currentTheme.accent,\n              ],\n              \"circle-stroke-color\": _vm.$vuetify.theme.currentTheme.white,\n              \"circle-stroke-width\": 1,\n              \"circle-radius\": [\n                \"case\",\n                [\"has\", \"route_width\"],\n                [\n                  \"case\",\n                  [\"to-boolean\", [\"to-number\", [\"get\", \"route_width\"]]],\n                  [\"to-number\", [\"get\", \"route_width\"]],\n                  3,\n                ],\n                3,\n              ],\n            },\n          },\n        },\n      }),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<!-- eslint-disable no-return-assign -->\n<script>\nimport { MglGeojsonLayer } from 'vue-mapbox'\nimport mapboxgl from 'mapbox-gl'\nexport default {\n  name: 'StaticLinks',\n  components: {\n    MglGeojsonLayer,\n  },\n  props: ['map', 'showedTrips', 'isEditorMode'],\n  events: ['rightClick'],\n\n  data () {\n    return {\n      visibleNodes: {},\n      visibleLinks: {},\n      selectedFeatures: [],\n\n    }\n  },\n  computed: {\n    selectedPopupContent () { return this.$store.getters.linksPopupContent },\n    links () { return this.$store.getters.links },\n    nodes () { return this.$store.getters.nodes },\n  },\n\n  watch: {\n    showedTrips (newVal, oldVal) {\n      this.setHiddenFeatures()\n    },\n    isEditorMode (val) {\n      val ? this.map.off('dblclick', this.selectLine) : this.map.on('dblclick', this.selectLine)\n    },\n  },\n\n  created () {\n    this.visibleLinks = structuredClone(this.$store.getters.linksHeader)\n    this.visibleNodes = structuredClone(this.$store.getters.nodesHeader)\n    this.setHiddenFeatures()\n    this.map.on('dblclick', this.selectLine)\n  },\n\n  methods: {\n\n    enterLink (event) {\n      event.map.getCanvas().style.cursor = 'pointer'\n      this.selectedFeatures = event.mapboxEvent.features\n\n      if (this.popup?.isOpen()) this.popup.remove() // make sure there is no popup before creating one.\n      if (this.selectedPopupContent.length > 0) { // do not show popup if nothing is selected (selectedPopupContent)\n        let htmlContent = this.selectedPopupContent.map(prop => `${prop}: <b>${this.selectedFeatures[0].properties[prop]}</b>`)\n        htmlContent = htmlContent.join('<br> ')\n        this.popup = new mapboxgl.Popup({ closeButton: false })\n          .setLngLat([event.mapboxEvent.lngLat.lng, event.mapboxEvent.lngLat.lat])\n          .setHTML(htmlContent)\n          .addTo(event.map)\n      }\n    },\n    leaveLink (event) {\n      this.selectedFeatures = []\n      if (this.popup?.isOpen()) this.popup.remove()\n      event.map.getCanvas().style.cursor = ''\n    },\n    setHiddenFeatures () {\n      // get visible links and nodes.\n      const showedTripsSet = new Set(this.showedTrips)\n      this.visibleLinks.features = this.links.features.filter(link => showedTripsSet.has(link.properties.trip_id))\n      const a = this.visibleLinks.features.map(item => item.properties.a)\n      const b = this.visibleLinks.features.map(item => item.properties.b)\n      const ab = new Set([...a, ...b])\n      this.visibleNodes.features = this.visibleNodes.features.filter(node => ab.has(node.properties.index))\n\n      // get all unique width\n      const widthArr = [...new Set(this.visibleLinks.features.map(item => Number(item.properties.route_width)))]\n      // create a dict {width:[node_index]}\n      const widthDict = {}\n      widthArr.forEach(key => widthDict[key] = new Set())\n      this.visibleLinks.features.map(item =>\n        [item.properties.a, item.properties.b].forEach(\n          node => widthDict[Number(item.properties.route_width)].add(node)))\n      // remove duplicated nodes. only keep larger one (if node_1 is in a line of size 5 and 3, only keep the 5 one.)\n      let totSet = new Set()\n      for (let i = 0; i < widthArr.length - 1; i++) {\n        const a = widthDict[widthArr[i + 1]]\n        const b = widthDict[widthArr[i]]\n        totSet = new Set([...totSet, ...b])\n        widthDict[widthArr[i + 1]] = new Set([...a].filter(x => !totSet.has(x)))\n      }\n      // for each width, get the nodes and add the width to the properties for rendering.\n      widthArr.forEach(key => {\n        const newNodes = this.nodes.features.filter(node => widthDict[key].has(node.properties.index))\n        newNodes.map(node => node.properties.route_width = key)\n        this.visibleNodes.features.push(...newNodes)\n      })\n\n      // const endTime = performance.now()\n    },\n    selectLine (e) {\n      e.preventDefault() // prevent map control\n      // if we are not hovering. select closest link (within 5 pixels)\n      if (this.selectedFeatures.length === 0) {\n        // Set `bbox` as 5px reactangle area around clicked point.\n        const bbox = [\n          [e.point.x - 5, e.point.y - 5],\n          [e.point.x + 5, e.point.y + 5],\n        ]\n        // Find features intersecting the bounding box.\n        this.selectedFeatures = this.map.queryRenderedFeatures(bbox, {\n          layers: ['links'],\n        })\n      }\n      // do nothing if nothing is clicked (clicking on map, not on a link)\n      if (this.selectedFeatures.length > 0) {\n        // set. the first one as editor mode\n        // eslint-disable-next-line max-len\n        this.$store.commit('setEditorTrip', { tripId: this.selectedFeatures[0].properties.trip_id, changeBounds: false })\n        this.$store.commit('changeNotification', { text: '', autoClose: true })\n      }\n    },\n    editLineProperties (event) {\n      // eslint-disable-next-line max-len\n      this.$store.commit('setEditorTrip', { tripId: event.mapboxEvent.features[0].properties.trip_id, changeBounds: false })\n      this.$emit('rightClick', { action: 'Edit Line Info', lingering: false })\n    },\n\n  },\n}\n</script>\n<template>\n  <section>\n    <MglGeojsonLayer\n      source-id=\"links\"\n      :source=\"{\n        type: 'geojson',\n        data: visibleLinks,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"links\"\n      :layer=\"{\n        interactive: true,\n        type: 'line',\n        minzoom: 1,\n        maxzoom: 18,\n        paint: {\n          'line-color': ['case', ['has', 'route_color'], ['concat', '#', ['get', 'route_color']], $vuetify.theme.currentTheme.linksprimary],\n          'line-opacity': ['case', ['boolean', isEditorMode, false], 0.1, 1],\n          'line-width': ['case', ['has', 'route_width'],\n                         ['case', ['to-boolean', ['to-number', ['get', 'route_width']]],\n                          ['to-number', ['get', 'route_width']],\n                          3], 3],\n        },\n\n        layout: {\n          'line-sort-key': ['to-number',['get', 'route_width']],\n          'line-cap': 'round',\n        }\n      }\"\n      v-on=\"isEditorMode ? { } : { mouseenter: enterLink, mouseleave: leaveLink, contextmenu:editLineProperties }\"\n    />\n\n    <MglGeojsonLayer\n      source-id=\"nodes\"\n      :source=\"{\n        type: 'geojson',\n        data: visibleNodes,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"nodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: 12,\n        maxzoom: 18,\n        paint: {\n          'circle-color': ['case', ['boolean', isEditorMode, false],$vuetify.theme.currentTheme.mediumgrey, $vuetify.theme.currentTheme.accent],\n          'circle-stroke-color': $vuetify.theme.currentTheme.white,\n          'circle-stroke-width': 1,\n          'circle-radius': ['case', ['has', 'route_width'],\n                            ['case', ['to-boolean', ['to-number', ['get', 'route_width']]],\n                             ['to-number', ['get', 'route_width']],\n                             3], 3],\n        },\n      }\"\n    />\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaticLinks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaticLinks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StaticLinks.vue?vue&type=template&id=661f6889&scoped=true&\"\nimport script from \"./StaticLinks.vue?vue&type=script&lang=js&\"\nexport * from \"./StaticLinks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"661f6889\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"MglGeojsonLayer\",\n        _vm._g(\n          {\n            attrs: {\n              \"source-id\": \"editorLinks\",\n              source: {\n                type: \"geojson\",\n                data: _vm.$store.getters.editorLinks,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"editorLinks\",\n              layer: {\n                type: \"line\",\n                minzoom: 2,\n                paint: {\n                  \"line-color\": [\n                    \"case\",\n                    [\"boolean\", _vm.anchorMode, false],\n                    _vm.$vuetify.theme.currentTheme.linkssecondary,\n                    _vm.$vuetify.theme.currentTheme.linksprimary,\n                  ],\n                  \"line-width\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    12,\n                    5,\n                  ],\n                  \"line-blur\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    6,\n                    0,\n                  ],\n                },\n              },\n            },\n            on: {\n              click: _vm.selectClick,\n              mouseover: _vm.onCursor,\n              mouseleave: _vm.offCursor,\n            },\n          },\n          _vm.anchorMode ? {} : { contextmenu: _vm.linkRightClick }\n        )\n      ),\n      _vm._v(\" \"),\n      _c(\"MglImageLayer\", {\n        attrs: {\n          \"source-id\": \"editorLinks\",\n          type: \"symbol\",\n          source: \"editorLinks\",\n          \"layer-id\": \"arrow-layer\",\n          layer: {\n            type: \"symbol\",\n            minzoom: 5,\n            layout: {\n              \"symbol-placement\": \"line\",\n              \"symbol-spacing\": 30,\n              \"icon-ignore-placement\": true,\n              \"icon-image\": \"arrow\",\n              \"icon-size\": 0.5,\n              \"icon-rotate\": 90,\n            },\n            paint: {\n              \"icon-color\": [\n                \"case\",\n                [\"boolean\", _vm.anchorMode, false],\n                _vm.$vuetify.theme.currentTheme.linkssecondary,\n                _vm.$vuetify.theme.currentTheme.linksprimary,\n              ],\n            },\n          },\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"MglGeojsonLayer\",\n        _vm._g(\n          {\n            attrs: {\n              \"source-id\": \"editorNodes\",\n              source: {\n                type: \"geojson\",\n                data: _vm.$store.getters.editorNodes,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"editorNodes\",\n              layer: {\n                interactive: true,\n                type: \"circle\",\n                minzoom: 2,\n                paint: {\n                  \"circle-color\": _vm.$vuetify.theme.currentTheme.accent,\n                  \"circle-radius\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    16,\n                    8,\n                  ],\n                  \"circle-blur\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    0.3,\n                    0,\n                  ],\n                },\n              },\n            },\n            on: {\n              mouseover: _vm.onCursor,\n              mouseleave: _vm.offCursor,\n              mousedown: _vm.moveNode,\n            },\n          },\n          _vm.anchorMode\n            ? {}\n            : { click: _vm.selectClick, contextmenu: _vm.contextMenuNode }\n        )\n      ),\n      _vm._v(\" \"),\n      _c(\"MglGeojsonLayer\", {\n        attrs: {\n          \"source-id\": \"anchorNodes\",\n          source: {\n            type: \"geojson\",\n            data: _vm.anchorNodes,\n            buffer: 0,\n            promoteId: \"index\",\n          },\n          \"layer-id\": \"anchorNodes\",\n          layer: {\n            interactive: true,\n            type: \"circle\",\n            minzoom: 2,\n            paint: {\n              \"circle-color\": \"#ffffff\",\n              \"circle-opacity\": 0.5,\n              \"circle-radius\": [\n                \"case\",\n                [\"boolean\", [\"feature-state\", \"hover\"], false],\n                10,\n                5,\n              ],\n              \"circle-blur\": [\n                \"case\",\n                [\"boolean\", [\"feature-state\", \"hover\"], false],\n                0.3,\n                0,\n              ],\n              \"circle-stroke-color\": \"#2C3E4E\",\n              \"circle-stroke-width\": 2,\n            },\n          },\n        },\n        on: {\n          click: _vm.selectClick,\n          mouseover: _vm.onCursor,\n          mouseleave: _vm.offCursor,\n          mousedown: _vm.moveNode,\n          contextmenu: _vm.contextMenuNode,\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"MglPopup\",\n        {\n          attrs: {\n            \"close-button\": false,\n            showed: _vm.popupEditor.showed,\n            coordinates: _vm.popupEditor.coordinates,\n          },\n          on: {\n            close: function ($event) {\n              _vm.popupEditor.showed = false\n            },\n          },\n        },\n        [\n          _c(\"span\", [\n            _c(\"h3\", [_vm._v(_vm._s(_vm.popupEditor.content))]),\n            _vm._v(\" \"),\n            _c(\"hr\"),\n            _vm._v(\n              \"\\n      \" +\n                _vm._s(\n                  _vm.hoveredStateId?.layerId == \"editorLinks\"\n                    ? _vm.$gettext(\"Left click to add a stop\")\n                    : _vm.$gettext(\"Hold left click to drag\")\n                ) +\n                \"\\n      \"\n            ),\n            _c(\"hr\"),\n            _vm._v(\n              \"\\n      \" +\n                _vm._s(\n                  _vm.hoveredStateId?.layerId == \"editorLinks\"\n                    ? _vm.$gettext(\"Right click to edit properties\")\n                    : _vm.$gettext(\"Right click for context menu\")\n                ) +\n                \"\\n    \"\n            ),\n          ]),\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"MglPopup\",\n        {\n          attrs: {\n            \"close-button\": false,\n            showed: _vm.contextMenu.showed,\n            coordinates: _vm.contextMenu.coordinates,\n          },\n          on: {\n            close: function ($event) {\n              _vm.contextMenu.showed = false\n            },\n          },\n        },\n        [\n          _c(\n            \"span\",\n            {\n              on: {\n                mouseleave: function ($event) {\n                  _vm.contextMenu.showed = false\n                },\n              },\n            },\n            [\n              _c(\n                \"v-list\",\n                { attrs: { dense: \"\", flat: \"\" } },\n                [\n                  _c(\n                    \"v-list-item-group\",\n                    _vm._l(_vm.contextMenu.actions, function (action) {\n                      return _c(\n                        \"v-list-item\",\n                        { key: action.id },\n                        [\n                          _c(\n                            \"v-list-item-content\",\n                            [\n                              _c(\n                                \"v-btn\",\n                                {\n                                  attrs: { outlined: \"\", small: \"\" },\n                                  on: {\n                                    click: function ($event) {\n                                      return _vm.actionClick({\n                                        action: action,\n                                        feature: _vm.contextMenu.feature,\n                                        coordinates:\n                                          _vm.contextMenu.coordinates,\n                                      })\n                                    },\n                                  },\n                                },\n                                [\n                                  _vm._v(\n                                    \"\\n                \" +\n                                      _vm._s(_vm.$gettext(action)) +\n                                      \"\\n              \"\n                                  ),\n                                ]\n                              ),\n                            ],\n                            1\n                          ),\n                        ],\n                        1\n                      )\n                    }),\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ]\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport { MglPopup, MglImageLayer, MglGeojsonLayer } from 'vue-mapbox'\nconst $gettext = s => s\n\nexport default {\n  name: 'EditorLinks',\n  components: {\n    MglPopup,\n    MglImageLayer,\n    MglGeojsonLayer,\n  },\n  props: ['map', 'anchorMode'],\n  events: ['clickFeature', 'onHover', 'offHover'],\n  data () {\n    return {\n      selectedFeature: null,\n      hoveredStateId: null,\n      disablePopup: false,\n      keepHovering: false,\n      dragNode: false,\n      popupEditor: {\n        coordinates: [0, 0],\n        showed: false,\n        content: null,\n      },\n      contextMenu: {\n        coordinates: [0, 0],\n        showed: false,\n        actions: [],\n        feature: null,\n        type: null, // link of node\n      },\n    }\n  },\n  computed: {\n    anchorNodes () { return this.anchorMode ? this.$store.getters.anchorNodes : this.$store.getters.nodesHeader },\n  },\n\n  watch: {\n\n  },\n  created () {\n  },\n\n  methods: {\n    selectClick (event) {\n      if (this.hoveredStateId !== null) {\n        // Get the highlighted feature\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id)[0]\n        // Emit a click base on layer type (node or link)\n\n        if (this.selectedFeature !== null) {\n          if (this.hoveredStateId.layerId === 'editorLinks') {\n            const action = this.anchorMode ? 'Add Anchor Inline' : 'Add Stop Inline'\n            const click = {\n              selectedFeature: this.selectedFeature,\n              action: action,\n              lngLat: event.mapboxEvent.lngLat,\n            }\n            this.$emit('clickFeature', click)\n          }\n        }\n      }\n    },\n    onCursor (event) {\n      if (this.hoveredStateId === null || this.hoveredStateId.layerId === 'editorLinks') {\n        this.map.getCanvas().style.cursor = 'pointer'\n        if (this.hoveredStateId !== null) {\n          this.map.setFeatureState(\n            { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id },\n            { hover: false },\n          )\n        }\n        this.hoveredStateId = { layerId: event.layerId, id: event.mapboxEvent.features[0].id }\n        this.map.setFeatureState(\n          { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id },\n          { hover: true },\n        )\n        if (!this.disablePopup & !this.anchorMode) {\n          this.popupEditor.coordinates = [event.mapboxEvent.lngLat.lng,\n            event.mapboxEvent.lngLat.lat,\n          ]\n          this.popupEditor.content = this.hoveredStateId.id\n          this.popupEditor.showed = true\n        }\n      }\n      this.$emit('onHover', { selectedId: this.hoveredStateId.id })\n    },\n    offCursor (event) {\n      if (this.hoveredStateId !== null) {\n        // eslint-disable-next-line max-len\n        if (!(['editorNodes', 'anchorNodes'].includes(this.hoveredStateId.layerId) && event?.layerId === 'editorLinks')) {\n          // when we drag a node, we want to start dragging when we leave the node, but we will stay in hovering mode.\n          if (this.keepHovering) {\n            this.dragNode = true\n            this.contextMenu.showed = false\n            // normal behaviours, hovering is false\n          } else {\n            this.map.getCanvas().style.cursor = ''\n            this.popupEditor.showed = false\n            this.map.setFeatureState(\n              { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id },\n              { hover: false },\n            )\n            this.hoveredStateId = null\n            this.$emit('offHover', event)\n          }\n        }\n      }\n    },\n    contextMenuNode (event) {\n      if (this.popupEditor.showed && this.hoveredStateId?.layerId === 'editorNodes') {\n        this.contextMenu.coordinates = [event.mapboxEvent.lngLat.lng,\n          event.mapboxEvent.lngLat.lat,\n        ]\n        this.contextMenu.showed = true\n\n        this.contextMenu.type = 'node'\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.contextMenu.feature = features.filter(item => item.id === this.hoveredStateId.id)[0]\n\n        const selectedNode = this.contextMenu.feature.properties.index\n\n        if (selectedNode === this.$store.getters.firstNodeId) {\n          this.contextMenu.actions =\n          [\n            $gettext('Edit Node Info'),\n            $gettext('Delete Stop'),\n          ]\n        } else if (selectedNode === this.$store.getters.lastNodeId) {\n          this.contextMenu.actions =\n          [\n            $gettext('Edit Node Info'),\n            $gettext('Delete Stop'),\n          ]\n        } else {\n          this.contextMenu.actions =\n           [\n             $gettext('Edit Node Info'),\n             $gettext('Cut Before Node'),\n             $gettext('Cut After Node'),\n             $gettext('Delete Stop'),\n           ]\n        }\n      } else if (this.hoveredStateId?.layerId === 'anchorNodes') {\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id)\n        const click = {\n          selectedFeature: this.selectedFeature[0],\n          action: 'Delete Anchor',\n          lngLat: null,\n        }\n        this.$emit('clickFeature', click)\n      }\n    },\n\n    linkRightClick (event) {\n      if (this.hoveredStateId.layerId === 'editorLinks') {\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id)[0]\n        const click = {\n          selectedFeature: this.selectedFeature,\n          action: 'Edit Link Info',\n          lngLat: event.mapboxEvent.lngLat,\n          lingering: true,\n        }\n        this.$emit('clickFeature', click)\n      }\n    },\n\n    actionClick (event) {\n      const click = {\n        selectedFeature: event.feature,\n        action: event.action,\n        lngLat: event.coordinates,\n      }\n      this.$emit('clickFeature', click)\n\n      this.contextMenu.showed = false\n      this.contextMenu.type = null\n    },\n\n    moveNode (event) {\n      if (event.mapboxEvent.originalEvent.button === 0 &\n      ['editorNodes', 'anchorNodes'].includes(this.hoveredStateId.layerId)) {\n        event.mapboxEvent.preventDefault() // prevent map control\n        this.map.getCanvas().style.cursor = 'grab'\n        // disable mouseLeave so we stay in hover state.\n        this.keepHovering = true\n        // get selected node\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id)[0]\n\n        // disable popup\n        this.disablePopup = true\n        this.popupEditor.showed = false\n        // get position\n        this.map.on('mousemove', this.onMove)\n        this.map.on('mouseup', this.stopMovingNode)\n      }\n    },\n    onMove (event) {\n      // get position and update node position\n      // only if dragmode is activated (we just leave the node hovering state.)\n      if (this.map.loaded() && this.dragNode && this.selectedFeature) {\n        const click = {\n          selectedFeature: this.selectedFeature,\n          action: null,\n          lngLat: Object.values(event.lngLat),\n        }\n        if (this.hoveredStateId.layerId === 'anchorNodes') {\n          click.action = 'Move Anchor'\n          this.$emit('clickFeature', click)\n        } else {\n          click.action = 'Move Node'\n          this.$emit('clickFeature', click)\n        }\n      }\n    },\n\n    stopMovingNode (event) {\n      // stop tracking position (moving node.)\n      this.map.getCanvas().style.cursor = 'pointer'\n      this.map.off('mousemove', this.onMove)\n      // enable popup and hovering off back. disable Dragmode\n      this.keepHovering = false\n      this.dragNode = false\n      this.disablePopup = false\n      // call offCursor event, if we drag too quickly, it will not be call and the node will stay in hovering mode.\n      this.offCursor()\n      this.map.off('mouseup', this.stopMovingNode)\n      // emit a clickNode with the selected node.\n      // this will work with lag as it is the selectedFeature and not the highlighted one.\n    },\n  },\n\n}\n</script>\n<template>\n  <section>\n    <MglGeojsonLayer\n      source-id=\"editorLinks\"\n      :source=\"{\n        type: 'geojson',\n        data: $store.getters.editorLinks,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"editorLinks\"\n      :layer=\"{\n        type: 'line',\n        minzoom: 2,\n        paint: {\n          'line-color': ['case', ['boolean', anchorMode, false],$vuetify.theme.currentTheme.linkssecondary, $vuetify.theme.currentTheme.linksprimary],\n          'line-width': ['case', ['boolean', ['feature-state', 'hover'], false], 12, 5],\n          'line-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 6, 0]\n        }\n      }\"\n      v-on=\"anchorMode ? {} : {contextmenu: linkRightClick}\"\n      @click=\"selectClick\"\n      @mouseover=\"onCursor\"\n      @mouseleave=\"offCursor\"\n    />\n\n    <MglImageLayer\n      source-id=\"editorLinks\"\n      type=\"symbol\"\n      source=\"editorLinks\"\n      layer-id=\"arrow-layer\"\n      :layer=\"{\n        type: 'symbol',\n        minzoom: 5,\n        layout: {\n          'symbol-placement': 'line',\n          'symbol-spacing': 30,\n          'icon-ignore-placement': true,\n          'icon-image':'arrow',\n          'icon-size': 0.5,\n          'icon-rotate': 90\n        },\n        paint: {\n          'icon-color': ['case', ['boolean', anchorMode, false], $vuetify.theme.currentTheme.linkssecondary, $vuetify.theme.currentTheme.linksprimary],\n        }\n      }\"\n    />\n\n    <MglGeojsonLayer\n      source-id=\"editorNodes\"\n      :source=\"{\n        type: 'geojson',\n        data: $store.getters.editorNodes,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"editorNodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: 2,\n        paint: {\n          'circle-color': $vuetify.theme.currentTheme.accent,\n          'circle-radius': ['case', ['boolean', ['feature-state', 'hover'], false], 16, 8],\n          'circle-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 0.3, 0]\n        }\n      }\"\n      v-on=\"anchorMode ? {} : {click: selectClick, contextmenu: contextMenuNode}\"\n      @mouseover=\"onCursor\"\n      @mouseleave=\"offCursor\"\n      @mousedown=\"moveNode\"\n    />\n\n    <MglGeojsonLayer\n      source-id=\"anchorNodes\"\n      :source=\"{\n        type: 'geojson',\n        data: anchorNodes,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"anchorNodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: 2,\n        paint: {\n          'circle-color': '#ffffff',\n          'circle-opacity':0.5,\n          'circle-radius': ['case', ['boolean', ['feature-state', 'hover'], false], 10, 5],\n          'circle-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 0.3, 0],\n          'circle-stroke-color': '#2C3E4E',\n          'circle-stroke-width': 2,\n        },\n      }\"\n      @click=\"selectClick\"\n      @mouseover=\"onCursor\"\n      @mouseleave=\"offCursor\"\n      @mousedown=\"moveNode\"\n      @contextmenu=\"contextMenuNode\"\n    />\n\n    <MglPopup\n      :close-button=\"false\"\n      :showed=\"popupEditor.showed\"\n      :coordinates=\"popupEditor.coordinates\"\n      @close=\"popupEditor.showed=false\"\n    >\n      <span>\n        <h3>{{ popupEditor.content }}</h3>\n        <hr>\n        {{ hoveredStateId?.layerId == 'editorLinks'?\n          $gettext(\"Left click to add a stop\"):\n          $gettext(\"Hold left click to drag\") }}\n        <hr>\n        {{ hoveredStateId?.layerId == 'editorLinks'?\n          $gettext(\"Right click to edit properties\"):\n          $gettext(\"Right click for context menu\") }}\n      </span>\n    </MglPopup>\n\n    <MglPopup\n      :close-button=\"false\"\n      :showed=\"contextMenu.showed\"\n      :coordinates=\"contextMenu.coordinates\"\n      @close=\"contextMenu.showed=false\"\n    >\n      <span\n        @mouseleave=\"contextMenu.showed=false\"\n      >\n        <v-list\n          dense\n          flat\n        >\n          <v-list-item-group>\n            <v-list-item\n              v-for=\"action in contextMenu.actions\"\n              :key=\"action.id\"\n            >\n              <v-list-item-content>\n                <v-btn\n                  outlined\n                  small\n                  @click=\"actionClick({action: action,\n                                       feature: contextMenu.feature,\n                                       coordinates: contextMenu.coordinates})\"\n                >\n                  {{ $gettext(action) }}\n                </v-btn>\n              </v-list-item-content>\n            </v-list-item>\n          </v-list-item-group>\n        </v-list>\n      </span>\n    </MglPopup>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorLinks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorLinks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditorLinks.vue?vue&type=template&id=02bf194d&scoped=true&\"\nimport script from \"./EditorLinks.vue?vue&type=script&lang=js&\"\nexport * from \"./EditorLinks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02bf194d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"MglGeojsonLayer\",\n        _vm._g(\n          {\n            attrs: {\n              \"source-id\": \"rlinks\",\n              source: {\n                type: \"geojson\",\n                data: _vm.isRoadMode ? _vm.renderedrLinks : _vm.rlinks,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"rlinks\",\n              layer: {\n                interactive: true,\n                type: \"line\",\n                minzoom: _vm.minZoom.links,\n                paint: {\n                  \"line-color\": [\n                    \"case\",\n                    [\"has\", \"route_color\"],\n                    [\"concat\", \"#\", [\"get\", \"route_color\"]],\n                    _vm.$vuetify.theme.currentTheme.linksprimary,\n                  ],\n                  \"line-opacity\": [\n                    \"case\",\n                    [\"boolean\", _vm.isEditorMode, false],\n                    0.3,\n                    1,\n                  ],\n                  \"line-width\": [\n                    \"*\",\n                    [\n                      \"case\",\n                      [\"boolean\", [\"feature-state\", \"hover\"], false],\n                      2 * _vm.routeWidth,\n                      _vm.routeWidth,\n                    ],\n                    [\n                      \"case\",\n                      [\"has\", \"route_width\"],\n                      [\n                        \"case\",\n                        [\"to-boolean\", [\"to-number\", [\"get\", \"route_width\"]]],\n                        [\"to-number\", [\"get\", \"route_width\"]],\n                        2,\n                      ],\n                      2,\n                    ],\n                  ],\n                  \"line-blur\": [\n                    \"*\",\n                    [\n                      \"case\",\n                      [\"boolean\", [\"feature-state\", \"hover\"], false],\n                      1,\n                      0,\n                    ],\n                    [\n                      \"case\",\n                      [\"has\", \"route_width\"],\n                      [\n                        \"case\",\n                        [\"to-boolean\", [\"to-number\", [\"get\", \"route_width\"]]],\n                        [\"to-number\", [\"get\", \"route_width\"]],\n                        2,\n                      ],\n                      2,\n                    ],\n                  ],\n                },\n                layout: {\n                  \"line-sort-key\": [\"to-number\", [\"get\", \"route_width\"]],\n                },\n              },\n            },\n          },\n          _vm.isEditorMode\n            ? {}\n            : {\n                mouseenter: _vm.onCursor,\n                mouseleave: _vm.offCursor,\n                click: _vm.selectClick,\n                contextmenu: _vm.linkRightClick,\n              }\n        )\n      ),\n      _vm._v(\" \"),\n      _c(\"MglImageLayer\", {\n        attrs: {\n          \"source-id\": \"rlinks\",\n          type: \"symbol\",\n          source: \"rlinks\",\n          \"layer-id\": \"arrow-rlinks\",\n          layer: {\n            type: \"symbol\",\n            minzoom: _vm.minZoom.rendered,\n            layout: {\n              \"symbol-placement\": \"line\",\n              \"symbol-spacing\": 200,\n              \"icon-ignore-placement\": true,\n              \"icon-image\": \"arrow\",\n              \"icon-size\": _vm.ArrowSizeCondition,\n              \"icon-rotate\": _vm.ArrowDirCondition,\n            },\n            paint: {\n              \"icon-color\": [\n                \"case\",\n                [\"has\", \"route_color\"],\n                [\"concat\", \"#\", [\"get\", \"route_color\"]],\n                _vm.$vuetify.theme.currentTheme.linksprimary,\n              ],\n            },\n          },\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"MglGeojsonLayer\",\n        _vm._g(\n          {\n            attrs: {\n              \"source-id\": \"rnodes\",\n              source: {\n                type: \"geojson\",\n                data: _vm.isRoadMode ? _vm.renderedrNodes : _vm.rnodes,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"rnodes\",\n              layer: {\n                interactive: true,\n                type: \"circle\",\n                minzoom: _vm.minZoom.rendered,\n                paint: {\n                  \"circle-color\": [\n                    \"case\",\n                    [\"boolean\", _vm.isEditorMode, false],\n                    _vm.$vuetify.theme.currentTheme.mediumgrey,\n                    _vm.$vuetify.theme.currentTheme.accent,\n                  ],\n                  \"circle-stroke-color\": _vm.$vuetify.theme.currentTheme.white,\n                  \"circle-stroke-width\": 1,\n                  \"circle-radius\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    14,\n                    6,\n                  ],\n                  \"circle-blur\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    0.3,\n                    0,\n                  ],\n                },\n              },\n            },\n          },\n          _vm.isEditorMode\n            ? {}\n            : {\n                mouseenter: _vm.onCursor,\n                mouseleave: _vm.offCursor,\n                mousedown: _vm.moveNode,\n                contextmenu: _vm.contextMenuNode,\n              }\n        )\n      ),\n      _vm._v(\" \"),\n      _c(\"MglGeojsonLayer\", {\n        attrs: {\n          \"source-id\": \"anchorrNodes\",\n          source: {\n            type: \"geojson\",\n            data: _vm.isRoadMode\n              ? _vm.renderedAnchorrNodes\n              : _vm.$store.getters.rnodesHeader,\n            buffer: 0,\n            promoteId: \"index\",\n          },\n          \"layer-id\": \"anchorrNodes\",\n          layer: {\n            interactive: true,\n            type: \"circle\",\n            minzoom: _vm.minZoom.rendered,\n            paint: {\n              \"circle-color\": \"#ffffff\",\n              \"circle-opacity\": 0.5,\n              \"circle-radius\": [\n                \"case\",\n                [\"boolean\", [\"feature-state\", \"hover\"], false],\n                10,\n                8,\n              ],\n              \"circle-blur\": [\n                \"case\",\n                [\"boolean\", [\"feature-state\", \"hover\"], false],\n                0.3,\n                0,\n              ],\n              \"circle-stroke-color\": _vm.$vuetify.theme.currentTheme.darkgrey,\n              \"circle-stroke-width\": 2,\n            },\n          },\n        },\n        on: {\n          click: _vm.selectClick,\n          mouseover: _vm.onCursor,\n          mouseleave: _vm.offCursor,\n          mousedown: _vm.moveNode,\n          contextmenu: _vm.contextMenuNode,\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"MglPopup\",\n        {\n          attrs: {\n            \"close-button\": false,\n            showed: _vm.contextMenu.showed,\n            coordinates: _vm.contextMenu.coordinates,\n          },\n          on: {\n            close: function ($event) {\n              _vm.contextMenu.showed = false\n            },\n          },\n        },\n        [\n          _c(\n            \"span\",\n            {\n              on: {\n                mouseleave: function ($event) {\n                  _vm.contextMenu.showed = false\n                },\n              },\n            },\n            [\n              _c(\n                \"v-list\",\n                { attrs: { dense: \"\", flat: \"\" } },\n                [\n                  _c(\n                    \"v-list-item-group\",\n                    _vm._l(_vm.contextMenu.actions, function (action) {\n                      return _c(\n                        \"v-list-item\",\n                        { key: action.id },\n                        [\n                          _c(\n                            \"v-list-item-content\",\n                            [\n                              _c(\n                                \"v-btn\",\n                                {\n                                  attrs: { outlined: \"\", small: \"\" },\n                                  on: {\n                                    click: function ($event) {\n                                      return _vm.actionClick({\n                                        action: action,\n                                        feature: _vm.contextMenu.feature,\n                                        coordinates:\n                                          _vm.contextMenu.coordinates,\n                                      })\n                                    },\n                                  },\n                                },\n                                [\n                                  _vm._v(\n                                    \"\\n                \" +\n                                      _vm._s(_vm.$gettext(action)) +\n                                      \"\\n              \"\n                                  ),\n                                ]\n                              ),\n                            ],\n                            1\n                          ),\n                        ],\n                        1\n                      )\n                    }),\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ]\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport { MglGeojsonLayer, MglImageLayer, MglPopup } from 'vue-mapbox'\nimport mapboxgl from 'mapbox-gl'\nimport buffer from '@turf/buffer'\nimport bboxPolygon from '@turf/bbox-polygon'\nconst $gettext = s => s\nexport default {\n  name: 'StaticLinks',\n  components: {\n    MglGeojsonLayer,\n    MglImageLayer,\n    MglPopup,\n  },\n  props: ['map', 'isEditorMode', 'anchorMode', 'isRoadMode'],\n  events: ['clickFeature'],\n\n  data () {\n    return {\n      hoveredStateId: null,\n      visibleNodes: {},\n      visibleLinks: {},\n      disablePopup: false,\n      editorRnodes: {},\n      routeWidth: 1,\n      bbox: null,\n      minZoom: {\n        links: 2,\n        rendered: 14,\n      },\n      contextMenu: {\n        coordinates: [0, 0],\n        showed: false,\n        actions: [],\n        feature: null,\n      },\n\n    }\n  },\n  computed: {\n    selectedPopupContent () { return this.$store.getters.roadsPopupContent },\n    selectedrGroup () { return this.$store.getters.selectedrGroup },\n    cyclewayMode () { return this.$store.getters.cyclewayMode },\n    rnodes () { return this.$store.getters.visiblerNodes },\n    rlinks () { return this.$store.getters.visiblerLinks },\n    renderedrLinks () { return this.$store.getters.renderedrLinks },\n    renderedrNodes () { return this.$store.getters.renderedrNodes },\n    renderedAnchorrNodes () {\n      return this.anchorMode ? this.$store.getters.anchorrNodes : this.$store.getters.rnodesHeader\n    },\n    ArrowSizeCondition () {\n      // when we want to show the cycleway direction.\n      // [cycleway, cycleway_reverse]\n      // [yes yes], [yes,shared], [shared,yes], [shared,shared] -> no arrow\n      // [yes, no] [shared, no] -> arrow\n      // [no, yes] [no, shared] -> arrow inverse\n      // [no, no], no arrow ? or default (roads direction)\n\n      // in this implementation. we check the case no arrow ([yes yes], [yes,shared], [shared,yes], [shared,shared] -> no arrow)\n      // if true. no arrow.\n      // else if [no,no], we let the default onway on road condition decide.\n      // else we put arrow on  cycleway.\n      // The direction is determined with the another function (ArrowDirCondition)\n\n      const defaultCondition = ['case', ['has', 'oneway'],\n        ['case', ['to-boolean', ['to-number', ['get', 'oneway']]], 0.25, 0],\n        0.25]\n\n      const getRouteWidth = ['case', ['has', 'route_width'],\n        ['case', ['to-boolean', ['to-number', ['get', 'route_width']]],\n          ['to-number', ['get', 'route_width']], 2], 2]\n\n      if (this.cyclewayMode) {\n        // if any null value -> no arrow: 0\n        // if cycle in both way (not no and not no) -> no arrow: 0\n        // if both no -> no arrow: 0\n        // else if not cycle. check default condition (its a normal road)\n        // else : 0.15: its cycle in one way\n\n        const exp = ['*',\n          ['case', ['all',\n            ['to-boolean', ['get', 'cycleway']],\n            ['to-boolean', ['get', 'cycleway_reverse']],\n          ], ['case',\n            ['all',\n              ['!=', ['downcase', ['get', 'cycleway']], 'no'],\n              ['!=', ['downcase', ['get', 'cycleway_reverse']], 'no'],\n            ], 0,\n            ['case',\n              ['all',\n                ['==', ['downcase', ['get', 'cycleway']], 'no'],\n                ['==', ['downcase', ['get', 'cycleway_reverse']], 'no'],\n              ], defaultCondition, 0.25],\n          ], 0], getRouteWidth,\n        ]\n        return exp\n      } else {\n        // normal case. using oneway\n        return ['*', defaultCondition, getRouteWidth]\n      }\n    },\n    ArrowDirCondition () {\n      if (this.cyclewayMode) {\n        // when we want to show the cycleway direction.\n        // [no, yes] [no, shared] -> arrow inverse\n        // if false. we either have no arrow (so it doesnt matter)\n        // or an arrow in the right direction.\n        const exp = ['case',\n          ['all',\n            ['==', ['downcase', ['get', 'cycleway']], 'no'],\n            ['!=', ['downcase', ['get', 'cycleway_reverse']], 'no'],\n          ],\n          -90, 90,\n        ]\n        return exp\n      } else {\n        // default case\n        return 90\n      }\n    },\n\n  },\n\n  watch: {\n    selectedrGroup (val) { this.getBounds() },\n    isRoadMode (val) {\n      if (val) {\n        this.map.on('dragend', this.getBounds)\n        this.map.on('zoomend', this.getBounds)\n      } else {\n        this.map.off('dragend', this.getBounds)\n        this.map.off('zoomend', this.getBounds)\n      }\n    },\n\n  },\n  created () {\n    this.map.on('dragend', this.getBounds)\n    this.map.on('zoomend', this.getBounds)\n  },\n  beforeDestroy () {\n    // remove arrow layer first as it depend on rlink layer\n    this.map.removeLayer('arrow-rlinks')\n  },\n\n  methods: {\n    getBounds () {\n      // get map bounds and return only the features inside of it.\n      // this way, only the visible links and node are rendered and updating is fast\n      // (i.e. moving a node in real time)\n      // note only line inside the bbox (buffured) are visible.\n      const bounds = this.map.getBounds()\n      // create a BBOX with a 800m buffer\n      this.bbox = buffer(bboxPolygon([bounds._sw.lng, bounds._sw.lat, bounds._ne.lng, bounds._ne.lat]), 0.2)\n      // only get the geojson if the zoom level is bigger than the min.\n      // if not, getting all anchorpoint would be very intensive!!\n      // this way, only a small number of anchor points are computed\n      if (this.map.getZoom() > this.minZoom.rendered) {\n        // get links in or intersecting with bbox\n        this.routeWidth = 2\n        this.$store.commit('getRenderedrLinks', { bbox: this.bbox })\n      } else if (this.map.getZoom() > this.minZoom.links) {\n        // evrey links are rendered (not editable). no nodes\n        this.routeWidth = 1\n        this.$store.commit('setRenderedrLinks', { method: 'visible' })\n      } else {\n        this.routeWidth = 1\n        // Nothing is is rendered.\n        this.$store.commit('setRenderedrLinks', { method: 'None' })\n      }\n    },\n    onCursor (event) {\n      if (this.isRoadMode) {\n        if (this.popup?.isOpen()) this.popup.remove() // make sure there is no popup before creating one.\n        if (this.hoveredStateId === null || this.hoveredStateId.layerId === 'rlinks') {\n          if (!this.disablePopup && this.selectedPopupContent.length > 0) {\n            const selectedFeature = event.mapboxEvent.features[0]\n            if (selectedFeature.layer.id !== 'rnodes') {\n              // eslint-disable-next-line max-len\n              let htmlContent = this.selectedPopupContent.map(prop => `${prop}: <b>${selectedFeature.properties[prop]}</b>`)\n              htmlContent = htmlContent.join('<br> ')\n              this.popup = new mapboxgl.Popup({ closeButton: false })\n                .setLngLat([event.mapboxEvent.lngLat.lng, event.mapboxEvent.lngLat.lat])\n                .setHTML(htmlContent)\n                .addTo(event.map)\n            }\n          }\n          this.map.getCanvas().style.cursor = 'pointer'\n          if (this.hoveredStateId !== null) {\n            this.map.setFeatureState(\n              { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id[0] },\n              { hover: false },\n            )\n          }\n          // get a list of all overID. if there is multiple superposed link get all of them!\n          const uniqueArray = [...new Set(event.mapboxEvent.features.map(item => item.id))]\n          this.hoveredStateId = { layerId: event.layerId, id: uniqueArray }\n          this.map.setFeatureState(\n            { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id[0] },\n            { hover: true },\n          )\n\n          this.$emit('onHover', { layerId: this.hoveredStateId.layerId, selectedId: this.hoveredStateId.id })\n        }\n      }\n    },\n\n    offCursor (event) {\n      if (this.isRoadMode) {\n      // todo: error warning is throw sometime when we move a node over another node or anchor.\n        if (this.popup?.isOpen()) this.popup.remove()\n        if (this.hoveredStateId !== null) {\n          // eslint-disable-next-line max-len\n          if (!(['rnodes', 'anchorrNodes'].includes(this.hoveredStateId?.layerId) && event?.layerId === 'rlinks')) {\n            // when we drag a node, we want to start dragging when we leave the node, but we will stay in hovering mode.\n            if (this.keepHovering) {\n              this.dragNode = true\n              // normal behaviours, hovering is false\n            } else {\n              this.map.getCanvas().style.cursor = ''\n              this.map.setFeatureState(\n                { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id[0] },\n                { hover: false },\n              )\n              this.hoveredStateId = null\n              this.$emit('offHover', event)\n            }\n          }\n        }\n      }\n    },\n\n    selectClick (event) {\n      if (this.isRoadMode) {\n        if (this.hoveredStateId !== null) {\n        // Get the highlighted feature\n        // const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        // this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id[0])[0]\n          this.selectedFeature = this.hoveredStateId.id\n          // Emit a click base on layer type (node or link)\n\n          if (this.selectedFeature !== null) {\n            if (this.hoveredStateId.layerId === 'rlinks') {\n              const action = this.anchorMode ? 'Add Road Anchor Inline' : 'Add Road Node Inline'\n              const click = {\n                selectedIndex: this.selectedFeature,\n                action: action,\n                lngLat: event.mapboxEvent.lngLat,\n              }\n              this.$emit('clickFeature', click)\n            }\n          }\n        }\n      }\n    },\n\n    linkRightClick (event) {\n      if (this.isRoadMode) {\n        if (this.hoveredStateId.layerId === 'rlinks') {\n          this.contextMenu.coordinates = [event.mapboxEvent.lngLat.lng, event.mapboxEvent.lngLat.lat]\n          this.contextMenu.showed = true\n          this.contextMenu.feature = this.hoveredStateId.id\n          this.contextMenu.actions =\n          [\n            $gettext('Edit rLink Info'),\n            $gettext('Delete rLink'),\n          ]\n        }\n      }\n    },\n    actionClick (event) {\n      const click = {\n        selectedIndex: event.feature,\n        action: event.action,\n        lngLat: event.coordinates,\n      }\n      this.$emit('clickFeature', click)\n      this.contextMenu.showed = false\n      this.contextMenu.type = null\n      // this.getBounds()\n    },\n\n    contextMenuNode (event) {\n      if (this.isRoadMode) {\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.selectedFeature = features.filter(item => this.hoveredStateId.id.includes(item.id))\n\n        if (this.selectedFeature.length > 0) {\n          if (this.hoveredStateId?.layerId === 'rnodes') {\n            const click = {\n              selectedFeature: this.selectedFeature[0],\n              action: 'Edit rNode Info',\n              lngLat: event.mapboxEvent.lngLat,\n            }\n            this.$emit('clickFeature', click)\n          } else if (this.hoveredStateId?.layerId === 'anchorrNodes') {\n            const click = {\n              selectedFeature: this.selectedFeature[0],\n              action: 'Delete Road Anchor',\n              lngLat: null,\n            }\n            this.$emit('clickFeature', click)\n            // this.getBounds()\n          }\n        }\n      }\n    },\n\n    moveNode (event) {\n      if (this.isRoadMode) {\n        if (event.mapboxEvent.originalEvent.button === 0 &\n      ['rnodes', 'anchorrNodes'].includes(this.hoveredStateId.layerId)) {\n          event.mapboxEvent.preventDefault() // prevent map control\n          this.map.getCanvas().style.cursor = 'grab'\n          // disable mouseLeave so we stay in hover state.\n          this.keepHovering = true\n          // get selected node\n          const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n          this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id[0])[0]\n          // disable popup\n          this.disablePopup = true\n          if (this.hoveredStateId.layerId === 'rnodes') {\n            this.$store.commit('getConnectedLinks', { selectedNode: this.selectedFeature })\n          }\n          // get position\n          this.map.on('mousemove', this.onMove)\n          this.map.on('mouseup', this.stopMovingNode)\n        }\n      }\n    },\n    onMove (event) {\n      // get position and update node position\n      // only if dragmode is activated (we just leave the node hovering state.)\n      if (this.dragNode && this.selectedFeature) {\n        const click = {\n          selectedFeature: this.selectedFeature,\n          action: null,\n          lngLat: Object.values(event.lngLat),\n        }\n        if (this.hoveredStateId.layerId === 'anchorrNodes') {\n          click.action = 'Move rAnchor'\n          this.$emit('clickFeature', click)\n          // rerender the anchor as they are getter and are not directly modified by the moverAnchor mutation.\n        } else {\n          click.action = 'Move rNode'\n          this.$emit('clickFeature', click)\n        }\n      }\n    },\n    stopMovingNode (event) {\n      if (this.isRoadMode) {\n        // stop tracking position (moving node.)\n        this.map.getCanvas().style.cursor = 'pointer'\n        this.map.off('mousemove', this.onMove)\n        // enable popup and hovering off back. disable Dragmode\n        this.keepHovering = false\n        this.dragNode = false\n        this.disablePopup = false\n        // if we drag too quickly, offcursor it will not be call and the node will stay in hovering mode.\n        // calling offscursor will break the sticky node drawlink behaviour, so we only make its state back to hover-false\n        this.map.getCanvas().style.cursor = ''\n        this.map.setFeatureState(\n          { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id[0] },\n          { hover: false },\n        )\n        this.hoveredStateId = null\n        this.map.off('mouseup', this.stopMovingNode)\n\n      // emit a clickNode with the selected node.\n      // this will work with lag as it is the selectedFeature and not the highlighted one.}\n      }\n    },\n  },\n}\n</script>\n<template>\n  <section>\n    <MglGeojsonLayer\n      source-id=\"rlinks\"\n      :source=\"{\n        type: 'geojson',\n        data: isRoadMode? renderedrLinks : rlinks,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"rlinks\"\n      :layer=\"{\n        interactive: true,\n        type: 'line',\n        minzoom: minZoom.links,\n        paint: {\n          'line-color': ['case', ['has', 'route_color'], ['concat', '#', ['get', 'route_color']], $vuetify.theme.currentTheme.linksprimary],\n          'line-opacity': ['case', ['boolean', isEditorMode, false], 0.3, 1],\n          'line-width': ['*',['case', ['boolean', ['feature-state', 'hover'], false], 2*routeWidth, routeWidth],\n                         ['case', ['has', 'route_width'],\n                          ['case', ['to-boolean', ['to-number', ['get', 'route_width']]],\n                           ['to-number', ['get', 'route_width']],\n                           2], 2]],\n          'line-blur': ['*',['case', ['boolean', ['feature-state', 'hover'], false], 1, 0],\n                        ['case', ['has', 'route_width'],\n                         ['case', ['to-boolean', ['to-number', ['get', 'route_width']]],\n                          ['to-number', ['get', 'route_width']],\n                          2], 2]],\n        },\n        layout: {\n          'line-sort-key': ['to-number',['get', 'route_width']],\n        }\n\n      }\"\n      v-on=\"isEditorMode ? { } : { mouseenter: onCursor,\n                                   mouseleave: offCursor,\n                                   click: selectClick,\n                                   contextmenu: linkRightClick }\"\n    />\n    <MglImageLayer\n      source-id=\"rlinks\"\n      type=\"symbol\"\n      source=\"rlinks\"\n      layer-id=\"arrow-rlinks\"\n      :layer=\"{\n        type: 'symbol',\n        minzoom: minZoom.rendered,\n        layout: {\n          'symbol-placement': 'line',\n          'symbol-spacing': 200,\n          'icon-ignore-placement': true,\n          'icon-image':'arrow',\n          'icon-size': ArrowSizeCondition,\n          'icon-rotate': ArrowDirCondition,\n        },\n        paint: {\n          'icon-color': ['case', ['has', 'route_color'], ['concat', '#', ['get', 'route_color']], $vuetify.theme.currentTheme.linksprimary],\n        }\n      }\"\n    />\n\n    <MglGeojsonLayer\n      source-id=\"rnodes\"\n      :source=\"{\n        type: 'geojson',\n        data: isRoadMode? renderedrNodes:rnodes,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"rnodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: minZoom.rendered,\n        paint: {\n          'circle-color': ['case', ['boolean', isEditorMode, false], $vuetify.theme.currentTheme.mediumgrey, $vuetify.theme.currentTheme.accent],\n          'circle-stroke-color': $vuetify.theme.currentTheme.white,\n          'circle-stroke-width': 1,\n          'circle-radius': ['case', ['boolean', ['feature-state', 'hover'], false], 14, 6],\n          'circle-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 0.3, 0]\n        },\n      }\"\n      v-on=\"isEditorMode ? { } : { mouseenter: onCursor,\n                                   mouseleave: offCursor,\n                                   mousedown: moveNode,\n                                   contextmenu:contextMenuNode }\"\n    />\n\n    <MglGeojsonLayer\n      source-id=\"anchorrNodes\"\n      :source=\"{\n        type: 'geojson',\n        data: isRoadMode? renderedAnchorrNodes: $store.getters.rnodesHeader,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"anchorrNodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: minZoom.rendered,\n        paint: {\n          'circle-color': '#ffffff',\n          'circle-opacity':0.5,\n          'circle-radius': ['case', ['boolean', ['feature-state', 'hover'], false], 10, 8],\n          'circle-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 0.3, 0],\n          'circle-stroke-color': $vuetify.theme.currentTheme.darkgrey,\n          'circle-stroke-width': 2,\n        },\n      }\"\n      @click=\"selectClick\"\n      @mouseover=\"onCursor\"\n      @mouseleave=\"offCursor\"\n      @mousedown=\"moveNode\"\n      @contextmenu=\"contextMenuNode\"\n    />\n    <MglPopup\n      :close-button=\"false\"\n      :showed=\"contextMenu.showed\"\n      :coordinates=\"contextMenu.coordinates\"\n      @close=\"contextMenu.showed=false\"\n    >\n      <span\n        @mouseleave=\"contextMenu.showed=false\"\n      >\n        <v-list\n          dense\n          flat\n        >\n          <v-list-item-group>\n            <v-list-item\n              v-for=\"action in contextMenu.actions\"\n              :key=\"action.id\"\n            >\n              <v-list-item-content>\n                <v-btn\n                  outlined\n                  small\n                  @click=\"actionClick({action: action,\n                                       feature: contextMenu.feature,\n                                       coordinates: contextMenu.coordinates})\"\n                >\n                  {{ $gettext(action) }}\n                </v-btn>\n              </v-list-item-content>\n            </v-list-item>\n          </v-list-item-group>\n        </v-list>\n      </span>\n    </MglPopup>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadLinks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadLinks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoadLinks.vue?vue&type=template&id=19035e90&scoped=true&\"\nimport script from \"./RoadLinks.vue?vue&type=script&lang=js&\"\nexport * from \"./RoadLinks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19035e90\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\"MglGeojsonLayer\", {\n        attrs: {\n          \"source-id\": \"od\",\n          source: {\n            type: \"geojson\",\n            data: _vm.layer,\n            buffer: 0,\n            promoteId: \"index\",\n          },\n          \"layer-id\": \"od\",\n          layer: {\n            interactive: true,\n            type: \"line\",\n            minzoom: 1,\n            maxzoom: 18,\n            paint: {\n              \"line-color\": [\n                \"case\",\n                [\"has\", \"route_color\"],\n                [\"concat\", \"#\", [\"get\", \"route_color\"]],\n                _vm.$vuetify.theme.currentTheme.linksprimary,\n              ],\n              \"line-opacity\": [\n                \"case\",\n                [\"boolean\", _vm.isEditorMode, false],\n                0.3,\n                1,\n              ],\n              \"line-width\": [\n                \"*\",\n                [\"case\", [\"boolean\", [\"feature-state\", \"hover\"], false], 3, 1],\n                [\n                  \"case\",\n                  [\"has\", \"route_width\"],\n                  [\n                    \"case\",\n                    [\"to-boolean\", [\"to-number\", [\"get\", \"route_width\"]]],\n                    [\"to-number\", [\"get\", \"route_width\"]],\n                    2,\n                  ],\n                  2,\n                ],\n              ],\n              \"line-blur\": [\n                \"*\",\n                [\"case\", [\"boolean\", [\"feature-state\", \"hover\"], false], 1, 0],\n                [\n                  \"case\",\n                  [\"has\", \"route_width\"],\n                  [\n                    \"case\",\n                    [\"to-boolean\", [\"to-number\", [\"get\", \"route_width\"]]],\n                    [\"to-number\", [\"get\", \"route_width\"]],\n                    2,\n                  ],\n                  2,\n                ],\n              ],\n            },\n\n            layout: {\n              \"line-sort-key\": [\"to-number\", [\"get\", \"route_width\"]],\n              \"line-cap\": \"round\",\n            },\n          },\n        },\n        on: {\n          contextmenu: _vm.linkRightClick,\n          mouseover: _vm.onCursor,\n          mouseleave: _vm.offCursor,\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\"MglGeojsonLayer\", {\n        attrs: {\n          \"source-id\": \"ODNodes\",\n          source: {\n            type: \"geojson\",\n            data: _vm.isODMode\n              ? _vm.nodes\n              : _vm.$store.getters[\"od/layerHeader\"],\n            buffer: 0,\n            promoteId: \"index\",\n          },\n          \"layer-id\": \"ODNodes\",\n          layer: {\n            interactive: true,\n            type: \"circle\",\n            paint: {\n              \"circle-color\": \"#ffffff\",\n              \"circle-opacity\": 0.5,\n              \"circle-radius\": [\n                \"case\",\n                [\"boolean\", [\"feature-state\", \"hover\"], false],\n                10,\n                5,\n              ],\n              \"circle-blur\": [\n                \"case\",\n                [\"boolean\", [\"feature-state\", \"hover\"], false],\n                0.3,\n                0,\n              ],\n              \"circle-stroke-color\": _vm.$vuetify.theme.currentTheme.darkgrey,\n              \"circle-stroke-width\": 2,\n            },\n          },\n        },\n        on: {\n          mouseover: _vm.onCursor,\n          mouseleave: _vm.offCursor,\n          mousedown: _vm.moveNode,\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\"MglImageLayer\", {\n        attrs: {\n          \"source-id\": \"od\",\n          type: \"symbol\",\n          source: \"od\",\n          \"layer-id\": \"arrow-od\",\n          layer: {\n            type: \"symbol\",\n            layout: {\n              \"symbol-placement\": \"line\",\n              \"symbol-spacing\": 200,\n              \"icon-ignore-placement\": true,\n              \"icon-image\": \"arrow\",\n              \"icon-size\": [\n                \"*\",\n                0.2,\n                [\n                  \"case\",\n                  [\"has\", \"route_width\"],\n                  [\n                    \"case\",\n                    [\"to-boolean\", [\"to-number\", [\"get\", \"route_width\"]]],\n                    [\"to-number\", [\"get\", \"route_width\"]],\n                    2,\n                  ],\n                  2,\n                ],\n              ],\n              \"icon-rotate\": 90,\n            },\n            paint: {\n              \"icon-color\": [\n                \"case\",\n                [\"has\", \"route_color\"],\n                [\"concat\", \"#\", [\"get\", \"route_color\"]],\n                _vm.$vuetify.theme.currentTheme.linksprimary,\n              ],\n            },\n          },\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"MglPopup\",\n        {\n          attrs: {\n            \"close-button\": false,\n            showed: _vm.contextMenu.showed,\n            coordinates: _vm.contextMenu.coordinates,\n          },\n          on: {\n            close: function ($event) {\n              _vm.contextMenu.showed = false\n            },\n          },\n        },\n        [\n          _c(\n            \"span\",\n            {\n              on: {\n                mouseleave: function ($event) {\n                  _vm.contextMenu.showed = false\n                },\n              },\n            },\n            [\n              _c(\n                \"v-list\",\n                { attrs: { dense: \"\", flat: \"\" } },\n                [\n                  _c(\n                    \"v-list-item-group\",\n                    _vm._l(_vm.contextMenu.actions, function (action) {\n                      return _c(\n                        \"v-list-item\",\n                        { key: action.id },\n                        [\n                          _c(\n                            \"v-list-item-content\",\n                            [\n                              _c(\n                                \"v-btn\",\n                                {\n                                  attrs: { outlined: \"\", small: \"\" },\n                                  on: {\n                                    click: function ($event) {\n                                      return _vm.actionClick({\n                                        action: action,\n                                        feature: _vm.contextMenu.feature,\n                                        coordinates:\n                                          _vm.contextMenu.coordinates,\n                                      })\n                                    },\n                                  },\n                                },\n                                [\n                                  _vm._v(\n                                    \"\\n                \" +\n                                      _vm._s(_vm.$gettext(action)) +\n                                      \"\\n              \"\n                                  ),\n                                ]\n                              ),\n                            ],\n                            1\n                          ),\n                        ],\n                        1\n                      )\n                    }),\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ]\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<!-- eslint-disable no-return-assign -->\n<script>\nimport { MglGeojsonLayer, MglImageLayer, MglPopup } from 'vue-mapbox'\nconst short = require('short-uuid')\nconst $gettext = s => s\n\nexport default {\n  name: 'ODMap',\n  components: {\n    MglGeojsonLayer,\n    MglImageLayer,\n    MglPopup,\n  },\n  props: ['map', 'isODMode', 'isEditorMode'],\n  events: [],\n\n  data () {\n    return {\n      hoveredStateId: null,\n      keepHovering: false,\n      dragNode: false,\n      drawMode: false,\n      selectedFeature: null,\n      contextMenu: {\n        coordinates: [0, 0],\n        showed: false,\n        actions: [],\n        feature: null,\n      },\n\n    }\n  },\n  computed: {\n    layer () { return this.$store.getters['od/visibleLayer'] },\n    nodes () {\n      return this.$store.getters['od/nodes'](this.layer)\n    },\n\n  },\n\n  watch: {\n  },\n\n  created () {\n    this.map.on('click', this.test)\n  },\n\n  methods: {\n    test (event) {\n      if (this.isODMode) {\n        if (!this.drawMode) {\n          const index = 'OD_' + short.generate()\n          this.$store.commit('od/createNewLink', { lngLat: Object.values(event.lngLat), index: index })\n          this.dragNode = true\n          this.selectedFeature = { properties: { linkIndex: index, coordinatedIndex: 1 } }\n          // get position\n          this.drawMode = true\n          this.map.on('mousemove', this.onMove)\n          this.map.on('mouseup', this.stopMovingNode)\n        } else {\n          // here. we dont want the second click to do anything except act like a stop moving node.\n          this.drawMode = false\n        }\n      }\n    },\n    onCursor (event) {\n      if (this.isODMode) {\n        if (this.hoveredStateId === null) {\n          this.map.getCanvas().style.cursor = 'pointer'\n          // get a list of all overID. if there is multiple superposed link get all of them!\n          const uniqueArray = [...new Set(event.mapboxEvent.features.map(item => item.id))]\n          this.hoveredStateId = { layerId: event.layerId, id: uniqueArray }\n          this.map.setFeatureState(\n            { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id[0] },\n            { hover: true },\n          )\n        }\n      }\n    },\n\n    offCursor (event) {\n      if (this.isODMode) {\n      // todo: error warning is throw sometime when we move a node over another node or anchor.\n        if (this.hoveredStateId !== null) {\n          // eslint-disable-next-line max-len\n          // when we drag a node, we want to start dragging when we leave the node, but we will stay in hovering mode.\n          if (this.keepHovering) {\n            this.dragNode = true\n            // normal behaviours, hovering is false\n          } else {\n            this.map.getCanvas().style.cursor = ''\n            this.map.setFeatureState(\n              { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id[0] },\n              { hover: false },\n            )\n            this.hoveredStateId = null\n            // this.$emit('offHover', event)\n          }\n        }\n      }\n    },\n\n    moveNode (event) {\n      if (this.isODMode && !this.drawMode && this.hoveredStateId?.layerId === 'ODNodes') {\n        if (event.mapboxEvent.originalEvent.button === 0) {\n          event.mapboxEvent.preventDefault() // prevent map control\n          this.map.getCanvas().style.cursor = 'grab'\n          // disable mouseLeave so we stay in hover state.\n          this.keepHovering = true\n          // get selected node\n          const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n          this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id[0])[0]\n          // get position\n          if (this.selectedFeature?.properties) {\n            this.map.on('mousemove', this.onMove)\n            this.map.on('mouseup', this.stopMovingNode)\n          }\n        }\n      }\n    },\n    onMove (event) {\n      // get position and update node position\n      // only if dragmode is activated (we just leave the node hovering state.)\n      if (this.dragNode && this.selectedFeature) {\n        const click = {\n          selectedFeature: this.selectedFeature,\n          lngLat: Object.values(event.lngLat),\n        }\n        this.$store.commit('od/moveNode', click)\n        // rerender the anchor as they are getter and are not directly modified by the moverAnchor mutation.\n        // this.renderedAnchorrNodes.features = this.anchorrNodes.features.filter(node =>\n        //  booleanContains(this.bbox, node))\n      }\n    },\n    stopMovingNode (event) {\n      if (this.isODMode && event.originalEvent.button === 0) {\n        // stop tracking position (moving node.)\n        this.map.getCanvas().style.cursor = 'pointer'\n        this.map.off('mousemove', this.onMove)\n\n        // enable popup and hovering off back. disable Dragmode\n        this.keepHovering = false\n        this.dragNode = false\n        // if we drag too quickly, offcursor it will not be call and the node will stay in hovering mode.\n        // calling offscursor will break the sticky node drawlink behaviour, so we only make its state back to hover-false\n        this.map.getCanvas().style.cursor = ''\n        if (this.hoveredStateId) {\n          this.map.setFeatureState(\n            { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id[0] },\n            { hover: false },\n          )\n        }\n        this.hoveredStateId = null\n        this.map.off('mouseup', this.stopMovingNode)\n      }\n    },\n    linkRightClick (event) {\n      if (this.isODMode && !this.drawMode) {\n        this.contextMenu.coordinates = [event.mapboxEvent.lngLat.lng, event.mapboxEvent.lngLat.lat]\n        this.contextMenu.showed = true\n        this.contextMenu.feature = this.hoveredStateId.id\n        this.contextMenu.actions =\n          [\n            $gettext('Edit OD Info'),\n            $gettext('Delete OD'),\n          ]\n      }\n    },\n    actionClick (event) {\n      const click = {\n        selectedIndex: event.feature,\n        action: event.action,\n        lngLat: event.coordinates,\n      }\n      this.$emit('clickFeature', click)\n      this.contextMenu.showed = false\n      this.contextMenu.type = null\n    },\n\n  },\n}\n</script>\n<template>\n  <section>\n    <MglGeojsonLayer\n      source-id=\"od\"\n      :source=\"{\n        type: 'geojson',\n        data: layer,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"od\"\n      :layer=\"{\n        interactive: true,\n        type: 'line',\n        minzoom: 1,\n        maxzoom: 18,\n        paint: {\n          'line-color': ['case', ['has', 'route_color'], ['concat', '#', ['get', 'route_color']], $vuetify.theme.currentTheme.linksprimary],\n          'line-opacity': ['case', ['boolean', isEditorMode, false], 0.3, 1],\n          'line-width': ['*',['case', ['boolean', ['feature-state', 'hover'], false], 3, 1],\n                         ['case', ['has', 'route_width'],\n                          ['case', ['to-boolean', ['to-number', ['get', 'route_width']]],\n                           ['to-number', ['get', 'route_width']],\n                           2], 2]],\n          'line-blur': ['*',['case', ['boolean', ['feature-state', 'hover'], false], 1, 0],\n                        ['case', ['has', 'route_width'],\n                         ['case', ['to-boolean', ['to-number', ['get', 'route_width']]],\n                          ['to-number', ['get', 'route_width']],\n                          2], 2]],\n        },\n\n        layout: {\n          'line-sort-key': ['to-number',['get', 'route_width']],\n          'line-cap': 'round',\n        }\n      }\"\n      @contextmenu=\"linkRightClick\"\n      @mouseover=\"onCursor\"\n      @mouseleave=\"offCursor\"\n    />\n\n    <MglGeojsonLayer\n      source-id=\"ODNodes\"\n      :source=\"{\n        type: 'geojson',\n        data: isODMode? nodes : $store.getters['od/layerHeader'],\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"ODNodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        paint: {\n          'circle-color': '#ffffff',\n          'circle-opacity':0.5,\n          'circle-radius': ['case', ['boolean', ['feature-state', 'hover'], false], 10, 5],\n          'circle-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 0.3, 0],\n          'circle-stroke-color': $vuetify.theme.currentTheme.darkgrey,\n          'circle-stroke-width': 2,\n        },\n      }\"\n      @mouseover=\"onCursor\"\n      @mouseleave=\"offCursor\"\n      @mousedown=\"moveNode\"\n    />\n    <MglImageLayer\n      source-id=\"od\"\n      type=\"symbol\"\n      source=\"od\"\n      layer-id=\"arrow-od\"\n      :layer=\"{\n        type: 'symbol',\n        layout: {\n          'symbol-placement': 'line',\n          'symbol-spacing': 200,\n          'icon-ignore-placement': true,\n          'icon-image':'arrow',\n          'icon-size': ['*',0.2,['case', ['has', 'route_width'],\n                                 ['case', ['to-boolean', ['to-number', ['get', 'route_width']]],\n                                  ['to-number', ['get', 'route_width']], 2], 2]],\n          'icon-rotate': 90,\n        },\n        paint: {\n          'icon-color': ['case', ['has', 'route_color'], ['concat', '#', ['get', 'route_color']], $vuetify.theme.currentTheme.linksprimary],\n        }\n      }\"\n    />\n    <MglPopup\n      :close-button=\"false\"\n      :showed=\"contextMenu.showed\"\n      :coordinates=\"contextMenu.coordinates\"\n      @close=\"contextMenu.showed=false\"\n    >\n      <span\n        @mouseleave=\"contextMenu.showed=false\"\n      >\n        <v-list\n          dense\n          flat\n        >\n          <v-list-item-group>\n            <v-list-item\n              v-for=\"action in contextMenu.actions\"\n              :key=\"action.id\"\n            >\n              <v-list-item-content>\n                <v-btn\n                  outlined\n                  small\n                  @click=\"actionClick({action: action,\n                                       feature: contextMenu.feature,\n                                       coordinates: contextMenu.coordinates})\"\n                >\n                  {{ $gettext(action) }}\n                </v-btn>\n              </v-list-item-content>\n            </v-list-item>\n          </v-list-item-group>\n        </v-list>\n      </span>\n    </MglPopup>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ODMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ODMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ODMap.vue?vue&type=template&id=af4e3bca&scoped=true&\"\nimport script from \"./ODMap.vue?vue&type=script&lang=js&\"\nexport * from \"./ODMap.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"af4e3bca\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","<script>\nimport Mapbox from 'mapbox-gl'\nimport { MglMap, MglNavigationControl, MglScaleControl, MglGeojsonLayer } from 'vue-mapbox'\nimport arrowImage from '@static/arrow.png'\nimport Linestring from 'turf-linestring'\nimport Settings from './Settings.vue'\nimport StaticLinks from './StaticLinks.vue'\nimport EditorLinks from './EditorLinks.vue'\nimport RoadLinks from './RoadLinks.vue'\nimport StaticLayer from '../utils/StaticLayer.vue'\nimport LayerSelector from '../utils/LayerSelector.vue'\nimport ODMap from './ODMap.vue'\n\nconst mapboxPublicKey = process.env.VUE_APP_MAPBOX_PUBLIC_KEY\n// Filter links from selected line\nconst $gettext = s => s\n\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names, vue/no-reserved-component-names\n  name: 'Map',\n  components: {\n    MglMap,\n    MglNavigationControl,\n    MglScaleControl,\n    MglGeojsonLayer,\n    LayerSelector,\n    StaticLayer,\n    StaticLinks,\n    EditorLinks,\n    RoadLinks,\n    Settings,\n    ODMap,\n  },\n  props: {\n    selectedTrips: {\n      type: Array,\n      default: () => [],\n    },\n    mode: {\n      type: String,\n      default: 'pt',\n    },\n\n  },\n  events: ['clickFeature'],\n  data () {\n    return {\n      mapboxPublicKey: null,\n      selectedFeature: null,\n      isEditorMode: false,\n      mapIsLoaded: false,\n      drawMode: false,\n      hoverId: null,\n      hoverLayer: null,\n      mapDiv: null,\n      drawLink: null,\n      mouseout: false,\n      selectedNode: { id: null, layerId: null },\n      connectedDrawLink: false,\n\n    }\n  },\n  computed: {\n    mapStyle () { return this.$store.getters.mapStyle },\n    showLeftPanel () {\n      return this.$store.getters.showLeftPanel\n    },\n    editorTrip () {\n      return this.$store.getters.editorTrip\n    },\n    editorNodes () {\n      return this.$store.getters.editorNodes\n    },\n    firstNode () {\n      return this.$store.getters.firstNode\n    },\n    lastNode () {\n      return this.$store.getters.lastNode\n    },\n    anchorMode () { return this.$store.getters.anchorMode },\n    visibleRasters () { return this.$store.getters.visibleRasters },\n    rasterFiles () { return this.$store.getters.styles },\n    availableLayers () { return this.$store.getters.availableLayers },\n  },\n  watch: {\n\n    showLeftPanel () {\n      setTimeout(() => this.map.resize(), 250)\n    },\n    anchorMode (val) {\n      if (val) {\n        this.drawMode = false\n        this.$store.commit('changeNotification',\n          { text: $gettext('Left click to add an anchor point, right click to delete'), autoClose: false })\n      } else {\n        this.$store.commit('changeNotification', { text: '', autoClose: true })\n      }\n    },\n    mode (val) {\n      if (val === 'pt') {\n        this.drawMode = false\n      }\n    },\n    mapStyle (val) {\n      this.saveMapPosition()\n    },\n\n    editorNodes (newVal, oldVal) {\n      this.$store.commit('setAnchorMode', false)\n      this.isEditorMode = (newVal.features.length > 0)\n      if (this.isEditorMode) {\n        if (this.$store.getters.changeBounds) {\n          const bounds = new Mapbox.LngLatBounds()\n          newVal.features.forEach(node => {\n            bounds.extend(node.geometry.coordinates)\n          })\n          this.map.fitBounds(bounds, {\n            padding: 100,\n          })\n        }\n      }\n    },\n\n    drawMode (val) {\n      // set layer visible if drawMode is true\n      // check if layer exist. will bug if it is check befere rendering the layer\n      if (this.map?.getStyle().layers.filter(layer => layer.id === 'drawLink').length > 0) {\n        if (val) {\n          this.map.setLayoutProperty('drawLink', 'visibility', 'visible')\n        } else {\n          this.map.setLayoutProperty('drawLink', 'visibility', 'none')\n        }\n      }\n    },\n\n    editorTrip (val) {\n      if (val) {\n        this.isEditorMode = true\n        this.connectedDrawLink = false\n      }\n    },\n    isEditorMode (val) {\n      // check if map is loaded too, there is a bug if not, when component is laoded in edition mode (changing page).\n      if (val && this.editorNodes.features.length > 0 && !this.anchorMode && this.mapIsLoaded) {\n        this.drawMode = true\n      } else {\n        this.drawMode = false\n      }// remove drawmode if we quit edition mode.\n      if (!val & this.drawMode) {\n        this.drawMode = false\n      }\n    },\n    // when the first or last node change (delete or new) change the value of those nodes.\n    'firstNode.geometry.coordinates' (val) {\n      if (this.editorTrip) {\n        this.drawLink = Linestring([val, val])\n        this.selectedNode.layerId = 'nodes'\n        this.selectedNode.id = this.firstNode.properties.index\n      }\n    },\n    'lastNode.geometry.coordinates' (val) {\n      if (this.editorTrip) {\n        this.drawLink = Linestring([val, val])\n        this.selectedNode.layerId = 'nodes'\n        this.selectedNode.id = this.lastNode.properties.index\n      }\n    },\n  },\n\n  created () {\n    if (this.editorTrip) { this.isEditorMode = true }\n    this.mapboxPublicKey = mapboxPublicKey\n    this.drawLink = structuredClone(this.$store.getters.linksHeader)\n  },\n  beforeDestroy () {\n    this.saveMapPosition()\n  },\n\n  methods: {\n    saveMapPosition () {\n      const center = this.map.getCenter()\n      this.$store.commit('saveMapPosition', {\n        mapCenter: [center.lng, center.lat],\n        mapZoom: this.map.getZoom(),\n      })\n    },\n    onMapLoaded (event) {\n      if (this.map) this.mapIsLoaded = false\n      const bounds = new Mapbox.LngLatBounds()\n      // only use first and last point. seems to bug when there is anchor...\n      if (this.$store.getters.links.features.length > 0) {\n        this.$store.getters.links.features.forEach(link => {\n          bounds.extend([link.geometry.coordinates[0],\n            link.geometry.coordinates[link.geometry.coordinates.length - 1]])\n        })\n      } else {\n        this.$store.getters.rlinks.features.forEach(link => {\n          bounds.extend([link.geometry.coordinates[0],\n            link.geometry.coordinates[link.geometry.coordinates.length - 1]])\n        })\n      }\n\n      // for empty (new) project, do not fit bounds around the links geometries.\n      if (Object.keys(bounds).length !== 0) {\n        event.map.fitBounds(bounds, {\n          padding: 100,\n        })\n      }\n      event.map.loadImage(arrowImage, function (err, image) {\n        if (err) {\n          console.error('err image', err)\n          return\n        }\n        event.map.addImage('arrow', image, { sdf: true })\n      })\n\n      this.map = event.map\n      event.map.dragRotate.disable()\n      this.mapIsLoaded = true\n    },\n\n    draw (event) {\n      // do not update position on connected link, this makes the node sticky\n      if (!this.connectedDrawLink) {\n        // there is no mousein event, so if drawlink was put nonvisible by mouseout, we cancel here.\n        if (this.drawMode && this.mouseout) {\n          this.map.setLayoutProperty('drawLink', 'visibility', 'visible')\n          this.mouseout = false\n        }\n        if (this.drawMode && !this.anchorMode) {\n        // update draw line with new geometry.\n          const geometry = [this.drawLink.geometry.coordinates[0], Object.values(event.mapboxEvent.lngLat)]\n          this.drawLink = Linestring(geometry)\n        }\n      }\n    },\n    addPoint (event) {\n      if (this.drawMode) {\n        if (this.selectedNode.layerId === 'rnodes') {\n          const pointGeom = Object.values(event.mapboxEvent.lngLat)\n          const payload = {\n            nodeIdA: this.selectedNode.id,\n            nodeIdB: this.hoverId, // could be null, a node or a link.\n            geom: pointGeom,\n            layerId: this.hoverLayer,\n          }\n          // this action overwrite payload.nodeIdB to the actual newLink nodeB.\n          this.$store.commit('createrLink', payload)\n          this.drawMode = false\n          // then, create a hover (and off hover) to the new node b to continue drawing\n          this.onHoverRoad({ layerId: 'rnodes', selectedId: [payload.nodeIdB] })\n          this.offHover()\n\n          // onHoverRoad (event)\n        } else { // PT nodes\n          if (this.drawMode & !this.anchorMode & !this.hoverId) {\n            const action = (this.selectedNode.id === this.$store.getters.lastNodeId)\n              ? 'Extend Line Upward'\n              : 'Extend Line Downward'\n            const pointGeom = Object.values(event.mapboxEvent.lngLat)\n\n            this.$store.commit('applyNewLink', { nodeId: this.selectedNode.id, geom: pointGeom, action: action })\n          }\n        }\n      } else {\n        // for a new Line\n        if (this.editorNodes.features.length === 0 && this.editorTrip) {\n          this.$store.commit('createNewNode', Object.values(event.mapboxEvent.lngLat))\n          this.$store.commit('changeNotification', { text: '', autoClose: true })\n        }\n      }\n    },\n    resetDraw (event) {\n      // reset draw line when we leave the map.\n      // there is no mouseIn event, so we track it with mouseout = true, and reapply visible on mousemove.\n      if (this.drawMode) {\n        this.mouseout = true\n        this.map.setLayoutProperty('drawLink', 'visibility', 'none')\n      }\n    },\n\n    rightClickMap (event) {\n      // remove drawmode when we right click on map\n      if (event.mapboxEvent.originalEvent.button === 2 & !this.hoverId) {\n        this.drawMode = false\n      }\n    },\n    onHover (event) {\n      // no drawing when we hover on link or node\n      this.hoverId = event.selectedId\n      if (this.drawMode) { this.map.setLayoutProperty('drawLink', 'visibility', 'none') }\n      // change hook when we hover first or last node.\n      if ([this.$store.getters.lastNodeId, this.$store.getters.firstNodeId].includes(this.hoverId)) {\n        const node = this.$store.getters.editorNodes.features.filter(node =>\n          node.properties.index === event.selectedId)\n        this.drawLink = Linestring([node[0].geometry.coordinates, node[0].geometry.coordinates])\n        this.selectedNode.id = this.hoverId\n        this.selectedNode.layerId = event.layerId\n\n        this.drawMode = true\n      }\n    },\n    onHoverRoad (event) {\n      if (event?.layerId === 'rnodes') {\n        this.hoverLayer = event.layerId\n        this.hoverId = event.selectedId[0]\n        if (this.drawMode) {\n          // nodes are sticky. drawlink change size and style\n          this.connectedDrawLink = true\n        } else {\n          this.connectedDrawLink = false\n          const node = this.$store.getters.visiblerNodes.features.filter(node =>\n            node.properties.index === this.hoverId)\n          this.drawLink = Linestring([node[0].geometry.coordinates, node[0].geometry.coordinates])\n          this.drawMode = true\n          this.connectedDrawLink = false\n          this.selectedNode.id = this.hoverId\n          this.selectedNode.layerId = this.hoverLayer\n        }\n      } else if (event?.layerId === 'rlinks') {\n        this.hoverLayer = event.layerId\n        this.hoverId = event.selectedId\n      }\n    },\n    offHover (event) {\n      // put back visible draw line\n      this.hoverId = null\n      this.hoverLayer = null\n      if (this.drawMode) {\n        this.map.setLayoutProperty('drawLink', 'visibility', 'visible')\n        this.connectedDrawLink = false\n      }\n    },\n    clickFeature (event) {\n      // when we move a rNode, we need to update drawlink as it is link to this moved node.\n      if (['Move rNode', 'Delete rLink'].includes(event.action)) {\n        this.drawMode = false\n        // this.drawLink = Linestring([event.lngLat, event.lngLat])\n      }\n      // prevent emitting add road node inline when drawmode is on.\n      // we will add the node inlne and create the new link in this component.\n      if (!(event.action === 'Add Road Node Inline' && this.drawMode)) {\n        this.$emit('clickFeature', event)\n      }\n    },\n\n  },\n\n}\n</script>\n<template>\n  <MglMap\n    :key=\"mapStyle\"\n    :style=\"{'width': '100%'}\"\n    :access-token=\"mapboxPublicKey\"\n    :map-style=\"mapStyle\"\n    :center=\"$store.getters.mapCenter\"\n    :zoom=\"$store.getters.mapZoom\"\n    @load=\"onMapLoaded\"\n    @mousemove=\"draw\"\n    @mouseout=\"resetDraw()\"\n    @click=\"addPoint\"\n    @mouseup=\"rightClickMap\"\n  >\n    <div\n      v-if=\"mapIsLoaded\"\n      :style=\"{'display':'flex'}\"\n    >\n      <Settings />\n\n      <LayerSelector\n        v-if=\"rasterFiles.length>0\"\n        :choices=\"rasterFiles\"\n        :available-layers=\"availableLayers\"\n      />\n    </div>\n\n    <MglScaleControl position=\"bottom-right\" />\n    <MglNavigationControl position=\"bottom-right\" />\n    <div\n      v-for=\"file in rasterFiles\"\n      :key=\"file.name\"\n    >\n      <template v-if=\"mapIsLoaded && visibleRasters.includes(file.name) && availableLayers.includes(file.layer)\">\n        <StaticLayer\n          :preset=\"file\"\n          :map=\"map\"\n          :order=\"visibleRasters.indexOf(file.name)\"\n        />\n      </template>\n    </div>\n\n    <template v-if=\"mapIsLoaded\">\n      <RoadLinks\n        ref=\"roadref\"\n        :map=\"map\"\n        :is-editor-mode=\"isEditorMode\"\n        :is-road-mode=\"mode==='road'\"\n        :anchor-mode=\"anchorMode\"\n        v-on=\"(isEditorMode)? {} : anchorMode ? {clickFeature: clickFeature } : {onHover:onHoverRoad, offHover:offHover,clickFeature: clickFeature}\"\n      />\n    </template>\n    <template v-if=\"mapIsLoaded\">\n      <StaticLinks\n        :map=\"map\"\n        :showed-trips=\"selectedTrips\"\n        :is-editor-mode=\"isEditorMode\"\n        @rightClick=\"(e) => $emit('clickFeature',e)\"\n      />\n    </template>\n    <template v-if=\"mapIsLoaded\">\n      <EditorLinks\n        :map=\"map\"\n        :anchor-mode=\"anchorMode\"\n        v-on=\"anchorMode ? {clickFeature: clickFeature } : {onHover:onHover, offHover:offHover,clickFeature: clickFeature}\"\n      />\n    </template>\n    <template v-if=\"mapIsLoaded\">\n      <ODMap\n        :map=\"map\"\n        :is-editor-mode=\"isEditorMode\"\n        :is-o-d-mode=\"mode==='od'\"\n        @clickFeature=\"clickFeature\"\n      />\n    </template>\n    <template v-if=\"mapIsLoaded\">\n      <MglGeojsonLayer\n        v-if=\"drawMode\"\n        source-id=\"drawLink\"\n        :source=\"{\n          type: 'geojson',\n          data:drawLink,\n          buffer: 0,\n          generateId: true,\n        }\"\n        layer-id=\"drawLink\"\n        :layer=\"{\n          type: 'line',\n          minzoom: 2,\n          paint: {\n            'line-opacity': 1,\n            'line-color': $vuetify.theme.currentTheme.linksprimary,\n            'line-width': ['case', ['boolean', connectedDrawLink, false], 5, 3],\n            'line-dasharray':['case', ['boolean', connectedDrawLink, false],['literal', []] , ['literal', [0, 2, 4]]],\n\n          }\n        }\"\n      />\n    </template>\n  </MglMap>\n</template>\n<style lang=\"scss\" scoped>\n.map-view {\n  width: 100%;\n}\n.my-custom-dialog {\n  position: absolute !important;\n  top: 10px !important;\n  right: 20px !important;\n}\n</style>\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=f25e2232&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=f25e2232&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=f25e2232&scoped=true&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=f25e2232&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f25e2232\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-menu\",\n    {\n      attrs: {\n        top: \"\",\n        \"nudge-bottom\": \"105\",\n        \"nudge-left\": \"16\",\n        \"close-on-content-click\": false,\n      },\n      scopedSlots: _vm._u([\n        {\n          key: \"activator\",\n          fn: function ({ on }) {\n            return [_c(\"div\", _vm._g({ style: _vm.swatchStyle }, on))]\n          },\n        },\n      ]),\n      model: {\n        value: _vm.menu,\n        callback: function ($$v) {\n          _vm.menu = $$v\n        },\n        expression: \"menu\",\n      },\n    },\n    [\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        [\n          _c(\n            \"v-card-text\",\n            { staticClass: \"pa-0\" },\n            [\n              _c(\"v-color-picker\", {\n                attrs: {\n                  mode: \"hexa\",\n                  swatches: _vm.swatches,\n                  \"show-swatches\": \"\",\n                  flat: \"\",\n                },\n                model: {\n                  value: _vm.color,\n                  callback: function ($$v) {\n                    _vm.color = $$v\n                  },\n                  expression: \"color\",\n                },\n              }),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-card-actions\",\n            [\n              _c(\"v-spacer\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { color: \"grey\", outlined: \"\" },\n                  on: { click: _vm.cancel },\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"cancel\")) + \"\\n      \"\n                  ),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { color: \"green darken-1\", outlined: \"\" },\n                  on: { click: _vm.updateColor },\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"apply\")) + \"\\n      \"\n                  ),\n                ]\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nexport default {\n  name: 'ColorPicker',\n  components: {\n\n  },\n  model: {\n    prop: 'pcolor',\n    event: 'update-color',\n  },\n  props: ['pcolor'],\n  events: ['update-color'],\n  data () {\n    return {\n      color: '$primary',\n      menu: false,\n      swatches: [],\n\n    }\n  },\n  computed: {\n    swatchStyle () {\n      const { color, menu } = this\n\n      return {\n        'backgroundColor': color,\n        'border-style': 'solid',\n        'border-width': '1px',\n        'border-color': '#868686',\n        'cursor': 'pointer',\n        'height': '20px',\n        'width': '20px',\n        'borderRadius': menu ? '50%' : '4px',\n        'transition': 'border-radius 200ms ease-in-out',\n      }\n    },\n  },\n  watch: {\n    // this only happen when we type a value.\n    pcolor (val) {\n      if (this.pcolor[0] !== '#') {\n        this.color = '#'.concat(this.pcolor)\n        this.$emit('update-color', this.pcolor.slice(0, 6))\n      }\n      if (this.pcolor[0] === '#') {\n        this.$emit('update-color', this.pcolor.slice(1, 7))\n      }\n    },\n\n  },\n\n  mounted () {\n    // get chart color and create a 2x4 Swatch for quick color selection.\n    const keys = Object.keys(this.$vuetify.theme.currentTheme.chart)\n    let tempArr = []\n    // eslint-disable-next-line array-callback-return\n    keys.map((key) => {\n      tempArr.push(this.$vuetify.theme.currentTheme.chart[key])\n      if (tempArr.length === 2) {\n        this.swatches.push(tempArr)\n        tempArr = []\n      }\n    })\n\n    // if it is null, do nothing, just put the blue color on the selection square.\n    if ([null, undefined, ''].includes(this.pcolor)) {\n      this.color = this.$vuetify.theme.currentTheme.chart.lightblue\n      // this.$emit('update-color', this.color.slice(1))\n    // the input color never start with #, must add it for this component only (on local var this.color)\n    } else if (this.pcolor[0] !== '#') {\n      this.color = '#'.concat(this.pcolor)\n    // it start with #, leave it as is (this should and will never be the case.)\n    } else {\n      this.color = this.pcolor\n    }\n  },\n\n  methods: {\n    // this method is call when we select a color, the # is remove and pcolor is updated.\n    updateColor () {\n      this.$emit('update-color', this.color)\n\n      this.menu = false\n    },\n    cancel () {\n      this.color = this.pcolor\n      this.menu = false\n    },\n  },\n}\n</script>\n<template\n  v-slot:append\n>\n  <v-menu\n    v-model=\"menu\"\n    top\n    nudge-bottom=\"105\"\n    nudge-left=\"16\"\n    :close-on-content-click=\"false\"\n  >\n    <template v-slot:activator=\"{ on }\">\n      <div\n        :style=\"swatchStyle\"\n        v-on=\"on\"\n      />\n    </template>\n    <v-card>\n      <v-card-text\n        class=\"pa-0\"\n      >\n        <v-color-picker\n          v-model=\"color\"\n          mode=\"hexa\"\n          :swatches=\"swatches\"\n          show-swatches\n          flat\n        />\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer />\n\n        <v-btn\n          color=\"grey\"\n          outlined\n          @click=\"cancel\"\n        >\n          {{ $gettext(\"cancel\") }}\n        </v-btn>\n        <v-btn\n          color=\"green darken-1\"\n          outlined\n          @click=\"updateColor\"\n        >\n          {{ $gettext(\"apply\") }}\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-menu>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ColorPicker.vue?vue&type=template&id=380a869c&scoped=true&v-slot%3Aappend=true&\"\nimport script from \"./ColorPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./ColorPicker.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"380a869c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    [\n      _c(\n        \"v-menu\",\n        {\n          attrs: {\n            \"close-delay\": \"100\",\n            \"offset-y\": \"\",\n            \"max-height\": \"60%\",\n            transition: \"slide-y-transition\",\n          },\n          scopedSlots: _vm._u([\n            {\n              key: \"activator\",\n              fn: function ({ on }) {\n                return [\n                  _c(\n                    \"v-btn\",\n                    _vm._g(\n                      {\n                        attrs: { icon: \"\", color: \"regular\", small: \"\" },\n                        on: {\n                          click: function ($event) {\n                            _vm.openMenu = !_vm.openMenu\n                          },\n                        },\n                      },\n                      on\n                    ),\n                    [\n                      _c(\"v-icon\", [\n                        _vm._v(\n                          \"\\n          \" +\n                            _vm._s(\n                              _vm.openMenu\n                                ? \"fas fa-chevron-left\"\n                                : \"fas fa-chevron-down\"\n                            ) +\n                            \"\\n        \"\n                        ),\n                      ]),\n                    ],\n                    1\n                  ),\n                ]\n              },\n            },\n          ]),\n          model: {\n            value: _vm.openMenu,\n            callback: function ($$v) {\n              _vm.openMenu = $$v\n            },\n            expression: \"openMenu\",\n          },\n        },\n        [\n          _vm._v(\" \"),\n          _c(\n            \"v-list\",\n            _vm._l(_vm.items, function (val, key) {\n              return _c(\n                \"v-list-item\",\n                {\n                  key: key,\n                  class: { \"is-active\": val === _vm.selectedVal },\n                  on: { click: () => _vm.$emit(\"select\", val) },\n                },\n                [\n                  _c(\"v-list-item-title\", [\n                    _vm._v(\"\\n          \" + _vm._s(val) + \"\\n        \"),\n                  ]),\n                ],\n                1\n              )\n            }),\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nexport default {\n  name: 'MenuSelector',\n  model: {\n    prop: 'selectedVal',\n    event: 'select',\n  },\n  // eslint-disable-next-line vue/require-prop-types\n  props: { items: { type: Array, default: () => [] }, selectedVal: { default: () => null } },\n  events: ['select'],\n  data () {\n    return {\n      selectedLayer: 1,\n      openMenu: false,\n\n    }\n  },\n  computed: {\n  },\n  watch: {\n  },\n\n  //  mounted () {\n  //    // Listen for the scroll event on the window\n  //    window.addEventListener('wheel', (e) => { this.openMenu = false })\n  //  },\n  //  beforeDestroy () {\n  //    // Remove the scroll event listener when the component is destroyed\n  //    window.removeEventListener('wheel', (e) => { this.openMenu = false })\n  //  },\n\n}\n</script>\n<template\n  v-slot:append\n>\n  <div>\n    <v-menu\n      v-model=\"openMenu\"\n      close-delay=\"100\"\n      offset-y\n      max-height=\"60%\"\n      transition=\"slide-y-transition\"\n    >\n      <template v-slot:activator=\"{ on }\">\n        <v-btn\n          icon\n          color=\"regular\"\n          small\n          v-on=\"on\"\n          @click=\"openMenu = !openMenu\"\n        >\n          <v-icon>\n            {{ openMenu ? 'fas fa-chevron-left' : 'fas fa-chevron-down' }}\n          </v-icon>\n        </v-btn>\n      </template>\n\n      <v-list>\n        <v-list-item\n          v-for=\"(val,key) in items\"\n          :key=\"key\"\n          :class=\"{ 'is-active': val === selectedVal}\"\n          @click=\"()=>$emit('select',val)\"\n        >\n          <v-list-item-title>\n            {{ val }}\n          </v-list-item-title>\n        </v-list-item>\n      </v-list>\n    </v-menu>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n.is-active{\n  opacity:1;\n  background-color:var(--v-primary-base);\n\n}\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuSelector.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuSelector.vue?vue&type=style&index=0&id=13171075&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuSelector.vue?vue&type=style&index=0&id=13171075&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MenuSelector.vue?vue&type=template&id=13171075&scoped=true&v-slot%3Aappend=true&\"\nimport script from \"./MenuSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./MenuSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MenuSelector.vue?vue&type=style&index=0&id=13171075&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13171075\",\n  null\n  \n)\n\nexport default component.exports","// this file contains Hints on the different editable attributes\n\nconst $gettext = s => s\n\nconst hints = {\n  agency_id: $gettext('transit brand or transit agency'),\n  direction_id: $gettext(`direction of travel for a trip. used to separate trips by directions.\n     ex: 0 - Travel in one direction. 1 - Travel in the opposite direction.`),\n  drop_off_type: $gettext(`0 - Regularly scheduled drop off.\n    1 - No drop off available.\n    2 - Must phone agency to arrange drop off.\n    3 - Must coordinate with driver to arrange drop off.`),\n  headway: $gettext('Time between departures in seconds'),\n  pickup_type: $gettext(`0 - Regularly scheduled pickup.\n    1 - No pickup available.\n    2 - Must phone agency to arrange pickup.\n    3 - Must coordinate with driver to arrange pickup`),\n  route_color: $gettext('color to display on the map (i.e. FFFFFF)'),\n  route_id: $gettext('Identifies a route. Often a string'),\n  route_long_name: $gettext(\"Full name of a route.This name is generally more descriptive\\\n     than the route_short_name and often includes the roudefaultAttributeste's destination or stop\"),\n  route_short_name: $gettext(`Short name of a route. This will often be a short,\n     abstract identifier like \"32\", \"100X\", or \"Green\"`),\n  route_type: $gettext(`Indicates the type of transportation used on a route.\n     subway, metro, rail, bus, ferry, tram, etc`),\n  route_width: $gettext('width to display on the map'),\n  time: $gettext('Travel time on the link. set as length / speed when a link is created or edited (seconds)'),\n  trip_id: $gettext(`Line (or trip) identifier (i.e. 100 Est).\n     Links are group by trip_id in Quetzal-network-editor.`),\n  length: $gettext('links geometry linestring length (meters)'),\n  highway: $gettext('Main identifier or any kind of road, street or path. ex: (motorway, residential, primary)'),\n  speed: $gettext('speed on the link (Km/h)'),\n  cycleway: $gettext('if the road contain a bike path. either yes, no or shared'),\n  cycleway_reverse: $gettext('if the road contain a bike path in the opposite direction. either yes, no or shared.\\\n      a road can be a oneway and have cycleway on both side.'),\n\n}\n\nexport default hints\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","<!-- eslint-disable no-multi-str -->\n<!-- eslint-disable no-return-assign -->\n<script>\nimport SidePanel from '@comp/map/SidePanel.vue'\nimport Map from '@comp/map/Map.vue'\nimport ColorPicker from '@comp/utils/ColorPicker.vue'\nimport MenuSelector from '@comp/utils/MenuSelector.vue'\nimport { getGroupForm } from '@comp/utils/utils.js'\nimport attributesHints from '@constants/hints.js'\n// only used to force to see translation to vue-gettext\nconst $gettext = s => s\n\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: 'Home',\n  components: {\n    // eslint-disable-next-line vue/no-reserved-component-names\n    Map,\n    SidePanel,\n    ColorPicker,\n    MenuSelector,\n  },\n  data () {\n    return {\n      editorTrip: null,\n      action: null,\n      selectedNode: null,\n      selectedLink: null,\n      selectedIndex: null,\n      showDialog: false,\n      cloneDialog: false,\n      editorForm: {},\n      cursorPosition: [],\n      tripToDelete: null,\n      tripToClone: null,\n      message: '',\n      cloneName: null,\n      errorMessage: null,\n      lingering: true,\n      groupTripIds: [],\n      mode: 'pt',\n      showHint: false,\n      showDeleteOption: false,\n      newFieldName: null,\n      linkDir: [],\n      rules: {\n        newField: [\n          val => !Object.keys(this.editorForm).includes(val) || $gettext('field already exist'),\n          val => val !== '' || $gettext('cannot add empty field'),\n          val => !val?.endsWith('_r') || $gettext('field cannot end with _r'),\n        ],\n      },\n\n      hints: attributesHints,\n\n      // todo: this should elsewhere. depend on type (TC or road) and be read on S3.\n    }\n  },\n  computed: {\n    selectedTrips () { return this.$store.getters.selectedTrips },\n    selectedrGroup () { return this.$store.getters.selectedrGroup },\n    numLinks () { return Array.isArray(this.editorForm) ? this.editorForm.length : 1 },\n    attributesChoices () {\n      if (['pt', 'road'].includes(this.mode)) {\n        return this.$store.getters.attributesChoices[this.mode]\n      } else {\n        return {}\n      }\n    },\n\n    editForm () {\n      return ['Edit Line Info',\n        'Edit Link Info',\n        'Edit Node Info',\n        'Edit Group Info',\n        'Edit rLink Info',\n        'Edit Road Group Info',\n        'Edit Visible Road Info',\n        'Edit OD Group Info',\n        'Edit Visible OD Info',\n        'Edit rNode Info',\n        'Edit OD Info'].includes(this.action)\n    },\n  },\n  watch: {\n    showDialog (val) {\n      // do not show a notification when dialog is on. sometim its over the confirm button\n      if (val) { this.$store.commit('changeNotification', { text: '', autoClose: true }) }\n      this.showHint = false\n      this.showDeleteOption = false\n    },\n\n  },\n  created () {\n    this.editorTrip = this.$store.getters.editorTrip\n    window.addEventListener('keydown', (e) => {\n      if ((e.key === 'Control') && (!this.showDialog) && (!this.cloneDialog)) {\n        this.$store.commit('changeAnchorMode')\n      }\n    })\n  },\n\n  methods: {\n    orderedForm (index) {\n      // order editor Form in alphatical order\n      let form = this.editorForm\n      // if we have tab. there is a list of form\n      if (form.length >= 1) {\n        form = form[index]\n      }\n      // order keys in alphabetical order, and with disabled last\n      const keys = Object.keys(form).filter(key => !form[key].disabled).sort()\n      keys.push(...Object.keys(form).filter(key => form[key].disabled).sort())\n      const ordered = keys.reduce(\n        (obj, key) => {\n          obj[key] = form[key]\n          return obj\n        },\n        {},\n      )\n      return ordered\n    },\n\n    updateSelectedTrips (event) {\n      if (event.type === 'links') {\n        this.$store.commit('changeSelectedTrips', event.data)\n      } else if (event.type === 'rlinks') {\n        this.$store.commit('changeVisibleRoads', event.data)\n      }\n    },\n\n    actionClick (event) {\n      this.action = event.action\n      if (this.action === 'Edit Line Info') {\n        this.editorForm = structuredClone(this.$store.getters.editorLineInfo)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (this.action === 'Edit Group Info') {\n        this.groupTripIds = event.tripIds\n        const uneditable = ['index', 'length', 'a', 'b', 'link_sequence', 'trip_id']\n        const lineAttributes = this.$store.getters.lineAttributes\n        const features = structuredClone(this.$store.getters.links.features.filter(\n          link => this.groupTripIds.includes(link.properties.trip_id)))\n\n        this.editorForm = getGroupForm(features, lineAttributes, uneditable)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (this.action === 'Edit Link Info') {\n        // link is clicked on the map\n        this.selectedLink = event.selectedFeature.properties\n        const uneditable = ['a', 'b', 'index', 'link_sequence', 'trip_id']\n        const lineAttributes = this.$store.getters.lineAttributes\n        const features = this.$store.getters.editorLinks.features.filter(\n          (link) => link.properties.index === this.selectedLink.index)\n\n        this.editorForm = getGroupForm(features, lineAttributes, uneditable)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (this.action === 'Edit rLink Info') {\n        this.selectedLink = event.selectedIndex\n        this.editorForm = this.selectedLink.map(linkId => this.$store.getters.rlinksForm(linkId))\n        this.linkDir = this.$store.getters.rlinkDirection(this.selectedLink)\n        event.selectedIndex.forEach(linkId => {\n          if (this.$store.getters.onewayIndex.has(linkId)) {\n            this.selectedLink.push(linkId)\n            this.editorForm.push(this.$store.getters.reversedrLinksForm(linkId))\n            this.linkDir.push(this.$store.getters.rlinkDirection(this.selectedLink, true))\n          }\n        })\n        this.showDialog = true\n      } else if (this.action === 'Edit OD Info') {\n        this.selectedLink = event.selectedIndex[0]\n        this.editorForm = this.$store.getters['od/linkForm'](this.selectedLink)\n        this.showDialog = true\n      } else if (this.action === 'Edit Road Group Info') {\n        const features = this.$store.getters.grouprLinks(event.category, event.group)\n        this.selectedLinks = features // this is an observer. modification will be applied to it in next commit.\n        const lineAttributes = this.$store.getters.rlineAttributes\n        const uneditable = ['index', 'length', 'a', 'b']\n        this.editorForm = getGroupForm(features, lineAttributes, uneditable)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (this.action === 'Edit Visible Road Info') {\n        const features = this.$store.getters.visiblerLinks.features\n        this.selectedLinks = features // this is an observer. modification will be applied to it in next commit.\n        const lineAttributes = this.$store.getters.rlineAttributes\n        const uneditable = ['index', 'length', 'a', 'b']\n        this.editorForm = getGroupForm(features, lineAttributes, uneditable)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (this.action === 'Edit OD Group Info') {\n        const features = this.$store.getters['od/groupLayer'](event.category, event.group)\n        this.selectedLinks = features // this is an observer. modification will be applied to it in next commit.\n        const lineAttributes = this.$store.getters['od/layerAttributes']\n        const uneditable = ['index']\n        this.editorForm = getGroupForm(features, lineAttributes, uneditable)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (this.action === 'Edit Visible OD Info') {\n        const features = this.$store.getters['od/visibleLayer'].features\n        this.selectedLinks = features // this is an observer. modification will be applied to it in next commit.\n        const lineAttributes = this.$store.getters['od/layerAttributes']\n        const uneditable = ['index']\n        this.editorForm = getGroupForm(features, lineAttributes, uneditable)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (['Edit Node Info', 'Edit rNode Info'].includes(this.action)) {\n        this.selectedNode = event.selectedFeature.properties\n        // map selected node doesnt not return properties with nanulln value.\n        // we need to get the node in the store with the selected index.\n        if (this.action === 'Edit Node Info') {\n          this.editorForm = this.$store.getters.editorNodes.features.filter(\n            (node) => node.properties.index === this.selectedNode.index)\n        } else if (this.action === 'Edit rNode Info') {\n          this.editorForm = this.$store.getters.visiblerNodes.features.filter(\n            (node) => node.properties.index === this.selectedNode.index)\n        }\n        this.editorForm = this.editorForm[0].properties\n        // filter properties to only the one that are editable.\n        const uneditable = ['index', 'route_width']\n        const filtered = Object.keys(this.editorForm)\n          .reduce((obj, key) => {\n            obj[key] = {\n              value: this.editorForm[key],\n              disabled: uneditable.includes(key),\n              placeholder: false,\n            }\n            return obj\n          }, {})\n        this.editorForm = filtered\n        this.showDialog = true\n      } else if (['Cut Before Node', 'Cut After Node',\n        'Move Stop', 'Delete Stop', 'Delete Anchor', 'Delete Road Anchor'].includes(this.action)) {\n        this.selectedNode = event.selectedFeature.properties\n        this.applyAction()\n      } else if (['Add Stop Inline', 'Add Anchor Inline'].includes(this.action)) {\n        this.selectedLink = event.selectedFeature.properties\n        this.cursorPosition = event.lngLat\n        this.applyAction()\n      } else if (['Add Road Node Inline', 'Add Road Anchor Inline', 'Delete rLink'].includes(this.action)) {\n        this.selectedIndex = event.selectedIndex\n        this.cursorPosition = event.lngLat\n        this.applyAction()\n      } else if (['Move Node', 'Move Anchor', 'Move rNode', 'Move rAnchor'].includes(this.action)) {\n        this.selectedNode = event.selectedFeature\n        this.cursorPosition = event.lngLat\n        this.applyAction()\n      } else if (this.action === 'Delete OD') {\n        this.selectedIndex = event.selectedIndex\n        this.cursorPosition = event.lngLat\n        this.applyAction()\n      }\n    },\n\n    applyAction () {\n      // click yes on dialog\n      this.showDialog = false\n      switch (this.action) {\n        case 'Cut Before Node':\n          this.$store.commit('cutLineAtNode', { selectedNode: this.selectedNode })\n          break\n        case 'Cut After Node':\n          this.$store.commit('cutLineFromNode', { selectedNode: this.selectedNode })\n          break\n        case 'Delete Stop':\n          this.$store.commit('deleteNode', { selectedNode: this.selectedNode })\n          break\n        case 'Edit Link Info':\n          this.$store.commit('editLinkInfo', { selectedLinkId: this.selectedLink.index, info: this.editorForm })\n          break\n        case 'Edit Node Info':\n          this.$store.commit('editNodeInfo', { selectedNodeId: this.selectedNode.index, info: this.editorForm })\n          break\n        case 'Edit Line Info':\n          // check if trip_id was changed and if it already exist.\n          if ((this.editorForm.trip_id.value !== this.$store.getters.editorTrip) &&\n          this.$store.getters.tripId.includes(this.editorForm.trip_id.value)) {\n            // reset all. just like abortChanges but without the abort changes notification\n            this.lingering = true // if not, applyAction is call after and the notification is overwrite.\n            this.editorTrip = null\n            this.$store.commit('setEditorTrip', { tripId: null, changeBounds: false })\n            this.action = null\n            this.$store.commit('changeNotification', {\n              text: $gettext('Could not apply modification. Trip_id already exist'),\n              autoClose: true,\n              color: 'red darken-2',\n            })\n          }\n          this.$store.commit('editLineInfo', this.editorForm)\n          if (this.$store.getters.editorNodes.features.length === 0) {\n            this.$store.commit('changeNotification',\n              { text: $gettext('Click on the map to start drawing'), autoClose: false })\n          }\n          break\n        case 'Edit Group Info':\n          this.$store.commit('editGroupInfo', { groupTripIds: this.groupTripIds, info: this.editorForm })\n          break\n        case 'deleteTrip':\n          this.$store.commit('deleteTrip', this.tripToDelete)\n          break\n        case 'Add Stop Inline':\n          this.$store.commit('addNodeInline', {\n            selectedLink: this.selectedLink,\n            lngLat: this.cursorPosition,\n            nodes: 'editorNodes',\n          })\n          break\n        case 'Add Anchor Inline':\n          this.$store.commit('addNodeInline', {\n            selectedLink: this.selectedLink,\n            lngLat: this.cursorPosition,\n            nodes: 'anchorNodes',\n          })\n          break\n        case 'Delete Anchor':\n          this.$store.commit('deleteAnchorNode', { selectedNode: this.selectedNode })\n          break\n        case 'Edit rLink Info':\n          this.$store.commit('editrLinkInfo', { selectedLinkId: this.selectedLink, info: this.editorForm })\n          break\n        case 'Edit Road Group Info':\n          this.$store.commit('editrGroupInfo', { selectedLinks: this.selectedLinks, info: this.editorForm })\n          // this.$refs.mapref.$refs.roadref.getBounds()\n          break\n        case 'Edit Visible Road Info':\n          this.$store.commit('editrGroupInfo', {\n            selectedLinks: this.$store.getters.visiblerLinks.features,\n            info: this.editorForm,\n          })\n          // this.$refs.mapref.$refs.roadref.getBounds()\n          break\n        case 'Edit OD Group Info':\n          this.$store.commit('od/editGroupInfo', { selectedLinks: this.selectedLinks, info: this.editorForm })\n          break\n        case 'Edit Visible OD Info':\n          this.$store.commit('od/editGroupInfo', {\n            selectedLinks: this.$store.getters['od/visibleLayer'].features,\n            info: this.editorForm,\n          })\n          break\n        case 'Edit rNode Info':\n          this.$store.commit('editrNodeInfo', { selectedNodeId: this.selectedNode.index, info: this.editorForm })\n          break\n        case 'Edit OD Info':\n          this.$store.commit('od/editLinkInfo', { selectedLinkId: this.selectedLink, info: this.editorForm })\n          break\n        case 'Add Road Node Inline':\n          this.$store.commit('addRoadNodeInline', {\n            selectedIndex: this.selectedIndex,\n            lngLat: this.cursorPosition,\n            nodes: 'rnodes',\n          })\n          break\n        case 'Add Road Anchor Inline':\n          this.$store.commit('addRoadNodeInline', {\n            selectedIndex: this.selectedIndex,\n            lngLat: this.cursorPosition,\n            nodes: 'anchorrNodes',\n          })\n          break\n        case 'Move Node':\n          this.$store.commit('moveNode', { selectedNode: this.selectedNode, lngLat: this.cursorPosition })\n          break\n        case 'Move Anchor':\n          this.$store.commit('moveAnchor', { selectedNode: this.selectedNode, lngLat: this.cursorPosition })\n          break\n        case 'Move rNode':\n          this.$store.commit('moverNode', { selectedNode: this.selectedNode, lngLat: this.cursorPosition })\n          break\n        case 'Move rAnchor':\n          this.$store.commit('moverAnchor', { selectedNode: this.selectedNode, lngLat: this.cursorPosition })\n          break\n        case 'Delete Road Anchor':\n          this.$store.commit('deleteAnchorrNode', { selectedNode: this.selectedNode })\n          break\n        case 'Delete rLink':\n          this.$store.commit('deleterLink', { selectedIndex: this.selectedIndex })\n          break\n        case 'deleterGroup':\n          this.$store.commit('deleterGroup', this.tripToDelete)\n          break\n        case 'Delete OD':\n          this.$store.commit('od/deleteOD', { selectedIndex: this.selectedIndex })\n          break\n        case 'deleteODGroup':\n          this.$store.commit('od/deleteGroup', this.tripToDelete)\n      }\n      if (!this.lingering) {\n        this.confirmChanges()\n        this.lingering = true\n      }\n    },\n    cancelAction () {\n      this.showDialog = false\n      if (!this.lingering) {\n        this.abortChanges()\n        this.lingering = true\n      }\n    },\n    confirmChanges () {\n      // confirm changes on sidePanel, this overwrite Links in store.\n      this.$store.commit('confirmChanges')\n      // put editTrip and action to null.\n      this.editorTrip = null\n      this.$store.commit('setEditorTrip', { tripId: null, changeBounds: false })\n      this.action = null\n      // notification\n      this.$store.commit('changeNotification',\n        { text: $gettext('modification applied'), autoClose: true, color: 'success' })\n    },\n    abortChanges () {\n      // unselect a trip for edition. nothing to commit on link here.\n      // put editTrip and action to null.\n      this.editorTrip = null\n      this.$store.commit('setEditorTrip', { tripId: null, changeBounds: false })\n      this.action = null\n      // notification\n      this.$store.commit('changeNotification', { text: $gettext('modification aborted'), autoClose: true })\n    },\n    deleteButton (selection) {\n      // could be a trip, or a roadLinks group\n      this.tripToDelete = selection.trip\n      this.message = selection.message\n      this.action = selection.action\n      this.showDialog = true\n    },\n\n    duplicate () {\n      if (this.$store.getters.tripId.includes(this.cloneName)) {\n        this.errorMessage = 'already exist'\n      } else {\n        this.$store.commit('cloneTrip', { tripId: this.tripToClone, name: this.cloneName })\n        this.errorMessage = ''\n        this.cloneDialog = false\n      }\n    },\n\n    cloneButton (selection) {\n      this.tripToClone = selection.trip\n      this.message = selection.message\n      // this.action = 'cloneTrip'\n      this.cloneName = selection.trip + ' copy'\n      this.cloneDialog = true\n    },\n\n    cancelClone () {\n      this.errorMessage = ''\n      this.cloneDialog = false\n    },\n    addField () {\n      let form = {}\n      if (Array.isArray(this.editorForm)) {\n        form = structuredClone(this.editorForm[0])\n      } else {\n        form = structuredClone(this.editorForm)\n      }\n      // do not append if its null, empty or already exist.\n\n      if ((Object.keys(form).includes(this.newFieldName)) | (this.newFieldName === '') |\n       (!this.newFieldName) | (this.newFieldName?.endsWith('_r'))) {\n        // put ' ' so the rule error is diplayed.\n        this.newFieldName = ''\n      } else {\n        // need to rewrite editorForm object to be updated in DOM\n        if (Array.isArray(this.editorForm)) {\n          const tempArr = structuredClone(this.editorForm)\n          tempArr.forEach(el => {\n            // if its a reverse link. only add it to the form if its not an excluded one\n            // (ex: route_width, no route_width_r)\n            if (Object.keys(el)[0].endsWith('_r')) {\n              if (!this.$store.getters.rcstAttributes.includes(this.newFieldName)) {\n                el[this.newFieldName + '_r'] = { disabled: false, placeholder: false, value: undefined }\n              }\n            } else { // normal link. add the new field to the list.\n              el[this.newFieldName] = { disabled: false, placeholder: false, value: undefined }\n            }\n          })\n          this.editorForm = null\n          this.editorForm = tempArr\n        } else {\n          form[this.newFieldName] = { disabled: false, placeholder: false, value: undefined }\n          this.editorForm = {}\n          this.editorForm = form\n        }\n\n        if (['Edit Line Info', 'Edit Link Info', 'Edit Group Info'].includes(this.action)) {\n          this.$store.commit('addPropertie', { name: this.newFieldName, table: 'links' })\n        } else if (['Edit rLink Info', 'Edit Road Group Info', 'Edit Visible Road Info'].includes(this.action)) {\n          this.$store.commit('addRoadPropertie', { name: this.newFieldName, table: 'rlinks' })\n        } else if (this.action === 'Edit Node Info') {\n          this.$store.commit('addPropertie', { name: this.newFieldName, table: 'nodes' })\n        } else if (this.action === 'Edit rNode Info') {\n          this.$store.commit('addRoadPropertie', { name: this.newFieldName, table: 'rnodes' })\n        } else if (['Edit OD Group Info', 'Edit Visible OD Info'].includes(this.action)) {\n          this.$store.commit('od/addPropertie', this.newFieldName)\n        }\n        this.newFieldName = null // null so there is no rules error.\n        this.$store.commit('changeNotification',\n          { text: $gettext('Field added'), autoClose: true, color: 'success' })\n      }\n    },\n    deleteField (field) {\n      let form = structuredClone(this.editorForm)\n      // if roadLinks.\n      if (Array.isArray(this.editorForm)) {\n        // if we delete a reverse attribute, change it to normal as _r are deleted with normal one\n        if (field.endsWith('_r')) {\n          field = field.substr(0, field.length - 2)\n        }\n        form = form.filter(el => delete el[field])\n        form = form.filter(el => delete el[field + '_r'])\n      // TC links\n      } else {\n        delete form[field]\n      }\n      this.editorForm = {}\n      this.editorForm = form\n\n      if (['Edit Line Info', 'Edit Link Info', 'Edit Group Info'].includes(this.action)) {\n        this.$store.commit('deletePropertie', { name: field, table: 'links' })\n      } else if (['Edit rLink Info', 'Edit Road Group Info', 'Edit Visible Road Info'].includes(this.action)) {\n        this.$store.commit('deleteRoadPropertie', { name: field, table: 'rlinks' })\n      } else if (this.action === 'Edit Node Info') {\n        this.$store.commit('deletePropertie', { name: field, table: 'nodes' })\n      } else if (this.action === 'Edit rNode Info') {\n        this.$store.commit('deleteRoadPropertie', { name: field, table: 'rnodes' })\n      } else if (['Edit OD Group Info', 'Edit Visible OD Info'].includes(this.action)) {\n        this.$store.commit('od/deletePropertie', { name: field })\n      }\n      this.$store.commit('changeNotification',\n        { text: $gettext('Field deleted'), autoClose: true, color: 'success' })\n    },\n    attributeNonDeletable (field) {\n      if (['Edit Line Info', 'Edit Link Info', 'Edit Group Info', 'Edit Node Info'].includes(this.action)) {\n        return this.$store.getters.defaultAttributesNames.includes(field)\n      } else {\n        return this.$store.getters.rundeletable.includes(field)\n      }\n    },\n    ToggleDeleteOption () {\n      this.showDeleteOption = !this.showDeleteOption\n\n      if (this.showDeleteOption) {\n        this.$store.commit('changeNotification', {\n          text: $gettext('This action will delete properties on every links (and reversed one for two-way roads)'),\n          autoClose: false,\n          color: 'warning',\n        })\n      } else {\n        this.$store.commit('changeNotification', { text: '', autoClose: true })\n      }\n    },\n\n  },\n}\n</script>\n<template>\n  <section class=\"map-view\">\n    <v-dialog\n      v-model=\"showDialog\"\n      scrollable\n      persistent\n      :max-width=\"numLinks>1? '40rem':'20rem'\"\n      @keydown.enter=\"applyAction\"\n      @keydown.esc=\"cancelAction\"\n    >\n      <v-card\n        max-height=\"55rem\"\n      >\n        <v-card-title class=\"text-h5\">\n          {{ ['deleteTrip','deleterGroup'].includes(action)? $gettext(\"Delete\") + ' '+ message + '?': $gettext(\"Edit Properties\") }}\n        </v-card-title>\n        <v-divider />\n        <v-card-text v-if=\"editForm\">\n          <v-row>\n            <v-col\n              v-for=\"(n,idx) in numLinks\"\n              :key=\"idx\"\n            >\n              <v-list>\n                <v-list-item v-if=\"numLinks > 1\">\n                  <v-icon\n                    :style=\"{'align-items':'center',\n                             'justify-content': 'center',\n                             transform: 'rotate('+linkDir[idx]+'deg)'}\"\n                  >\n                    fas fa-long-arrow-alt-up\n                  </v-icon>\n                </v-list-item>\n                <v-text-field\n                  v-for=\"(value, key) in orderedForm(idx)\"\n                  :key=\"key\"\n                  v-model=\"value['value']\"\n                  :label=\"key\"\n                  :hint=\"showHint? $gettext(hints[key]): ''\"\n                  :persistent-hint=\"showHint\"\n                  :filled=\"!value['disabled']\"\n                  :type=\"$store.getters.attributeType(key)\"\n                  :placeholder=\"value['placeholder']? $gettext('multiple Values'):''\"\n                  :persistent-placeholder=\" value['placeholder']? true:false \"\n                  :disabled=\"value['disabled']\"\n                  @wheel=\"$event.target.blur()\"\n                >\n                  <template\n                    v-if=\"key==='route_color'\"\n                    v-slot:append\n                  >\n                    <color-picker\n                      v-model=\"value['value']\"\n                    />\n                  </template>\n                  <template\n                    v-else-if=\"Object.keys(attributesChoices).includes(key)\"\n                    v-slot:append\n                  >\n                    <MenuSelector\n                      v-model=\"value['value']\"\n                      :items=\"attributesChoices[key]\"\n                    />\n                  </template>\n                  <template\n                    v-if=\"showDeleteOption\"\n                    v-slot:prepend\n                  >\n                    <v-btn\n                      icon\n                      x-small\n                      :disabled=\"attributeNonDeletable(key)\"\n                      color=\"error\"\n                      @click=\"()=>deleteField(key)\"\n                    >\n                      <v-icon>fas fa-trash small</v-icon>\n                    </v-btn>\n                  </template>\n                </v-text-field>\n              </v-list>\n            </v-col>\n          </v-row>\n          <v-row>\n            <v-text-field\n              v-model=\"newFieldName\"\n              :label=\" $gettext('add field')\"\n              :placeholder=\"$gettext('new field name')\"\n              filled\n              :rules=\"rules.newField\"\n              @keydown.enter.stop=\"addField\"\n              @wheel=\"$event.target.blur()\"\n            >\n              <template v-slot:append-outer>\n                <v-btn\n                  color=\"primary\"\n                  class=\"text--primary\"\n                  fab\n                  x-small\n                  @click=\"addField\"\n                >\n                  <v-icon>fas fa-plus</v-icon>\n                </v-btn>\n              </template>\n            </v-text-field>\n          </v-row>\n        </v-card-text>\n        <v-card-text v-if=\"['cloneTrip'].includes(action)\">\n          <v-text-field\n            v-model=\"cloneName\"\n            :label=\"$gettext('New name')\"\n          />\n        </v-card-text>\n        <v-divider />\n\n        <v-card-actions>\n          <v-btn\n            v-if=\"editForm\"\n            icon\n            x-small\n            @click=\"()=>showHint = !showHint\"\n          >\n            <v-icon>far fa-question-circle small</v-icon>\n          </v-btn>\n          <v-btn\n            v-if=\"editForm\"\n            icon\n            x-small\n            @click=\"ToggleDeleteOption\"\n          >\n            <v-icon v-if=\"showDeleteOption\">\n              fas fa-minus-circle fa-rotate-90\n            </v-icon>\n            <v-icon v-else>\n              fas fa-minus-circle\n            </v-icon>\n          </v-btn>\n          <v-spacer />\n\n          <v-btn\n            color=\"grey\"\n            text\n            @click=\"cancelAction\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"success\"\n            text\n            @click=\"applyAction\"\n          >\n            {{ $gettext(\"Save\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-dialog\n      v-model=\"cloneDialog\"\n      max-width=\"300\"\n      @keydown.enter=\"duplicate()\"\n      @keydown.esc=\"cancelClone\"\n    >\n      <v-card>\n        <v-card-title>\n          <span class=\"text-h5\">{{ $gettext('Duplicate and reverse') }}</span>\n          <span class=\"text-h5\">{{ message +' ?' }}</span>\n        </v-card-title>\n        <v-card-text>\n          <v-text-field\n            v-model=\"cloneName\"\n            :label=\"$gettext('New name')\"\n          />\n        </v-card-text>\n        <v-card-text :style=\"{textAlign: 'center',color:'red'}\">\n          {{ errorMessage }}\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            color=\"grey\"\n            text\n            @click=\"cancelClone\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"green darken-1\"\n            text\n            @click=\"duplicate()\"\n          >\n            {{ $gettext(\"Save\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <SidePanel\n      :selected-trips=\"selectedTrips\"\n      :selectedr-group=\"selectedrGroup\"\n      @update-tripList=\"updateSelectedTrips\"\n      @confirmChanges=\"confirmChanges\"\n      @abortChanges=\"abortChanges\"\n      @deleteButton=\"deleteButton\"\n      @cloneButton=\"cloneButton\"\n      @propertiesButton=\"actionClick\"\n      @change-mode=\"(e) => mode = e\"\n    />\n    <Map\n      ref=\"mapref\"\n      :selected-trips=\"selectedTrips\"\n      :mode=\"mode\"\n      @clickFeature=\"actionClick\"\n    />\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.map-view {\n  height: calc(100% - 50px);\n  width: 100%;\n  display: flex;\n}\n\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=00b02151&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=00b02151&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=00b02151&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=00b02151&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00b02151\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Import from '@page/Import.vue'\n\nimport auth from '../auth'\nimport Home from '@page/Home.vue'\nimport { store } from '../store/index.js'\nconst Microservices = () => import('@page/Microservices.vue')\nconst ResultMap = () => import('@page/ResultMap.vue')\nconst Run = () => import('@page/Run.vue')\nconst ResultPicture = () => import('@page/ResultPicture.vue')\nconst ResultTable = () => import('@page/ResultTable.vue')\nconst basePath = process.env.VUE_APP_BASE_PATH\n\nVue.use(Router)\n\n// only used to force to see translation to vue-gettext\nconst $gettext = s => s\n\nconst router = new Router({\n  linkExactActiveClass: 'active',\n  mode: 'history',\n  base: basePath,\n  routes: [\n    {\n      path: '/',\n      name: Import.name,\n      component: Import,\n      icon: 'fa-solid fa-upload',\n      title: $gettext('Import'),\n    },\n    {\n      path: '/Microservices',\n      name: Microservices.name,\n      component: Microservices,\n      icon: 'fas fa-tachometer-alt',\n      title: $gettext('Microservices'),\n      beforeEnter: (to, from, next) => {\n        if (!store.getters.loggedIn) {\n          store.commit('changeNotification',\n            {\n              text: $gettext('Must be logged in'),\n              autoClose: true,\n              color: 'error',\n            })\n        } else {\n          next()\n        }\n      },\n    },\n    {\n      path: '/Home',\n      name: Home.name,\n      component: Home,\n      icon: 'fa-solid fa-map',\n      title: $gettext('Map'),\n    },\n    {\n      path: '/Run',\n      name: Run.name,\n      component: Run,\n      icon: 'fa-solid fa-play',\n      title: $gettext('Parameters and Run'),\n      beforeEnter: (to, from, next) => {\n        if (store.getters['run/parametersIsEmpty']) {\n          store.commit('changeNotification',\n            {\n              text: $gettext('you need parameters to enter this page'),\n              autoClose: true,\n              color: 'error',\n            })\n        } else {\n          next()\n        }\n      },\n    },\n    {\n      path: '/ResultMap',\n      name: ResultMap.name,\n      component: ResultMap,\n      margin: '5rem',\n      icon: 'fa-solid fa-layer-group',\n      title: $gettext('Results Map'),\n    },\n    {\n      path: '/ResultPicture',\n      name: ResultPicture.name,\n      component: ResultPicture,\n      icon: 'fas fa-images',\n      title: $gettext('Results Pictures'),\n    },\n    {\n      path: '/ResultTable',\n      name: ResultTable.name,\n      component: ResultTable,\n      icon: 'fas fa-table',\n      title: $gettext('Result Table'),\n\n    },\n    {\n      path: '/callback',\n      name: 'callback',\n      beforeEnter: (to, from, next) => {\n        const currUrl = window.location.href\n        auth.auth.parseCognitoWebResponse(currUrl)\n        next('/')\n      },\n    },\n    {\n      path: '/signout',\n      name: 'signout',\n      beforeEnter: (to, from, next) => {\n        next('/')\n      },\n    },\n  ],\n})\n\n// router.replace({ 'query.s3Path': null }) // remove query in url when page is load.\n\nrouter.beforeEach((to, from, next) => {\n  if ((!['Import', 'callback', 'signout'].includes(to.name)) &&\n      store.getters.projectIsUndefined) {\n    next({ name: 'Import' })\n  } else next()\n})\n\nexport default router\n","/* eslint-disable array-callback-return */\n/* eslint-disable no-return-assign */\nimport length from '@turf/length'\nimport nearestPointOnLine from '@turf/nearest-point-on-line'\nimport Linestring from 'turf-linestring'\nimport Point from 'turf-point'\nimport { serializer } from '@comp/utils/serializer.js'\nimport { IndexAreDifferent } from '@comp/utils/utils.js'\nconst $gettext = s => s\nconst short = require('short-uuid')\n\nexport default {\n  state: {\n    links: {},\n    editorTrip: null,\n    editorNodes: {},\n    editorLinks: {},\n    editorLineInfo: {},\n    nodes: {},\n    nodesHeader: {},\n    linksHeader: {},\n    tripId: [],\n    selectedTrips: [],\n    newLink: {},\n    newNode: {},\n    changeBounds: true,\n    linkSpeed: 20, // 20KmH for time (speed/distance)\n    linksDefaultColor: '2196F3',\n    lineAttributes: [],\n    nodeAttributes: [],\n    linksAttributesChoices: {},\n    defaultAttributes: [\n      { name: 'index', type: 'String' },\n      { name: 'a', type: 'String' },\n      { name: 'b', type: 'String' },\n      { name: 'trip_id', type: 'String' },\n      { name: 'route_id', type: 'String' },\n      { name: 'agency_id', type: 'String' },\n      { name: 'route_short_name', type: 'String' },\n      { name: 'route_type', type: 'String' },\n      { name: 'route_color', type: 'String' },\n      { name: 'length', type: 'Number' }, // float\n      { name: 'time', type: 'Number' }, // float\n      { name: 'headway', type: 'Number' }, // float\n      { name: 'route_width', type: 'Number' }, // float\n      { name: 'pickup_type', type: 'Number' }, // float\n      { name: 'drop_off_type', type: 'Number' }, // int\n      { name: 'link_sequence', type: 'Number' }, // int\n      { name: 'direction_id', type: 'Number' }, // int\n    ],\n  },\n\n  mutations: {\n    initLinks (state) {\n      state.linksAttributesChoices = {}\n      state.lineAttributes = []\n      state.nodeAttributes = []\n    },\n    loadLinks (state, payload) {\n      state.links = structuredClone(payload)\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.links.crs.properties.name)) {\n        const linksHeader = { ...state.links }\n        linksHeader.features = []\n        state.linksHeader = linksHeader\n\n        state.editorLinks = linksHeader\n        // limit geometry precision to 6 digit\n        state.links.features.forEach(link => link.geometry.coordinates = link.geometry.coordinates.map(\n          points => points.map(coord => Math.round(Number(coord) * 1000000) / 1000000)))\n        this.commit('applyPropertiesTypes')\n        this.commit('getTripId')\n        // set all trips visible\n        this.commit('changeSelectedTrips', state.tripId)\n\n        this.commit('getLinksProperties')\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    loadNodes (state, payload) {\n      state.nodes = JSON.parse(JSON.stringify(payload))\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.nodes.crs.properties.name)) {\n        const nodesHeader = { ...state.nodes }\n        nodesHeader.features = []\n        state.nodesHeader = nodesHeader\n        state.editorNodes = nodesHeader\n        // limit geometry precision to 6 digit\n        state.nodes.features.forEach(node => node.geometry.coordinates = node.geometry.coordinates.map(\n          coord => Math.round(Number(coord) * 1000000) / 1000000))\n\n        this.commit('getNodesProperties')\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n    unloadFiles (state) {\n      // when we reload files (some were already loaded.)\n      state.links.features = []\n      state.nodes.features = []\n      state.editorTrip = null\n      state.tripId = []\n      state.selectedTrips = []\n    },\n    loadPTFiles (state, payload) {\n      // payload = [{path,content}, ...]\n      // get links. check that index are not duplicated, serialize them and then append to project\n      // get nodes. check that index are not duplicated, serialize them and then append to project\n\n      for (const file of payload) {\n        const currentType = file.content.features[0].geometry.type\n        if (currentType === 'LineString') {\n          if (IndexAreDifferent(file.content, state.links)) {\n            this.commit('appendNewLinks', serializer(file.content, file.path, currentType))\n          } else {\n            const err = new Error($gettext(' there is duplicated index, ') + file.path)\n            err.name = 'ImportError'\n            throw err\n          }\n        } else if (currentType === 'Point') {\n          if (IndexAreDifferent(file.content, state.nodes)) {\n            this.commit('appendNewNodes', serializer(file.content, file.path, currentType))\n          } else {\n            const err = new Error($gettext(' there is duplicated index, ') + file.path)\n            err.name = 'ImportError'\n            throw err\n          }\n        }\n      }\n    },\n\n    appendNewLinks (state, payload) {\n      // append new links to the project. payload = links geojson file\n      payload.features.forEach(link => link.geometry.coordinates = link.geometry.coordinates.map(\n        points => points.map(coord => Math.round(Number(coord) * 1000000) / 1000000)))\n\n      // state.links.features.push(...payload.links.features) will crash with large array (stack size limit)\n      payload.features.forEach(link => state.links.features.push(link))\n      this.commit('applyPropertiesTypes')\n      this.commit('getLinksProperties')\n      this.commit('getTripId')\n      this.commit('changeSelectedTrips', state.tripId)\n    },\n    appendNewNodes (state, payload) {\n      // append new nodes to the project. payload = nodes geojson file\n      payload.features.forEach(node => node.geometry.coordinates = node.geometry.coordinates.map(\n        coord => Math.round(Number(coord) * 1000000) / 1000000))\n\n      payload.features.forEach(node => state.nodes.features.push(node))\n      this.commit('applyPropertiesTypes')\n      this.commit('getNodesProperties')\n    },\n\n    getLinksProperties (state) {\n      let header = new Set([])\n      state.links.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      // header.delete('index')\n      // add all default attributes\n      const defaultAttributes = state.defaultAttributes.map(attr => attr.name)\n      defaultAttributes.forEach(att => header.add(att))\n      header = Array.from(header)\n      state.lineAttributes = header\n    },\n    getNodesProperties (state) {\n      let header = new Set([])\n      state.nodes.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      // add all default attributes\n      const defaultAttributes = [\n        'index',\n        'stop_code',\n        'stop_name']\n      defaultAttributes.forEach(att => header.add(att))\n      header = Array.from(header)\n      state.nodeAttributes = header\n    },\n    loadLinksAttributesChoices (state, payload) {\n      // eslint-disable-next-line no-return-assign\n      Object.keys(payload).forEach(key => state.linksAttributesChoices[key] = payload[key])\n      const attrs = Object.keys(state.linksAttributesChoices) // all attrbutes in attributesChoices\n      const newAttrs = attrs.filter(item => !state.lineAttributes.includes(item)) // ones not in rlinks\n      newAttrs.forEach(item => this.commit('addPropertie', { table: 'links', name: item }))\n    },\n\n    addPropertie (state, payload) {\n      // when a new line properties is added (in dataframe page)\n      if (payload.table === 'links') {\n        state.links.features.map(link => link.properties[payload.name] = null)\n        state.editorLinks.features.map(link => link.properties[payload.name] = null)\n        state.lineAttributes.push(payload.name) // could put that at applied. so we can cancel\n      } else {\n        state.nodes.features.map(node => node.properties[payload.name] = null)\n        state.editorNodes.features.map(node => node.properties[payload.name] = null)\n      }\n    },\n    deletePropertie (state, payload) {\n      // when a link property is deleted\n      if (payload.table === 'links') {\n        state.links.features.filter(link => delete link.properties[payload.name])\n        state.editorLinks.features.filter(link => delete link.properties[payload.name])\n        state.lineAttributes = state.lineAttributes.filter(item => item !== payload.name)\n      } else {\n        state.nodes.features.filter(node => delete node.properties[payload.name])\n        state.editorNodes.features.filter(node => delete node.properties[payload.name])\n      }\n    },\n    changeSelectedTrips (state, payload) {\n      // trips list of visible trip_id.\n      state.selectedTrips = payload\n    },\n\n    setEditorTrip (state, payload) {\n      // set Trip Id\n      state.editorTrip = payload.tripId\n      state.changeBounds = payload.changeBounds\n      // set editor links corresponding to trip id\n      // var filtered = {...state.links}\n      const filtered = JSON.parse(JSON.stringify(state.links))\n      filtered.features = filtered.features.filter(link => link.properties.trip_id === state.editorTrip)\n      state.editorLinks = filtered\n      // get the corresponding nodes\n      this.commit('getEditorNodes', { nodes: state.nodes })\n      this.commit('getEditorLineInfo')\n    },\n\n    cloneTrip (state, payload) {\n      // clone and reversed a trip.\n      const cloned = structuredClone(state.links)\n      cloned.features = cloned.features.filter(link => link.properties.trip_id === payload.tripId)\n\n      let linkSequence = cloned.features.length\n      for (const link of cloned.features) {\n        link.properties.trip_id = payload.name\n        // mettre dans l'autre sens  inverser 0 et 1 et leur coordones\n        link.geometry.coordinates.reverse()//\n        // inverser node a et b (proprits)\n        link.properties.a = [link.properties.b, link.properties.b = link.properties.a][0]\n        // changer le link-sequence de tous les objets\n        link.properties.link_sequence = linkSequence\n        linkSequence -= 1\n        // changer la direction\n        if (link.properties.direction_id === 0) {\n          link.properties.direction_id = 1\n        } else {\n          link.properties.direction_id = 0\n        }\n        // changer nom de l'index\n        link.properties.index = 'link_' + short.generate()\n      }\n      // inverser l'ordre des features\n      cloned.features.reverse()\n      // duplicate nodes and rename them\n      const a = cloned.features.map(item => item.properties.a)\n      const b = cloned.features.map(item => item.properties.b)\n      const ab = new Set([...a, ...b])\n      const clonedNodes = structuredClone(state.nodes)\n      clonedNodes.features = clonedNodes.features.filter(node => ab.has(node.properties.index))\n      const newName = {}\n      ab.forEach(node => newName[node] = 'node_' + short.generate())\n      clonedNodes.features.forEach(node => node.properties.index = newName[node.properties.index])\n\n      cloned.features.forEach(link => link.properties.a = newName[link.properties.a])\n      cloned.features.forEach(link => link.properties.b = newName[link.properties.b])\n\n      // push cloned links and nodes\n      state.links.features.push(...cloned.features)\n      state.nodes.features.push(...clonedNodes.features)\n\n      this.commit('getTripId')\n    },\n    getEditorNodes (state, payload) {\n      // payload contain nodes. state.nodes or state.editorNodes\n      // find the nodes in the editor links\n      const a = state.editorLinks.features.map(item => item.properties.a)\n      const b = state.editorLinks.features.map(item => item.properties.b)\n      const editorNodesList = new Set([...a, ...b])\n      // set nodes corresponding to trip id\n      const filtered = JSON.parse(JSON.stringify(payload.nodes))\n      filtered.features = filtered.features.filter(node => editorNodesList.has(node.properties.index))\n      state.editorNodes = filtered\n    },\n\n    getEditorLineInfo (state) {\n      const form = {}\n      const uneditable = ['index', 'length', 'a', 'b', 'link_sequence']\n      // empty trip, when its a newLine\n      if (state.editorLinks.features.length === 0) {\n        const defaultValue = {\n          route_id: 'Q1',\n          agency_id: 'QUENEDI',\n          route_short_name: 'Q1',\n          route_type: 'quenedi',\n          route_color: state.linksDefaultColor,\n          route_width: 3,\n          headway: 600,\n          pickup_type: 0,\n          drop_off_type: 0,\n          direction_id: 0,\n        }\n\n        state.lineAttributes.forEach(key => {\n          form[key] = {\n            value: defaultValue[key],\n            disabled: uneditable.includes(key),\n            placeholder: false,\n          }\n        })\n\n        form.trip_id = { value: state.editorTrip, disabled: false, placeholder: false }\n      } else {\n        const features = state.editorLinks.features\n\n        state.lineAttributes.forEach(key => {\n          const val = new Set(features.map(link => link.properties[key]))\n          form[key] = {\n            value: val.size > 1 ? '' : [...val][0],\n            disabled: uneditable.includes(key),\n            placeholder: val.size > 1,\n          }\n        })\n      }\n      state.editorLineInfo = form\n    },\n\n    getTripId (state) {\n      state.tripId = Array.from(new Set(state.links.features.map(item => item.properties.trip_id)))\n    },\n\n    setNewLink (state, payload) {\n      // copy editor links geoJSON, only take first (or last) link.\n      // delete some properties like id and index.\n      const uncopiedPropeties = {\n        index: null,\n        length: null,\n        time: null,\n        pickup_type: 0,\n        drop_off_type: 0,\n      }\n      // create link\n      const tempLink = structuredClone(state.editorLinks)\n      // if there is no link to copy, create one. (new Line)\n      if (tempLink.features.length === 0) {\n        // copy Line properties.\n        const linkProperties = {}\n        Object.keys(state.editorLineInfo).forEach((key) => {\n          linkProperties[key] = state.editorLineInfo[key].value\n        })\n        // set default links values\n        const defaultValue = {\n          index: 'link_' + short.generate(),\n          a: state.editorNodes.features[0].properties.index,\n          b: state.editorNodes.features[0].properties.index,\n          length: null,\n          time: null,\n          pickup_type: 0,\n          drop_off_type: 0,\n          link_sequence: 0,\n        }\n        Object.keys(defaultValue).forEach((key) => {\n          linkProperties[key] = defaultValue[key]\n        })\n\n        const linkGeometry = {\n          coordinates: [state.editorNodes.features[0].geometry.coordinates,\n            state.editorNodes.features[0].geometry.coordinates],\n          type: 'LineString',\n        }\n        const linkFeature = { geometry: linkGeometry, properties: linkProperties, type: 'Feature' }\n        tempLink.features = [linkFeature]\n      }\n\n      if (payload.action === 'Extend Line Upward') {\n        // Take last link and copy properties\n        // eslint-disable-next-line no-var\n        var features = tempLink.features[tempLink.features.length - 1]\n        Object.assign(features.properties, uncopiedPropeties)\n        // sequence +1\n        features.properties.link_sequence = features.properties.link_sequence + 1\n        // replace node a by b and delete node a\n        features.properties.a = features.properties.b\n        features.geometry.coordinates[0] = features.geometry.coordinates.slice(-1)[0]\n        // new node index (hash)\n        payload.nodeCopyId = features.properties.a\n        this.commit('setNewNode', payload)\n\n        features.properties.b = state.newNode.features[0].properties.index\n        features.properties.index = 'link_' + short.generate()\n      } else if (payload.action === 'Extend Line Downward') {\n        // Take first link and copy properties\n        // eslint-disable-next-line no-var, no-redeclare\n        var features = tempLink.features[0]\n        Object.assign(features.properties, uncopiedPropeties)\n        // sequence + 1\n        features.properties.link_sequence = features.properties.link_sequence - 1\n        //  replace node b by a and delete node b\n        features.properties.b = features.properties.a\n        features.geometry.coordinates[1] = features.geometry.coordinates[0]\n        // new node index (hash)\n        payload.nodeCopyId = features.properties.b\n        this.commit('setNewNode', payload)\n        features.properties.a = state.newNode.features[0].properties.index\n        features.properties.index = 'link_' + short.generate()\n      }\n      tempLink.features = [features]\n      state.newLink = tempLink\n      state.newLink.action = payload.action\n    },\n    createNewNode (state, payload) {\n      const nodeProperties = {}\n      state.nodeAttributes.forEach(key => {\n        nodeProperties[key] = null\n      })\n      nodeProperties.index = 'node_' + short.generate()\n      const nodeGeometry = {\n        coordinates: payload,\n        type: 'Point',\n      }\n      // Copy specified nodenewNode\n      const nodeFeatures = { geometry: nodeGeometry, properties: nodeProperties, type: 'Feature' }\n      state.editorNodes.features = [nodeFeatures]\n    },\n\n    setNewNode (state, payload) {\n      const { coordinates = [null, null] } = payload\n      const uncopiedPropeties = {}\n      state.nodeAttributes.forEach(key => {\n        uncopiedPropeties[key] = null\n      })\n      // Copy specified node\n      const tempNode = JSON.parse(JSON.stringify(state.editorNodes))\n      const features = tempNode.features.filter(node => node.properties.index === payload.nodeCopyId)[0]\n      Object.assign(features.properties, uncopiedPropeties)\n      features.properties.index = 'node_' + short.generate()\n      features.geometry.coordinates = coordinates\n      tempNode.features = [features]\n      state.newNode = tempNode\n    },\n\n    editNewLink (state, payload) {\n      // for realtime viz. this method change the linestring to the payload (mouse position)\n      // for some reason, it doesnt work when i only apply payload to coordinates[1]\n      state.newNode.features[0].geometry.coordinates = payload\n      if (state.newLink.action === 'Extend Line Upward') {\n        state.newLink.features[0].geometry.coordinates = [state.newLink.features[0].geometry.coordinates[0], payload]\n      } else {\n        state.newLink.features[0].geometry.coordinates = [payload, state.newLink.features[0].geometry.coordinates[1]]\n      }\n    },\n\n    applyNewLink (state, payload) {\n      // nodeId: this.selectedNodeId, geom: pointGeom, action: Extend Line Upward\n      // get linestring length in km\n      this.commit('setNewLink', { action: payload.action })\n      this.commit('editNewLink', payload.geom)\n\n      const distance = length(state.newLink)\n      state.newLink.features[0].properties.length = Number((distance * 1000).toFixed(0)) // metres\n      const time = distance / state.linkSpeed * 3600 // 20kmh hard code speed. time in secs\n\n      state.newLink.features[0].properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n\n      const action = state.newLink.action\n      if (action === 'Extend Line Upward') {\n        state.editorLinks.features.push(state.newLink.features[0])\n        state.editorNodes.features.push(state.newNode.features[0])\n      } else if (action === 'Extend Line Downward') {\n        state.editorLinks.features.splice(0, 0, state.newLink.features[0])\n        state.editorNodes.features.splice(0, 0, state.newNode.features[0])\n        state.editorLinks.features.forEach(link => link.properties.link_sequence += 1)\n      }\n    },\n\n    deleteNode (state, payload) {\n      const nodeIndex = payload.selectedNode.index\n      // remove node\n      state.editorNodes.features = state.editorNodes.features.filter(node => node.properties.index !== nodeIndex)\n      // changing link1 change editorLinks as it is an observer.\n      const link1 = state.editorLinks.features.filter(link => link.properties.b === nodeIndex)[0] // link is extented\n      const link2 = state.editorLinks.features.filter(link => link.properties.a === nodeIndex)[0] // link is deleted\n      // if the last or first node is selected, there is only one link. The node and the link are deleted.\n      if (!link1) {\n        state.editorLinks.features = state.editorLinks.features.filter(\n          link => link.properties.index !== link2.properties.index)\n        // a link was remove, link_sequence -1\n        state.editorLinks.features.forEach(link => link.properties.link_sequence -= 1)\n      } else if (!link2) {\n        state.editorLinks.features = state.editorLinks.features.filter(\n          link => link.properties.index !== link1.properties.index)\n        // the node is inbetween 2 links. 1 link is deleted, and the other is extented.\n      } else {\n        link1.geometry.coordinates = [\n          ...link1.geometry.coordinates.slice(0, -1),\n          ...link2.geometry.coordinates.slice(1)]\n        link1.properties.b = link2.properties.b\n        link1.properties.length = Number(link1.properties.length) + Number(link2.properties.length)\n        link1.properties.time = Number(link1.properties.time) + Number(link2.properties.time)\n        // find removed link index. drop everylinks link_sequence after by 1\n        const featureIndex = state.editorLinks.features.findIndex(\n          link => link.properties.index === link2.properties.index)\n        state.editorLinks.features.slice(featureIndex).forEach(\n          link => link.properties.link_sequence -= 1)\n        // delete link2\n        state.editorLinks.features = state.editorLinks.features.filter(\n          link => link.properties.index !== link2.properties.index)\n      }\n    },\n\n    splitLink (state, payload) {\n      const linkIndex = payload.selectedLink.index\n      const featureIndex = state.editorLinks.features.findIndex(link => link.properties.index === linkIndex)\n      // changing link1 change editorLinks as it is an observer.\n      const link1 = state.editorLinks.features[featureIndex] // this link is extented\n      const link2 = structuredClone(link1)\n      // distance du point (entre 0 et 1) sur le lien original\n      const ratio = payload.offset\n\n      link1.properties.b = state.newNode.features[0].properties.index\n      link1.geometry.coordinates = [\n        ...link1.geometry.coordinates.slice(0, payload.sliceIndex),\n        state.newNode.features[0].geometry.coordinates,\n      ]\n\n      link1.properties.index = 'link_' + short.generate() // link1.properties.index+ '-1'\n      link1.properties.length = link1.properties.length * ratio\n      link1.properties.time = link1.properties.time * ratio\n\n      link2.properties.a = state.newNode.features[0].properties.index\n      link2.geometry.coordinates = [\n        state.newNode.features[0].geometry.coordinates,\n        ...link2.geometry.coordinates.slice(payload.sliceIndex),\n      ]\n      link2.properties.index = 'link_' + short.generate() // link2.properties.index+ '-2'\n      link2.properties.length = link2.properties.length * (1 - ratio)\n      link2.properties.time = link2.properties.time * (1 - ratio)\n\n      state.editorLinks.features.splice(featureIndex + 1, 0, link2)\n      state.editorNodes.features.push(state.newNode.features[0])\n\n      // add +1 to every link sequence afer link1\n      const seq = link1.properties.link_sequence\n      // everything after link1 except link2\n      state.editorLinks.features.filter(link => link.properties.link_sequence > seq).forEach(\n        link => link.properties.link_sequence += 1)\n      // add link2 sequence after.\n      link2.properties.link_sequence += 1\n    },\n\n    addNodeInline (state, payload) {\n      // payload contain selectedLink and event.lngLat (clicked point)\n      let linkGeom = state.editorLinks.features.filter((link) => link.properties.index === payload.selectedLink.index)\n      const nodeCopyId = linkGeom[0].properties.a\n      linkGeom = Linestring(linkGeom[0].geometry.coordinates)\n      const clickedPoint = Point(Object.values(payload.lngLat))\n      const snapped = nearestPointOnLine(linkGeom, clickedPoint, { units: 'kilometers' })\n      const dist = length(linkGeom, { units: 'kilometers' }) // dist\n      // for multiString, gives the index of the closest one, add +1 for the slice.\n      const sliceIndex = snapped.properties.index + 1\n      const offset = snapped.properties.location / dist\n      if (payload.nodes === 'editorNodes') {\n        this.commit('setNewNode', { coordinates: snapped.geometry.coordinates, nodeCopyId: nodeCopyId })\n        this.commit('splitLink', { selectedLink: payload.selectedLink, offset: offset, sliceIndex: sliceIndex })\n      // Anchor Nodes\n      } else {\n        this.commit('addAnchorNode', {\n          selectedLink: payload.selectedLink,\n          coordinates: snapped.geometry.coordinates,\n          sliceIndex: sliceIndex,\n        })\n      }\n\n      // this.commit('setNewNode', null) // init new node to null\n    },\n    addAnchorNode (state, payload) {\n      const linkIndex = payload.selectedLink.index\n      const featureIndex = state.editorLinks.features.findIndex(link => link.properties.index === linkIndex)\n      // changing link change editorLinks as it is an observer.\n      const link = state.editorLinks.features[featureIndex]\n      link.geometry.coordinates.splice(payload.sliceIndex, 0, payload.coordinates)\n    },\n    deleteAnchorNode (state, payload) {\n      const linkIndex = payload.selectedNode.linkIndex\n      const coordinatedIndex = payload.selectedNode.coordinatedIndex\n      const link = state.editorLinks.features.filter(feature => feature.properties.index === linkIndex)[0]\n      link.geometry.coordinates = [...link.geometry.coordinates.slice(0, coordinatedIndex),\n        ...link.geometry.coordinates.slice(coordinatedIndex + 1)]\n    },\n    moveAnchor (state, payload) {\n      const linkIndex = payload.selectedNode.properties.linkIndex\n      const coordinatedIndex = payload.selectedNode.properties.coordinatedIndex\n      const link = state.editorLinks.features.filter(feature => feature.properties.index === linkIndex)[0]\n      link.geometry.coordinates = [...link.geometry.coordinates.slice(0, coordinatedIndex),\n        payload.lngLat,\n        ...link.geometry.coordinates.slice(coordinatedIndex + 1)]\n\n      // update time and distance\n      const distance = length(link)\n      link.properties.length = Number((distance * 1000).toFixed(0)) // metres\n      const time = distance / state.linkSpeed * 3600 // 20kmh hard code speed. time in secs\n      link.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n    },\n\n    moveNode (state, payload) {\n      const nodeIndex = payload.selectedNode.properties.index\n      // remove node\n      const newNode = state.editorNodes.features.filter(node => node.properties.index === nodeIndex)[0]\n      newNode.geometry.coordinates = payload.lngLat\n\n      // changing links\n      const link1 = state.editorLinks.features.filter(link => link.properties.b === nodeIndex)[0]\n      const link2 = state.editorLinks.features.filter(link => link.properties.a === nodeIndex)[0]\n      // update links geometry. check if exist first (if we take the first|last node there is only 1 link)\n      if (link1) {\n        // note: props are unchanged. even tho the length change, the time and length are unchanged.\n        link1.geometry.coordinates = [...link1.geometry.coordinates.slice(0, -1), payload.lngLat]\n        // update time and distance\n        const distance = length(link1)\n        link1.properties.length = Number((distance * 1000).toFixed(0)) // metres\n        const time = distance / state.linkSpeed * 3600 // 20kmh hard code speed. time in secs\n        link1.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n      }\n      if (link2) {\n        link2.geometry.coordinates = [payload.lngLat, ...link2.geometry.coordinates.slice(1)]\n        // update time and distance\n        const distance = length(link2)\n        link2.properties.length = Number((distance * 1000).toFixed(0)) // metres\n        const time = distance / state.linkSpeed * 3600 // 20kmh hard code speed. time in secs\n        link2.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n      }\n    },\n\n    cutLineFromNode (state, payload) {\n      // Filter links from selected line\n      const nodeId = payload.selectedNode.index\n      state.editorLinks.features.sort((a, b) => a.properties.link_sequence - b.properties.link_sequence)\n\n      let toDelete = []\n      for (const [i, link] of state.editorLinks.features.entries()) {\n        if (link.properties.b === nodeId) {\n          toDelete = state.editorLinks.features.slice(i + 1)\n          break\n        }\n      }\n      // Delete links\n      state.editorLinks.features = state.editorLinks.features.filter(item => !toDelete.includes(item))\n      this.commit('getEditorNodes', { nodes: state.editorNodes })\n    },\n\n    cutLineAtNode (state, payload) {\n      // Filter links from selected line\n      const nodeId = payload.selectedNode.index\n      state.editorLinks.features.sort((a, b) => a.properties.link_sequence - b.properties.link_sequence)\n\n      let toDelete = []\n      for (const [i, link] of state.editorLinks.features.entries()) {\n        if (link.properties.a === nodeId) {\n          toDelete = state.editorLinks.features.slice(0, i)\n          break\n        }\n      }\n      // Delete links\n      state.editorLinks.features = state.editorLinks.features.filter(item => !toDelete.includes(item))\n      this.commit('getEditorNodes', { nodes: state.editorNodes })\n    },\n\n    editLineInfo (state, payload) {\n      state.editorLineInfo = payload\n      // get only keys that are not unmodified multipled Values (value=='' and placeholder==true)\n      const props = Object.keys(payload).filter(key =>\n        ((payload[key].value !== '') || !payload[key].placeholder) && (!payload[key].disabled))\n      // add new line info to each links of each trips.\n      state.editorLinks.features.forEach(\n        (features) => props.forEach((key) => features.properties[key] = payload[key].value))\n    },\n\n    editLinkInfo (state, payload) {\n      // get selected link in editorLinks and modify the changes attributes.\n      const { selectedLinkId, info } = payload\n      const props = Object.keys(info)\n      state.editorLinks.features.filter(\n        function (link) {\n          if (link.properties.index === selectedLinkId) {\n            props.forEach((key) => link.properties[key] = info[key].value)\n          }\n        },\n      )\n      this.commit('getEditorLineInfo')\n    },\n\n    editNodeInfo (state, payload) {\n      // get selected node in editorNodes and modify the changes attributes.\n      const { selectedNodeId, info } = payload\n      const props = Object.keys(info)\n      state.editorNodes.features.filter(\n        // eslint-disable-next-line array-callback-return\n        function (node) {\n          if (node.properties.index === selectedNodeId) {\n            props.forEach((key) => node.properties[key] = info[key].value)\n          }\n        },\n      )\n    },\n\n    editGroupInfo (state, payload) {\n      // edit line info on multiple trips at once.\n      const editorGroupInfo = payload.info\n      const groupTripIds = payload.groupTripIds\n      // get only keys that are not unmodified multipled Values (value=='' and placeholder==true)\n      const props = Object.keys(editorGroupInfo).filter(key =>\n        ((editorGroupInfo[key].value !== '') || !editorGroupInfo[key].placeholder))\n      // add new line info to each links of each trips.\n      const tempLinks = state.links.features.filter(link => groupTripIds.includes(link.properties.trip_id))\n      tempLinks.forEach(\n        (features) => props.forEach((key) => features.properties[key] = editorGroupInfo[key].value))\n      // get tripId list\n      this.commit('getTripId')\n    },\n    deleteUnusedNodes (state) {\n      // delete every every nodes not in links\n      const a = state.links.features.map(item => item.properties.a)\n      const b = state.links.features.map(item => item.properties.b)\n      const nodesInLinks = new Set([...a, ...b])\n      state.nodes.features = state.nodes.features.filter(node => nodesInLinks.has(node.properties.index))\n    },\n\n    confirmChanges (state) { // apply change to Links\n      const filtered = { ...state.links }\n\n      filtered.features = filtered.features.filter(link => link.properties.trip_id === state.editorTrip)\n      const toDelete = filtered.features.filter(item => !state.editorLinks.features.includes(item))\n      // find index of soon to be deleted links\n      if (state.tripId.includes(state.editorTrip)) {\n        // eslint-disable-next-line no-var\n        var index = state.links.features.findIndex(link => link.properties.trip_id === state.editorTrip)\n      } else {\n        // eslint-disable-next-line no-var, no-redeclare\n        var index = 0\n      }\n      // delete links that were edited.\n      state.links.features = state.links.features.filter(item => !toDelete.includes(item))\n      // add edited links to links.\n\n      state.links.features.splice(index, 0, ...state.editorLinks.features)\n      // all new nodes.\n      const nodesList = state.nodes.features.map(item => item.properties.index)\n      const newNodes = { ...state.editorNodes }\n      newNodes.features = newNodes.features.filter(node => !nodesList.includes(node.properties.index))\n      state.nodes.features.push(...newNodes.features)\n\n      // for each editor nodes, apply new properties.\n      state.nodes.features.filter(\n        function (node) {\n          state.editorNodes.features.forEach(\n            function (eNode) {\n              if (node.properties.index === eNode.properties.index) {\n                node.properties = eNode.properties\n                node.geometry = eNode.geometry\n              }\n            })\n        })\n\n      // delete every every nodes not in links\n      this.commit('deleteUnusedNodes')\n\n      // For every Links containing an editor Nodes. update Geometry.\n      // (this is necessary when we move a node that is share between multiplde lines)\n      // get a list of all links (excluding editorLinks) that contain the selected node\n      const editorNodesList = new Set(state.editorNodes.features.map(item => item.properties.index))\n      // get list of link with a node A modifieed\n      const linksA = state.links.features.filter(\n        link => link.properties.trip_id !== state.editorTrip).filter(\n        item => editorNodesList.has(item.properties.a))\n      // apply new node geometry\n      linksA.forEach(link => link.geometry.coordinates = [\n        state.editorNodes.features.filter(node => node.properties.index === link.properties.a)[0].geometry.coordinates,\n        ...link.geometry.coordinates.slice(1),\n      ])\n      // same for nodes b\n      const linksB = state.links.features.filter(\n        link => link.properties.trip_id !== state.editorTrip).filter(\n        item => editorNodesList.has(item.properties.b))\n      linksB.forEach(link => link.geometry.coordinates = [\n        ...link.geometry.coordinates.slice(0, -1),\n        state.editorNodes.features.filter(node => node.properties.index === link.properties.b)[0].geometry.coordinates,\n      ])\n\n      state.newLink = {}\n      state.newNode = {}\n\n      this.commit('applyPropertiesTypes')\n\n      // get tripId list\n      this.commit('getTripId')\n      this.commit('getLinksProperties')\n    },\n\n    deleteTrip (state, payload) {\n      // payload = a single trip_id or a list or trips_id\n      // if its a list : delete all of them. else: delete single trip\n      if (typeof payload === 'object') {\n        state.links.features = state.links.features.filter(link => !payload.includes(link.properties.trip_id))\n      } else {\n        state.links.features = state.links.features.filter(link => link.properties.trip_id !== payload)\n      }\n      // delete every every nodes not in links\n      this.commit('deleteUnusedNodes')\n      // get tripId list\n      this.commit('getTripId')\n    },\n    applyPropertiesTypes (state) {\n      state.defaultAttributes.forEach(attr => {\n        if (attr.type === 'String') {\n          state.links.features.forEach(link => link.properties[attr.name] = String(link.properties[attr.name]))\n        } else if (attr.type === 'Number') {\n          state.links.features.forEach(link => link.properties[attr.name] = Number(link.properties[attr.name]))\n        }\n      })\n    },\n  },\n\n  getters: {\n    links: (state) => state.links,\n    nodes: (state) => state.nodes,\n    linkSpeed: (state) => state.linkSpeed,\n    linksIsEmpty: (state) => state.links.features.length === 0,\n    route_id: (state) => state.route_id,\n    editorTrip: (state) => state.editorTrip,\n    editorLinks: (state) => state.editorLinks,\n    editorNodes: (state) => state.editorNodes,\n    tripId: (state) => state.tripId,\n    selectedTrips: (state) => state.selectedTrips,\n    editorLineInfo: (state) => state.editorLineInfo,\n    newLink: (state) => state.newLink,\n    newNode: (state) => state.newNode,\n    firstNodeId: (state) => state.editorNodes.features.length > 1\n      ? state.editorLinks.features[0].properties.a\n      : state.editorNodes.features[0].properties.index,\n    lastNodeId: (state) => state.editorNodes.features.length > 1\n      ? state.editorLinks.features.slice(-1)[0].properties.b\n      : state.editorNodes.features[0].properties.index,\n    firstNode: (state, getters) => state.editorTrip\n      ? state.editorNodes.features.filter(\n        (node) => node.properties.index === getters.firstNodeId)[0]\n      : null,\n    lastNode: (state, getters) => state.editorTrip\n      ? state.editorNodes.features.filter(\n        (node) => node.properties.index === getters.lastNodeId)[0]\n      : null,\n    lineAttributes: (state) => state.lineAttributes.sort(),\n    nodeAttributes: (state) => state.nodeAttributes,\n    changeBounds: (state) => state.changeBounds,\n    nodesHeader: (state) => state.nodesHeader,\n    linksHeader: (state) => state.linksHeader,\n    anchorNodes: (state) => {\n      const nodes = structuredClone(state.nodesHeader)\n      state.editorLinks.features.filter(link => link.geometry.coordinates.length > 2).forEach(\n        feature => {\n          const linkIndex = feature.properties.index\n          feature.geometry.coordinates.slice(1, -1).forEach(\n            (point, idx) => nodes.features.push({\n              properties: { index: short.generate(), linkIndex: linkIndex, coordinatedIndex: idx + 1 },\n              geometry: { coordinates: point, type: 'Point' },\n            }),\n          )\n        },\n      )\n\n      return nodes\n    },\n    // this return the attribute type, of undefined.\n    attributeType: (state) => (name) => state.defaultAttributes.filter(attr => attr.name === name)[0]?.type,\n    defaultAttributesNames: (state) => state.defaultAttributes.map(attr => attr.name),\n    linksAttributesChoices: (state) => state.linksAttributesChoices,\n  },\n}\n","/* eslint-disable no-case-declarations */\n/* eslint-disable array-callback-return */\n/* eslint-disable no-return-assign */\nimport length from '@turf/length'\nimport nearestPointOnLine from '@turf/nearest-point-on-line'\nimport booleanContains from '@turf/boolean-contains'\nimport booleanCrosses from '@turf/boolean-crosses'\nimport Linestring from 'turf-linestring'\nimport Point from 'turf-point'\nimport bearing from '@turf/bearing'\nimport { serializer } from '@comp/utils/serializer.js'\nimport { IndexAreDifferent } from '@comp/utils/utils.js'\n\nconst $gettext = s => s\n\nconst short = require('short-uuid')\n\n// eslint-disable-next-line max-len\nconst defaultrCstAttributes = ['a', 'b', 'index', 'length', 'route_color', 'oneway', 'route_width', 'highway', 'cycleway', 'cycleway_reverse', 'incline']\nconst defaultrUndeletable = ['index', 'a', 'b', 'length', 'route_color', 'oneway', 'time', 'speed', 'time_r', 'speed_r']\n\nexport default {\n  state: {\n    rlinks: {},\n    rnodes: {},\n    rlinksHeader: {},\n    rnodesHeader: {},\n    selectedrFilter: '',\n    selectedrGroup: [],\n    filteredrCategory: [],\n    rlineAttributes: [],\n    rnodeAttributes: [],\n    newrNode: {},\n    visiblerLinks: {},\n    renderedrLinks: {},\n    visiblerNodes: {},\n    renderedrNodes: {},\n    connectedLinks: [],\n    defaultHighway: 'quenedi',\n    roadSpeed: 20,\n    rlinksDefaultColor: '2196F3',\n    rlinksAttributesChoices: {},\n    // those are the list of attributes we do not want to duplicated with _r.\n    rcstAttributes: defaultrCstAttributes,\n    rundeletable: defaultrUndeletable,\n    reversedAttributes: [],\n  },\n\n  mutations: {\n    initrLinks (state) {\n      state.rlinksAttributesChoices = {}\n      state.rlineAttributes = []\n      state.rnodeAttributes = []\n      state.rcstAttributes = structuredClone(defaultrCstAttributes)\n      state.rundeletable = structuredClone(defaultrUndeletable)\n      state.rseversedAttributes = []\n    },\n\n    loadrLinks (state, payload) {\n      state.rlinks = structuredClone(payload)\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.rlinks.crs.properties.name)) {\n        const rlinksHeader = { ...state.rlinks }\n        rlinksHeader.features = []\n        state.rlinksHeader = rlinksHeader\n        state.visiblerLinks = structuredClone(rlinksHeader)\n        state.renderedrLinks = structuredClone(rlinksHeader)\n        // limit geometry precision to 6 digit\n        state.rlinks.features.forEach(link => link.geometry.coordinates = link.geometry.coordinates.map(\n          points => points.map(coord => Math.round(Number(coord) * 1000000) / 1000000)))\n        state.filteredrCategory = []\n        state.selectedrGroup = []\n        this.commit('getrLinksProperties')\n        this.commit('splitOneway')\n        // set all trips visible\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    loadrNodes (state, payload) {\n      state.rnodes = JSON.parse(JSON.stringify(payload))\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.rnodes.crs.properties.name)) {\n        const rnodesHeader = { ...state.rnodes }\n        rnodesHeader.features = []\n        state.rnodesHeader = rnodesHeader\n        state.visiblerNodes = structuredClone(rnodesHeader)\n        state.renderedrNodes = structuredClone(rnodesHeader)\n        // limit geometry precision to 6 digit\n        state.rnodes.features.forEach(node => node.geometry.coordinates = node.geometry.coordinates.map(\n          coord => Math.round(Number(coord) * 1000000) / 1000000))\n\n        this.commit('getrNodesProperties')\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    loadRoadFiles (state, payload) {\n      // payload = [{path,content},...]\n      // get rlinks. check that index are not duplicated, serialize them and then append to project\n      // get rnodes. check that index are not duplicated, serialize them and then append to project\n\n      for (const file of payload) {\n        const currentType = file.content.features[0].geometry.type\n        if (currentType === 'LineString') {\n          if (IndexAreDifferent(file.content, state.rlinks)) {\n            this.commit('appendNewrLinks', serializer(file.content, file.path, currentType))\n          } else {\n            const err = new Error($gettext(' there is duplicated index, ') + file.path)\n            err.name = 'ImportError'\n            throw err\n          }\n        } else if (currentType === 'Point') {\n          if (IndexAreDifferent(file.content, state.rnodes)) {\n            this.commit('appendNewrNodes', serializer(file.content, file.path, currentType))\n          } else {\n            const err = new Error($gettext(' there is duplicated index, ') + file.path)\n            err.name = 'ImportError'\n            throw err\n          }\n        }\n      }\n    },\n\n    appendNewrLinks (state, payload) {\n      // append new links and node to the project (import page)\n      payload.features.forEach(link => link.geometry.coordinates = link.geometry.coordinates.map(\n        points => points.map(coord => Math.round(Number(coord) * 1000000) / 1000000)))\n\n      payload.features.forEach(link => state.rlinks.features.push(link))\n      this.commit('getrLinksProperties')\n      this.commit('splitOneway')\n      this.commit('getFilteredrCat')\n    },\n\n    appendNewrNodes (state, payload) {\n      // append new links and node to the project (import page)\n      payload.features.forEach(node => node.geometry.coordinates = node.geometry.coordinates.map(\n        coord => Math.round(Number(coord) * 1000000) / 1000000))\n\n      payload.features.forEach(node => state.rnodes.features.push(node))\n      this.commit('splitOneway')\n      this.commit('getrNodesProperties')\n    },\n\n    getrLinksProperties (state) {\n      let header = new Set([])\n      state.rlinks.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => { if (!key.endsWith('_r')) header.add(key) })\n      })\n      // header.delete('index')\n      // add all default attributes\n\n      const defaultAttributes = [\n        'index', 'a', 'b', 'route_color']\n      defaultAttributes.forEach(att => header.add(att))\n      state.rlineAttributes.forEach(att => header.add(att))\n      header = Array.from(header)\n      state.rlineAttributes = header\n      if (header.includes('highway')) {\n        state.selectedrFilter = 'highway'\n      } else {\n        state.selectedrFilter = header[0]\n      }\n    },\n    getrNodesProperties (state) {\n      let header = new Set([])\n      state.rnodes.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      // add all default attributes\n      const defaultAttributes = ['index']\n      defaultAttributes.forEach(att => header.add(att))\n      header = Array.from(header)\n      state.rnodeAttributes = header\n    },\n\n    loadrLinksAttributesChoices (state, payload) {\n      // eslint-disable-next-line no-return-assign\n      Object.keys(payload).forEach(key => state.rlinksAttributesChoices[key] = payload[key])\n      const attrs = Object.keys(state.rlinksAttributesChoices) // all attrbutes in attributesChoices\n      let newAttrs = attrs.filter(item => !state.rlineAttributes.includes(item)) // ones not in rlinks\n      // in all new attrs. put as cst the ones that does not have a _r defined. (dont create one.)\n      const reversedAttrs = attrs.filter(item => item.endsWith('_r'))\n      let cstAttrs = attrs.filter(attr => !reversedAttrs.includes(attr + '_r'))\n      cstAttrs = cstAttrs.filter(attr => !state.rcstAttributes.includes(attr)) // not already there\n      cstAttrs.forEach(attr => state.rcstAttributes.push(attr)) // push as constant\n      newAttrs = newAttrs.filter(item => !item.endsWith('_r'))\n      // if an attribute is not desined in its _r variant. we do not create a _r attrivbute\n      // add eeach not _r attributes in the attributes.\n      newAttrs.forEach(item => this.commit('addRoadPropertie', { table: 'rlinks', name: item }))\n    },\n\n    addRoadPropertie (state, payload) {\n      // when a new line properties is added (in dataframe page)\n      if (payload.table === 'rlinks') {\n        state.rlinks.features.map(link => link.properties[payload.name] = null)\n        state.visiblerLinks.features.map(link => link.properties[payload.name] = null)\n        state.rlineAttributes.push(payload.name) // could put that at applied. so we can cancel\n        // add reverse attribute if its not one we dont want to duplicated (ex: route_width)\n        if (!state.rcstAttributes.includes(payload.name)) {\n          state.reversedAttributes.push(payload.name + '_r')\n        }\n      } else {\n        state.rnodes.features.map(node => node.properties[payload.name] = null)\n        state.visiblerNodes.features.map(node => node.properties[payload.name] = null)\n        state.rnodeAttributes.push(payload.name)\n      }\n    },\n    deleteRoadPropertie (state, payload) {\n      if (payload.table === 'rlinks') {\n        state.rlinks.features.filter(link => delete link.properties[payload.name])\n        state.rlinks.features.filter(link => delete link.properties[payload.name + '_r'])\n        state.visiblerLinks.features.filter(link => delete link.properties[payload.name])\n        state.visiblerLinks.features.filter(link => delete link.properties[payload.name + '_r'])\n\n        state.rlineAttributes = state.rlineAttributes.filter(item => item !== payload.name)\n        state.reversedAttributes = state.reversedAttributes.filter(item => item !== payload.name + '_r')\n      } else {\n        state.rnodes.features.filter(node => delete node.properties[payload.name])\n        state.visiblerNodes.features.filter(node => delete node.properties[payload.name])\n      }\n    },\n\n    changeSelectedrFilter (state, payload) {\n      state.selectedrFilter = payload\n      this.commit('getFilteredrCat')\n    },\n    getFilteredrCat (state) {\n      // for a given filter (key) get array of unique value\n      // e.g. get ['bus','subway'] for route_type\n      const val = Array.from(new Set(state.rlinks.features.map(\n        item => item.properties[state.selectedrFilter])))\n      state.filteredrCategory = val\n    },\n    splitOneway (state) {\n      if (state.rlineAttributes.includes('oneway')) {\n        state.rlinks.features.forEach(link => {\n          if ([true, 'true', '1', 1].includes(link.properties.oneway)) {\n            link.properties.oneway = '1'\n          } else {\n            link.properties.oneway = '0'\n          }\n        })\n        // const oneways = state.rlinks.features.filter(link => !link.properties.oneway)\n        state.reversedAttributes = state.rlineAttributes.filter(\n          attr => !state.rcstAttributes.includes(attr)).map(\n          attr => attr + '_r')\n        state.rlinks.features.forEach(link => {\n          if (link.properties.oneway === '0') {\n            state.reversedAttributes.forEach(attr => {\n              if (!link.properties[attr]) link.properties[attr] = link.properties[attr.slice(0, -2)]\n            })\n          }\n        },\n        )\n      }\n    },\n\n    changeVisibleRoads (state, payload) {\n      // trips list of visible trip_id.\n      const method = payload.method\n      const data = payload.data\n      const cat = payload.category\n      state.selectedrFilter = cat\n      let tempLinks = null\n      switch (method) {\n        case 'showAll':\n          state.selectedrGroup = data\n          // need to slice. so it doest change if we append to rlinks.\n          state.visiblerLinks.features = state.rlinks.features.slice()\n          break\n        case 'hideAll':\n          state.selectedrGroup = data\n          state.visiblerLinks.features = []\n          break\n        case 'add':\n          if (!state.selectedrGroup.includes(data[0])) {\n            state.selectedrGroup.push(data[0])\n          }\n          tempLinks = state.rlinks.features.filter(\n            link => link.properties[cat] === data[0])\n          // state.visiblerLinks.features.push(...tempLinks) will crash with large array (stack size limit)\n          tempLinks.forEach(link => state.visiblerLinks.features.push(link))\n          break\n        case 'remove':\n          state.selectedrGroup = state.selectedrGroup.filter(el => el !== data[0])\n          tempLinks = new Set(state.visiblerLinks.features.filter(\n            link => link.properties[cat] === data[0]))\n          state.visiblerLinks.features = state.visiblerLinks.features.filter(link => !tempLinks.has(link))\n          break\n      }\n      this.commit('getVisiblerNodes', { method: method })\n    },\n\n    refreshVisibleRoads (state) {\n      const group = new Set(state.selectedrGroup)\n      const cat = state.selectedrFilter\n      state.visiblerLinks.features = state.rlinks.features.filter(link => group.has(link.properties[cat]))\n      this.commit('getVisiblerNodes', { method: 'add' })\n      // when we rename a group (highway => test), are rename many group.\n      // remove nonexistant group in the selected group.\n      const possibleGroups = new Set(state.visiblerLinks.features.map(\n        item => item.properties[cat]))\n      state.selectedrGroup = [...possibleGroups].filter(x => group.has(x))\n    },\n    getVisiblerNodes (state, payload) {\n      // payload contain nodes. state.nodes or state.editorNodes\n      // find the nodes in the editor links\n      let a = []\n      let b = []\n      let rNodesList = []\n      switch (payload.method) {\n        case 'showAll':\n          state.visiblerNodes.features = state.rnodes.features\n          break\n        case 'hideAll':\n          state.visiblerNodes.features = []\n          break\n        case 'add':\n          // cannot simply remove the nodes from the deleted links. they can be used by others visibles links\n          a = state.visiblerLinks.features.map(item => item.properties.a)\n          b = state.visiblerLinks.features.map(item => item.properties.b)\n          rNodesList = new Set([...a, ...b])\n          // use rnodes as they are new to visiblerNodes\n          state.visiblerNodes.features = state.rnodes.features.filter(\n            node => rNodesList.has(node.properties.index))\n          break\n        case 'remove' :\n          // cannot simply remove the nodes from the deleted links. they can be used by others visibles links\n          a = state.visiblerLinks.features.map(item => item.properties.a)\n          b = state.visiblerLinks.features.map(item => item.properties.b)\n          rNodesList = new Set([...a, ...b])\n          // use visibleRnodes, as they are already inside of it.\n          state.visiblerNodes.features = state.visiblerNodes.features.filter(\n            node => rNodesList.has(node.properties.index))\n          break\n        // case 'refresh'\n      }\n    },\n    getRenderedrLinks (state, payload) {\n      state.renderedrLinks.features = state.visiblerLinks.features.filter(\n        link => (booleanContains(payload.bbox, link) || booleanCrosses(payload.bbox, link)))\n      this.commit('getRenderedrNodes')\n    },\n    getRenderedrNodes (state) { // get rendered nodes\n      const a = state.renderedrLinks.features.map(item => item.properties.a)\n      const b = state.renderedrLinks.features.map(item => item.properties.b)\n      const rNodesList = new Set([...a, ...b])\n      // filter with rnodesList\n      state.renderedrNodes.features = state.visiblerNodes.features.filter(node => rNodesList.has(node.properties.index))\n    },\n    setRenderedrLinks (state, payload) {\n      if (payload.method === 'visible') {\n        state.renderedrLinks.features = state.visiblerLinks.features\n        state.renderedrNodes.features = []\n      } else {\n        state.renderedrLinks.features = []\n        state.renderedrNodes.features = []\n      }\n    },\n\n    editrLinkInfo (state, payload) {\n      // get selected link in editorLinks and modify the changes attributes.\n      const { selectedLinkId, info } = payload\n      for (let i = 0; i < selectedLinkId.length; i++) {\n        const props = Object.keys(info[i])\n        const link = state.renderedrLinks.features.filter((link) => link.properties.index === selectedLinkId[i])[0]\n        // if we change a one way to a 2 way, copy one way properties to the reverse one.\n        if ((info[i].oneway?.value !== link.properties.oneway) && (info[i].oneway?.value === '0')) {\n          state.reversedAttributes.forEach(\n            (rkey) => link.properties[rkey] = info[i][rkey.slice(0, -2)].value)\n        } else if ((info[i].oneway?.value !== link.properties.oneway) && (info[i].oneway?.value === '1')) {\n          state.reversedAttributes.forEach(\n            (rkey) => delete link.properties[rkey])\n        }\n        // applied all properties.\n        props.forEach((key) => link.properties[key] = info[i][key].value)\n      }\n    },\n\n    editrNodeInfo (state, payload) {\n      // get selected node in editorNodes and modify the changes attributes.\n      const { selectedNodeId, info } = payload\n      const props = Object.keys(info)\n      state.rnodes.features.filter(\n        // eslint-disable-next-line array-callback-return\n        function (node) {\n          if (node.properties.index === selectedNodeId) {\n            props.forEach((key) => node.properties[key] = info[key].value)\n          }\n        },\n      )\n    },\n\n    createNewrNode (state, payload) {\n      const newNode = structuredClone(state.rnodesHeader)\n      const nodeProperties = {}\n      state.rnodeAttributes.forEach(key => {\n        nodeProperties[key] = null\n      })\n      nodeProperties.index = 'rnode_' + short.generate()\n      const nodeGeometry = {\n        coordinates: payload,\n        type: 'Point',\n      }\n      // Copy specified node\n      const nodeFeatures = { geometry: nodeGeometry, properties: nodeProperties, type: 'Feature' }\n      newNode.features = [nodeFeatures]\n      state.newrNode = newNode\n    },\n    splitrLink (state, payload) {\n      // changing link1 change editorLinks as it is an observer.\n      const link1 = payload.selectedFeature\n      const link2 = structuredClone(link1)\n      // distance du point (entre 0 et 1) sur le lien original\n      const ratio = payload.offset\n\n      link1.properties.b = state.newrNode.features[0].properties.index\n      link1.geometry.coordinates = [\n        ...link1.geometry.coordinates.slice(0, payload.sliceIndex),\n        state.newrNode.features[0].geometry.coordinates,\n      ]\n\n      link1.properties.index = 'link_' + short.generate() // link1.properties.index+ '-1'\n      link1.properties.length = link1.properties.length * ratio\n      link1.properties.time = link1.properties.time * ratio\n      if (link1.properties.length_r) link1.properties.length_r = link1.properties.length\n      if (link1.properties.time_r) link1.properties.time_r = link1.properties.time\n\n      link2.properties.a = state.newrNode.features[0].properties.index\n      link2.geometry.coordinates = [\n        state.newrNode.features[0].geometry.coordinates,\n        ...link2.geometry.coordinates.slice(payload.sliceIndex),\n      ]\n      link2.properties.index = 'rlink_' + short.generate() // link2.properties.index+ '-2'\n      link2.properties.length = link2.properties.length * (1 - ratio)\n      link2.properties.time = link2.properties.time * (1 - ratio)\n      if (link2.properties.length_r) link2.properties.length_r = link2.properties.length\n      if (link2.properties.time_r) link2.properties.time_r = link2.properties.time\n\n      state.visiblerLinks.features.push(link2)\n      state.renderedrLinks.features.push(link2)\n      // update actual rlinks and rnodes\n      state.rlinks.features.filter((link) => link.properties.index === link1.properties.index)[0] = link1\n      state.rlinks.features.push(link2)\n    },\n\n    addRoadNodeInline (state, payload) {\n      // selectedLink : list of links index\n      // lngLat : object wit click geometry\n      // nodes : str. name of node to add (rnode, anchorrNodeS)\n      const selectedFeatures = state.renderedrLinks.features\n        .filter((link) => payload.selectedIndex.includes(link.properties.index))\n      // for loop. for each selectedc links add the node and split.\n      for (let i = 0; i < selectedFeatures.length; i++) {\n        const linkGeom = Linestring(selectedFeatures[i].geometry.coordinates)\n        const clickedPoint = Point(Object.values(payload.lngLat))\n        const snapped = nearestPointOnLine(linkGeom, clickedPoint, { units: 'kilometers' })\n        const dist = length(linkGeom, { units: 'kilometers' }) // dist\n        // for multiString, gives the index of the closest one, add +1 for the slice.\n        const sliceIndex = snapped.properties.index + 1\n        const offset = snapped.properties.location / dist\n        if (payload.nodes === 'rnodes') {\n          // only add one node, takes the first one.\n          if (i === 0) {\n            this.commit('createNewrNode', snapped.geometry.coordinates)\n            state.rnodes.features.push(state.newrNode.features[0])\n            state.visiblerNodes.features.push(state.newrNode.features[0])\n            state.renderedrNodes.features.push(state.newrNode.features[0])\n          }\n          this.commit('splitrLink', { selectedFeature: selectedFeatures[i], offset: offset, sliceIndex: sliceIndex })\n\n        // Anchor Nodes\n        } else {\n          this.commit('addAnchorrNode', {\n            selectedLink: selectedFeatures[i],\n            coordinates: snapped.geometry.coordinates,\n            sliceIndex: sliceIndex,\n          })\n        }\n      }\n    },\n    addAnchorrNode (state, payload) {\n      const linkIndex = payload.selectedLink.properties.index\n      const featureIndex = state.renderedrLinks.features.findIndex(link => link.properties.index === linkIndex)\n      // changing link change visible rLinks as it is an observer.\n      const link = state.renderedrLinks.features[featureIndex]\n      link.geometry.coordinates.splice(payload.sliceIndex, 0, payload.coordinates)\n    },\n    createrLink (state, payload) {\n      // nodeIdA: node id, nodeIdB: node id, geom: array geom where we clicked, layerId: str. the layer id rnodes, rlinks\n      // 3 cases.\n      // 1) click on the map. create a node b then connect.\n      // 2) click on a node. create a link between node a and b\n      // 3) click on a link. create node inline b then create link a to b.\n      // create a node if we click on the map (case 1)\n      if (!payload.nodeIdB) {\n        this.commit('createNewrNode', payload.geom)\n        state.visiblerNodes.features.push(state.newrNode.features[0])\n        state.renderedrNodes.features.push(state.newrNode.features[0])\n        state.rnodes.features.push(state.newrNode.features[0])\n        payload.nodeIdB = state.newrNode.features[0].properties.index\n      } else if (payload.layerId === 'rlinks') {\n        // create a node inline and then the new link\n        this.commit('addRoadNodeInline', { selectedIndex: payload.nodeIdB, lngLat: payload.geom, nodes: 'rnodes' })\n        payload.nodeIdB = state.newrNode.features[0].properties.index\n      }\n      const rnodeA = state.visiblerNodes.features.filter(node => node.properties.index === payload.nodeIdA)[0]\n      const rnodeB = state.visiblerNodes.features.filter(node => node.properties.index === payload.nodeIdB)[0]\n\n      const linkGeometry = {\n        coordinates: [rnodeA.geometry.coordinates, rnodeB.geometry.coordinates],\n        type: 'LineString',\n      }\n\n      const linkProperties = {}\n      // set default links values\n      state.rlineAttributes.forEach((key) => linkProperties[key] = null)\n      linkProperties.index = 'rlink_' + short.generate()\n      linkProperties.a = payload.nodeIdA\n      linkProperties.b = payload.nodeIdB\n      linkProperties.highway = state.defaultHighway // quenedi\n      linkProperties.route_color = state.rlinksDefaultColor\n      // add length, speed, time now that we have a geometry.\n      const distance = length(linkGeometry)\n      const time = distance / state.roadSpeed * 3600 // 20kmh hard code speed. time in secs\n      linkProperties.length = Number((distance * 1000).toFixed(0)) // metres\n      linkProperties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n      linkProperties.speed = Number(state.roadSpeed) // rounded to 0 decimals\n      if (state.rlineAttributes.includes('oneway')) {\n        linkProperties.oneway = '0'\n        state.reversedAttributes.forEach(\n          (rkey) => linkProperties[rkey] = linkProperties[rkey.slice(0, -2)])\n      }\n\n      const linkFeature = { geometry: linkGeometry, properties: linkProperties, type: 'Feature' }\n      state.rlinks.features.push(linkFeature)\n\n      // add newly generated group (i.e. highway == quenedi), to visibles checked groups.\n      const newLinkGroup = linkProperties[state.selectedrFilter]\n      if (!state.filteredrCategory.includes(newLinkGroup)) {\n        state.filteredrCategory.push(newLinkGroup)\n      }\n      if (!state.selectedrGroup.includes(newLinkGroup)) {\n        // if its not already selected, push it.\n        state.visiblerLinks.features.push(linkFeature)\n        state.renderedrLinks.features.push(linkFeature)\n        state.selectedrGroup.push(newLinkGroup)\n      } else {\n        state.visiblerLinks.features.push(linkFeature)\n        state.renderedrLinks.features.push(linkFeature)\n      }\n    },\n\n    getConnectedLinks (state, payload) {\n      const nodeIndex = payload.selectedNode.properties.index\n      // get links connected to the node\n      // use rLinks as we could moidified links that are not visible moving a node.\n      state.connectedLinks = {\n        b: state.rlinks.features.filter(link => link.properties.b === nodeIndex),\n        a: state.rlinks.features.filter(link => link.properties.a === nodeIndex),\n      }\n    },\n    moverNode (state, payload) {\n      const nodeIndex = payload.selectedNode.properties.index\n      // remove node\n      const newNode = state.renderedrNodes.features.filter(node => node.properties.index === nodeIndex)[0]\n      newNode.geometry.coordinates = payload.lngLat\n\n      // changing links\n\n      // update links geometry. check if exist first (if we take the first|last node there is only 1 link)\n      state.connectedLinks.b.forEach(link => {\n        // note: props are unchanged. even tho the length change, the time and length are unchanged.\n        link.geometry.coordinates = [...link.geometry.coordinates.slice(0, -1), payload.lngLat]\n        // update time and distance\n        const distance = length(link)\n        link.properties.length = Number((distance * 1000).toFixed(0)) // metres\n        // const time = distance / state.roadSpeed * 3600 // 20kmh hard code speed. time in secs\n        const time = distance / link.properties.speed * 3600\n        link.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n        // add reverse direction time and length if it exist on the link\n        if (link.properties.time_r) {\n          const rtime = distance / link.properties.speed_r * 3600\n          link.properties.time_r = Number(rtime.toFixed(0)) // rounded to 0 decimals\n        }\n        if (link.properties.length_r) link.properties.length_r = link.properties.length\n      })\n      state.connectedLinks.a.forEach(link => {\n        link.geometry.coordinates = [payload.lngLat, ...link.geometry.coordinates.slice(1)]\n        // update time and distance\n        const distance = length(link)\n        link.properties.length = Number((distance * 1000).toFixed(0)) // metres\n        // const time = distance / state.roadSpeed * 3600 // 20kmh hard code speed. time in secs\n        const time = distance / link.properties.speed * 3600\n        link.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n        // add reverse direction time and length if it exist on the link\n        if (link.properties.time_r) {\n          const rtime = distance / link.properties.speed_r * 3600\n          link.properties.time_r = Number(rtime.toFixed(0)) // rounded to 0 decimals\n        }\n        if (link.properties.length_r) link.properties.length_r = link.properties.length\n      })\n    },\n    moverAnchor (state, payload) {\n      const linkIndex = payload.selectedNode.properties.linkIndex\n      const coordinatedIndex = payload.selectedNode.properties.coordinatedIndex\n      const link = state.renderedrLinks.features.filter(feature => feature.properties.index === linkIndex)[0]\n      link.geometry.coordinates = [...link.geometry.coordinates.slice(0, coordinatedIndex),\n        payload.lngLat,\n        ...link.geometry.coordinates.slice(coordinatedIndex + 1)]\n\n      // update time and distance\n      const distance = length(link)\n      link.properties.length = Number((distance * 1000).toFixed(0)) // metres\n      const time = distance / state.roadSpeed * 3600 // 20kmh hard code speed. time in secs\n      link.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n    },\n    deleteAnchorrNode (state, payload) {\n      const linkIndex = payload.selectedNode.linkIndex\n      const coordinatedIndex = payload.selectedNode.coordinatedIndex\n      const link = state.renderedrLinks.features.filter(feature => feature.properties.index === linkIndex)[0]\n      link.geometry.coordinates = [...link.geometry.coordinates.slice(0, coordinatedIndex),\n        ...link.geometry.coordinates.slice(coordinatedIndex + 1)]\n    },\n    deleterLink (state, payload) {\n      const linkArr = new Set(payload.selectedIndex)\n      state.rlinks.features = state.rlinks.features.filter(link => !linkArr.has(link.properties.index))\n      state.visiblerLinks.features = state.visiblerLinks.features.filter(link => !linkArr.has(link.properties.index))\n      state.renderedrLinks.features = state.renderedrLinks.features.filter(link => !linkArr.has(link.properties.index))\n      this.commit('deleteUnusedrNodes')\n      this.commit('getVisiblerNodes', { method: 'remove' })\n      this.commit('getRenderedrNodes')\n      this.commit('getFilteredrCat')\n    },\n    deleterGroup (state, payload) {\n      const group = payload\n      const cat = state.selectedrFilter\n      state.rlinks.features = state.rlinks.features.filter(link => link.properties[cat] !== group)\n      this.commit('refreshVisibleRoads')\n      this.commit('deleteUnusedrNodes')\n      this.commit('getFilteredrCat')\n    },\n    deleteUnusedrNodes (state) {\n      // delete every every nodes not in links\n      const a = state.rlinks.features.map(item => item.properties.a)\n      const b = state.rlinks.features.map(item => item.properties.b)\n      const nodesInLinks = new Set([...a, ...b])\n      state.rnodes.features = state.rnodes.features.filter(node => nodesInLinks.has(node.properties.index))\n    },\n\n    editrGroupInfo (state, payload) {\n      // edit line info on multiple trips at once.\n      const groupInfo = payload.info\n      const selectedLinks = payload.selectedLinks // observer of state.links\n      // get only keys that are not unmodified multipled Values (value=='' and placeholder==true)\n      const props = Object.keys(groupInfo).filter(key =>\n        ((groupInfo[key].value !== '') || !groupInfo[key].placeholder))\n\n      // if we change everything to 2 way. init links thats were one way with thoses values (ex:speed_r = speed)\n      if (groupInfo.oneway?.value === '0') {\n        const linksToSplit = selectedLinks.filter(link => link.properties.oneway === '1')\n        linksToSplit.forEach(link => {\n          state.reversedAttributes.forEach(\n            (rkey) => link.properties[rkey] = link.properties[rkey.slice(0, -2)])\n        })\n        // delete reverse attribute for links going from 2 ways to one way\n      } else if (groupInfo.oneway?.value === '1') {\n        const linksToSplit = selectedLinks.filter(link => link.properties.oneway === '0')\n        linksToSplit.forEach(link => {\n          state.reversedAttributes.forEach(\n            (rkey) => delete link.properties[rkey])\n        })\n      }\n\n      // this is an oberver. modification will be applied to state.links.\n      selectedLinks.forEach(\n        (features) => props.forEach((key) => features.properties[key] = groupInfo[key].value))\n      //  apply the group modification to the reverse links too (ex: speed = 10 and speed_r = 10)\n      if (state.rlineAttributes.includes('oneway')) {\n        const reversedProps = state.reversedAttributes.filter(rkey => props.includes(rkey.slice(0, -2)))\n        selectedLinks.filter(link => link.properties.oneway === '0').forEach(\n          (features) => reversedProps.forEach((rkey) => features.properties[rkey] = groupInfo[rkey.slice(0, -2)].value),\n        )\n      }\n      this.commit('refreshVisibleRoads')\n      this.commit('getFilteredrCat')\n    },\n\n  },\n\n  getters: {\n    rlinks: (state) => state.rlinks,\n    rnodes: (state) => state.rnodes,\n    roadSpeed: (state) => state.roadSpeed,\n    rlinksHeader: (state) => state.rlinksHeader,\n    rnodesHeader: (state) => state.rnodesHeader,\n    rlineAttributes: (state) => state.rlineAttributes.sort(),\n    selectedrGroup: (state) => state.selectedrGroup,\n    selectedrFilter: (state) => state.selectedrFilter,\n    filteredrCategory: (state) => state.filteredrCategory,\n    visiblerLinks: (state) => state.visiblerLinks,\n    renderedrLinks: (state) => state.renderedrLinks,\n    renderedrNodes: (state) => state.renderedrNodes,\n    visiblerNodes: (state) => state.visiblerNodes,\n    defaultHighway: (state) => state.defaultHighway,\n    rlinksIsEmpty: (state) => state.rlinks.features.length === 0,\n    rcstAttributes: (state) => state.rcstAttributes,\n    rlinksAttributesChoices: (state) => state.rlinksAttributesChoices,\n    newrNode: (state) => state.newrNode,\n    rundeletable: (state) => state.rundeletable,\n    hasCycleway: (state) => state.rlineAttributes.includes('cycleway'),\n\n    anchorrNodes: (state) => {\n      const nodes = structuredClone(state.rnodesHeader)\n      state.renderedrLinks.features.filter(link => link.geometry.coordinates.length > 2).forEach(\n        feature => {\n          const linkIndex = feature.properties.index\n          feature.geometry.coordinates.slice(1, -1).forEach(\n            (point, idx) => nodes.features.push(Point(\n              point,\n              { index: short.generate(), linkIndex: linkIndex, coordinatedIndex: idx + 1 },\n            ),\n            ),\n\n          )\n        },\n      )\n\n      return nodes\n    },\n    rlinkDirection: (state) => (indexList, reversed = false) => {\n      const links = state.rlinks.features.filter(link => indexList.includes(link.properties.index))\n      const res = []\n      links.forEach(link => {\n        const geom = link.geometry.coordinates\n        if (reversed) {\n          res.push(bearing(geom[geom.length - 1], geom[0]))\n        } else {\n          res.push(bearing(geom[0], geom[geom.length - 1]))\n        }\n      })\n      return res\n    },\n    grouprLinks: (state) => (category, group) => {\n      return state.rlinks.features.filter(link => group === link.properties[category])\n    },\n    onewayIndex: (state) => {\n      return new Set(state.rlinks.features.filter(\n        link => link.properties.oneway === '0').map(\n        link => link.properties.index))\n    },\n    rlinksForm: (state) => (linkIndex) => {\n      const uneditable = ['a', 'b', 'index']\n      const editorForm = state.visiblerLinks.features.filter(\n        (link) => link.properties.index === linkIndex)[0].properties\n\n      // filter properties to only the one that are editable.\n      const form = {}\n      state.rlineAttributes.forEach(key => {\n        form[key] = {\n          value: editorForm[key],\n          disabled: uneditable.includes(key),\n          placeholder: false,\n        }\n      })\n      return form\n    },\n    reversedrLinksForm: (state) => (linkIndex) => {\n      const uneditable = ['a', 'b', 'index']\n      const editorForm = state.visiblerLinks.features.filter(\n        (link) => link.properties.index === linkIndex)[0].properties\n\n      // filter properties to only the one that are editable.\n      const form = {}\n      state.reversedAttributes.forEach(key => {\n        form[key] = {\n          value: editorForm[key],\n          disabled: uneditable.includes(key),\n          placeholder: false,\n        }\n      })\n      return form\n    },\n  },\n}\n","/* eslint-disable array-callback-return */\n/* eslint-disable no-return-assign */\nimport Point from 'turf-point'\nimport { serializer } from '@comp/utils/serializer.js'\nimport { IndexAreDifferent } from '@comp/utils/utils.js'\nconst short = require('short-uuid')\nconst $gettext = s => s\n\nexport default {\n  namespaced: true,\n  state: {\n    layer: {},\n    visibleLayer: {},\n    layerHeader: {}, // empty geojson\n    layerAttributes: [], // all the available attributes (columns in pandas)\n    filteredCategory: [], // all possible category (to be in selectedCat)\n    selectedFilter: '', // ex: highway\n    selectedCategory: [], // ex: [motorway, residential] visible one.\n\n  },\n\n  mutations: {\n    loadLayer (state, payload) {\n      state.layer = structuredClone(payload)\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.layer.crs.properties.name)) {\n        const layerHeader = { ...state.layer }\n        layerHeader.features = []\n        state.layerHeader = layerHeader\n        state.visibleLayer = structuredClone(layerHeader)\n        // set all trips visible\n        // this.commit('results/changeSelectedTrips', state.tripId)\n        this.commit('od/getProperties')\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    loadODFiles (state, payload) {\n      // payload = [{path,content},...]\n      for (const file of payload) {\n        if (IndexAreDifferent(file.content, state.layer)) {\n          this.commit('od/appendNewOD', serializer(file.content, file.path, 'LineString'))\n        } else {\n          const err = new Error($gettext(' there is duplicated index, ') + file.path)\n          err.name = 'ImportError'\n          throw err\n        }\n      }\n    },\n\n    appendNewOD (state, payload) {\n      // append new links and node to the project (import page)\n      function getFirstAndLast (arr) {\n        return [arr[0], arr[arr.length - 1]]\n      }\n\n      payload.features.forEach(link => link.geometry.coordinates = getFirstAndLast(link.geometry.coordinates))\n\n      payload.features.forEach(link => state.layer.features.push(link))\n      this.commit('od/getProperties')\n      this.commit('od/getFilteredCategory')\n      this.commit('od/refreshVisibleLayer')\n    },\n\n    changeSelectedFilter (state, payload) {\n      state.selectedFilter = payload\n      this.commit('od/refreshVisibleLayer')\n      this.commit('od/getFilteredCategory')\n    },\n    changeSelectedCategory (state, payload) {\n      state.selectedCategory = payload\n      this.commit('od/refreshVisibleLayer')\n    },\n\n    getProperties (state) {\n      const header = new Set([])\n      state.layer.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      // add all default attributes\n      const defaultAttributes = [\n        'index', 'name']\n      defaultAttributes.forEach(att => header.add(att))\n      state.layerAttributes = Array.from(header)\n      state.selectedFilter = state.layerAttributes[0]\n      state.selectedCategory = Array.from(new Set(state.layer.features.map(\n        item => item.properties[state.selectedFilter])))\n    },\n\n    refreshVisibleLayer (state) {\n      const group = new Set(state.selectedCategory)\n      const cat = state.selectedFilter\n      state.visibleLayer.features = state.layer.features.filter(link => group.has(link.properties[cat]))\n    },\n    getFilteredCategory (state) {\n      // for a given filter (key) get array of unique value\n      // e.g. get ['bus','subway'] for route_type\n      const val = Array.from(new Set(state.layer.features.map(\n        item => item.properties[state.selectedFilter])))\n      state.filteredCategory = val\n    },\n\n    // actions\n    deleteOD (state, payload) {\n      const linkArr = new Set(payload.selectedIndex)\n      state.layer.features = state.layer.features.filter(link => !linkArr.has(link.properties.index))\n      this.commit('od/refreshVisibleLayer')\n      this.commit('od/getFilteredCategory')\n    },\n\n    deleteGroup (state, payload) {\n      const group = payload\n      const cat = state.selectedFilter\n      state.layer.features = state.layer.features.filter(link => link.properties[cat] !== group)\n      this.commit('od/refreshVisibleLayer')\n      this.commit('od/getFilteredCategory')\n    },\n\n    moveNode (state, payload) {\n      const linkIndex = payload.selectedFeature.properties.linkIndex\n      const coordinatedIndex = payload.selectedFeature.properties.coordinatedIndex\n\n      const link = state.visibleLayer.features.filter(feature => feature.properties.index === linkIndex)[0]\n      link.geometry.coordinates = [...link.geometry.coordinates.slice(0, coordinatedIndex),\n        payload.lngLat,\n        ...link.geometry.coordinates.slice(coordinatedIndex + 1)]\n    },\n\n    createNewLink (state, payload) {\n      const linkGeometry = {\n        coordinates: [payload.lngLat, payload.lngLat],\n        type: 'LineString',\n      }\n\n      const linkProperties = {}\n      // set default links values\n      state.layerAttributes.forEach((key) => linkProperties[key] = null)\n      linkProperties.index = payload.index\n      // linkProperties.route_color = state.rlinksDefaultColor\n      const linkFeature = { geometry: linkGeometry, properties: linkProperties, type: 'Feature' }\n      state.layer.features.push(linkFeature)\n\n      this.commit('od/getFilteredCategory')\n      // add newly create link to the visible\n      const newCat = linkProperties[state.selectedFilter]\n      const selectedCategorySet = new Set(state.selectedCategory)\n      if (!selectedCategorySet.has(newCat)) {\n        state.selectedCategory.push(newCat)\n      }\n      this.commit('od/refreshVisibleLayer')\n    },\n\n    editLinkInfo (state, payload) {\n      // get selected node in editorNodes and modify the changes attributes.\n      const { selectedLinkId, info } = payload\n      const props = Object.keys(info)\n      state.visibleLayer.features.filter(\n        // eslint-disable-next-line array-callback-return\n        function (link) {\n          if (link.properties.index === selectedLinkId) {\n            props.forEach((key) => link.properties[key] = info[key].value)\n          }\n        },\n      )\n      this.commit('od/getFilteredCategory')\n    },\n\n    editGroupInfo (state, payload) {\n      // edit line info on multiple trips at once.\n      const groupInfo = payload.info\n      const selectedLinks = payload.selectedLinks // observer of state.links\n      // get only keys that are not unmodified multipled Values (value=='' and placeholder==true)\n      const props = Object.keys(groupInfo).filter(key =>\n        ((groupInfo[key].value !== '') || !groupInfo[key].placeholder))\n      // this is an oberver. modification will be applied to state.links.\n      selectedLinks.forEach(\n        (features) => props.forEach((key) => features.properties[key] = groupInfo[key].value))\n\n      this.commit('od/getFilteredCategory')\n      this.commit('od/refreshVisibleLayer')\n    },\n    addPropertie (state, payload) {\n      // payload = name\n      // when a new line properties is added (in dataframe page)\n      state.layer.features.map(link => link.properties[payload] = null)\n      state.visibleLayer.features.map(link => link.properties[payload] = null)\n      state.layerAttributes.push(payload)\n    },\n    deletePropertie (state, payload) {\n      // when a link property is deleted\n      state.layer.features.filter(link => delete link.properties[payload.name])\n      state.visibleLayer.features.filter(link => delete link.properties[payload.name])\n      state.layerAttributes = state.layerAttributes.filter(item => item !== payload.name)\n    },\n  },\n\n  getters: {\n    layer: (state) => state.layer,\n    visibleLayer: (state) => state.visibleLayer,\n    layerIsEmpty: (state) => state.layer.features.length === 0,\n    layerHeader: (state) => state.layerHeader,\n    selectedTrips: (state) => state.selectedTrips,\n    layerAttributes: (state) => state.layerAttributes.sort(),\n    selectedFilter: (state) => state.selectedFilter,\n    filteredCategory: (state) => state.filteredCategory,\n    selectedCategory: (state) => state.selectedCategory,\n    groupLayer: (state) => (category, group) => {\n      return state.layer.features.filter(link => group === link.properties[category])\n    },\n    linkForm: (state) => (linkIndex) => {\n      const uneditable = ['index']\n      const editorForm = state.visibleLayer.features.filter(\n        (link) => link.properties.index === linkIndex)[0].properties\n\n      // filter properties to only the one that are editable.\n      const form = {}\n      state.layerAttributes.forEach(key => {\n        form[key] = {\n          value: editorForm[key],\n          disabled: uneditable.includes(key),\n          placeholder: false,\n        }\n      })\n      return form\n    },\n    nodes: (state) => (layer) => {\n      const nodes = structuredClone(state.layerHeader)\n      layer.features.forEach(\n        feature => {\n          const Index = feature.properties.index\n          feature.geometry.coordinates.forEach(\n            (point, idx) => nodes.features.push(Point(\n              point,\n              { index: short.generate(), linkIndex: Index, coordinatedIndex: idx },\n            ),\n            ),\n\n          )\n        },\n      )\n\n      return nodes\n    },\n\n  },\n}\n","/* eslint-disable array-callback-return */\n/* eslint-disable no-return-assign */\n\nimport chroma from 'chroma-js'\nconst seedrandom = require('seedrandom')\nconst $gettext = s => s\n\nfunction isHexColor (variable) {\n  const hexRegex = /^#([0-9A-Fa-f]{3}){1,2}$/i\n  return hexRegex.test(variable)\n}\nfunction remap (val, minVal, maxVal, reverse, scale, isWidth) {\n  // if String. classify with random number\n  if (typeof (val) === 'string') {\n    if (isWidth) {\n      return 0\n    } else {\n      const rng = seedrandom(val)\n      return rng()\n    }\n  }\n\n  if (isWidth) {\n    // with Width, we want an absolute value (-10 is the same with as 10)\n    // value out of range. force to min/max scale\n    if (val < minVal) {\n      val = minVal\n    } else if (val > maxVal) {\n      val = maxVal\n    }\n\n    val = Math.abs(val)\n    if (minVal < 0 && maxVal > 0) {\n      // if scale around 0 (ex: [-20,10]). min is 0 and max is now 20.\n      maxVal = Math.max(Math.abs(minVal), Math.abs(maxVal))\n      minVal = 0\n    } else if (minVal < 0 && maxVal <= 0) {\n      // if both negative. find the minimum and maximum in abs value.\n      const tmpMaxVal = Math.abs(maxVal)\n      maxVal = Math.max(Math.abs(minVal), tmpMaxVal)\n      minVal = Math.min(Math.abs(minVal), tmpMaxVal)\n    }\n  } else {\n    // if its Color. no absolute value\n    // value out of range. return 0 or 1 for colors\n    if (val < minVal) {\n      return reverse ? 1 : 0\n    } else if (val > maxVal) {\n      return reverse ? 0 : 1\n    }\n    if (minVal < 0) { // for colors when scale <0\n      // remap Value to [0, maxVal - minVal]\n      val = val - minVal\n      maxVal = maxVal - minVal\n      minVal = 0\n    }\n  }\n\n  let res = val\n\n  if (scale === 'log') {\n    if (minVal < 1) {\n      // no 0 for Log scale (as its inf). add +1\n      maxVal += 1\n      val += 1\n      minVal += 1\n    }\n\n    minVal = minVal > 0 ? Math.log10(minVal) : 0\n    maxVal = maxVal > 0 ? Math.log10(maxVal) : 0\n    res = val > 0 ? Math.log10(val) : 0\n  } else if (scale === 'sqrt') {\n    minVal = Math.sqrt(minVal)\n    maxVal = Math.sqrt(maxVal)\n    res = Math.sqrt(val)\n  } else if (scale === 'exp') {\n    // need to normalize first. 10**big number is not working\n    minVal = minVal / maxVal\n    val = val / maxVal\n    maxVal = 1\n    minVal = 10 ** (minVal)\n    maxVal = 10 ** (maxVal)\n    res = 10 ** (val)\n  } else if (scale === 'quad') {\n    // need to normalize first. 10**big number is not working\n    minVal = (minVal) ** 2\n    maxVal = (maxVal) ** 2\n    res = (val) ** 2\n  }\n\n  if (reverse) {\n    res = (-res + maxVal) / (maxVal - minVal)\n  } else {\n    res = (res - minVal) / (maxVal - minVal)\n  }\n  return res\n}\n\nconst defaultSettings = {\n  selectedFeature: null,\n  maxWidth: 10,\n  minWidth: 1,\n  numStep: 100,\n  scale: 'linear', // 'log', 'sqrt'\n  fixScale: false,\n  minVal: 0, // option to blocked them. so its an input and its not recompute\n  maxVal: 1,\n  cmap: 'OrRd',\n  opacity: 100,\n  offset: false,\n  showNaN: true,\n  reverseColor: false,\n  extrusion: false,\n  padding: [0, 100],\n}\n\nexport default {\n  namespaced: true,\n  // need a function ()=>. if not. diffent instance will share the same state.\n  state: () => ({\n    namespace: 'results', // to do commit on different instance.\n    type: 'links',\n    links: {},\n    visibleLinks: {},\n    NaNLinks: {},\n    linksHeader: {},\n    lineAttributes: [],\n    selectedFilter: '',\n    selectedCategory: [],\n    hasOD: false,\n    ODindex: {},\n    displaySettings: {},\n\n  }),\n\n  mutations: {\n    setNamespace (state, payload) { state.namespace = payload },\n    unload (state) {\n      this.commit(`${state.namespace}/cleanLinks`)\n      state.type = 'links'\n      state.links = {}\n      state.visibleLinks = {}\n      state.NaNLinks = {}\n      state.linksHeader = {}\n      state.lineAttributes = []\n      state.selectedFilter = ''\n      state.selectedCategory = []\n      state.hasOD = false\n      state.ODindex = {}\n      state.displaySettings = structuredClone(defaultSettings)\n      // TODO: remove display_width and display_color\n    },\n\n    loadLinks (state, payload) {\n      state.displaySettings = structuredClone(defaultSettings)\n      // TODO: remove display_width and display_color\n      this.commit(`${state.namespace}/cleanLinks`)\n      state.links = structuredClone(payload.geojson)\n      state.type = payload.type\n      // extrusion only for polygon right now. set to false if not a polygon\n      if (state.type !== 'Polygon') { state.displaySettings.extrusion = false }\n      state.hasOD = payload.hasOD ? payload.hasOD : false\n      state.ODindex = payload.ODindex ? payload.ODindex : {}\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.links.crs.properties.name)) {\n        const linksHeader = structuredClone(state.links)\n        linksHeader.features = []\n        state.linksHeader = linksHeader\n        state.visibleLinks = structuredClone(linksHeader)\n        state.NaNLinks = structuredClone(linksHeader)\n        // set all trips visible\n        this.commit(`${state.namespace}/getLinksProperties`)\n        if (state.lineAttributes.includes(payload.selectedFeature)) {\n          state.displaySettings.selectedFeature = payload.selectedFeature\n        } else {\n          state.displaySettings.selectedFeature = null\n        }\n        this.commit(`${state.namespace}/refreshVisibleLinks`)\n        this.commit(`${state.namespace}/updateSelectedFeature`)\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    updateLinks (state, payload) {\n      state.links = payload\n      this.commit(`${state.namespace}/refreshVisibleLinks`)\n      this.commit(`${state.namespace}/updateSelectedFeature`)\n    },\n\n    cleanLinks (state) {\n      if (Object.keys(state.links).length !== 0) {\n        state.links.features.filter(link => delete link.properties.display_width)\n        state.links.features.filter(link => delete link.properties.display_color)\n      }\n    },\n\n    changeSelectedFilter (state, payload) {\n      state.selectedFilter = payload\n      // set all vvisible\n      state.selectedCategory = Array.from(new Set(state.links.features.map(\n        item => item.properties[state.selectedFilter])))\n      this.commit(`${state.namespace}/refreshVisibleLinks`)\n    },\n    changeSelectedCategory (state, payload) {\n      state.selectedCategory = payload\n      this.commit(`${state.namespace}/refreshVisibleLinks`)\n    },\n\n    getLinksProperties (state) {\n      const header = new Set([])\n      state.links.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      state.lineAttributes = Array.from(header)\n      state.lineAttributes = state.lineAttributes.filter(attr => !['display_width', 'display_color'].includes(attr))\n\n      // eslint-disable-next-line max-len\n      state.selectedFilter = header.has('route_type') ? 'route_type' : header.has('highway') ? 'highway' : state.lineAttributes[0]\n      state.selectedCategory = Array.from(new Set(state.links.features.map(\n        item => item.properties[state.selectedFilter])))\n    },\n    applySettings (state, payload) {\n      const keys = Object.keys(payload)\n      // apply all payload settings to state.displaySettings\n      keys.forEach(key => state.displaySettings[key] = payload[key])\n      this.commit(`${state.namespace}/refreshVisibleLinks`)\n      this.commit(`${state.namespace}/updateSelectedFeature`)\n    },\n\n    updateSelectedFeature (state) {\n      const key = state.displaySettings.selectedFeature\n      const maxWidth = state.displaySettings.maxWidth\n      const minWidth = state.displaySettings.minWidth\n      const scale = state.displaySettings.scale\n      const numStep = state.displaySettings.numStep\n      const cmap = state.displaySettings.cmap\n      const featureArr = state.visibleLinks.features.filter(\n        link => link.properties[key]).map(\n        link => link.properties[key])\n      if (!state.displaySettings.fixScale) {\n        const arrayMinMax = (arr) =>\n          arr.reduce(([min, max], val) => [Math.min(min, val), Math.max(max, val)], [\n            Number.POSITIVE_INFINITY,\n            Number.NEGATIVE_INFINITY,\n          ])\n\n        const [minV, maxV] = arrayMinMax(featureArr)\n        state.displaySettings.minVal = Math.round(minV * 100) / 100\n        state.displaySettings.maxVal = Math.round(maxV * 100) / 100\n      }\n      const minVal = state.displaySettings.minVal\n      const maxVal = state.displaySettings.maxVal\n      const reverse = state.displaySettings.reverseColor\n\n      state.visibleLinks.features.forEach(\n        link => {\n          let val = link.properties[key]\n          val = remap(val, minVal, maxVal, false, scale, true)\n          link.properties.display_width = (maxWidth - minWidth) * val + minWidth\n        },\n      )\n      let pad = structuredClone(state.displaySettings.padding)\n      pad = [pad[0] / 100, 1 - pad[1] / 100]\n      pad = state.displaySettings.reverseColor ? pad.reverse() : pad\n      const colorScale = chroma.scale(cmap).padding(pad)\n        .domain([0, 1], scale).classes(numStep)\n\n      state.visibleLinks.features.forEach(\n        link => {\n          const val = link.properties[key]\n          if (isHexColor(val)) {\n            link.properties.display_color = val\n          } else {\n            link.properties.display_color = colorScale(\n              remap(val, minVal, maxVal, reverse, scale, false)).hex()\n          }\n        },\n      )\n      //\n      // if OD prop ans all NaN. put green on clickable links.\n      //\n      const allNaN = state.links.features.filter(link => link.properties[key]).length === 0\n      if (allNaN && state.hasOD && Object.keys(state.ODindex).includes(key)) {\n        const indexList = new Set(state.ODindex[key])\n        state.visibleLinks.features.forEach(\n          link => {\n            if (indexList.has(link.properties.index)) {\n              link.properties.display_width = 10\n              link.properties.display_color = '#4CAF50'\n            }\n          })\n        this.commit('changeNotification',\n          { text: $gettext('Clickable element in green'), autoClose: true, color: 'success' })\n      }\n    },\n    refreshVisibleLinks (state) {\n      const group = new Set(state.selectedCategory)\n      const cat = state.selectedFilter\n      const key = state.displaySettings.selectedFeature\n      state.visibleLinks.features = state.links.features.filter(link => group.has(link.properties[cat]))\n      if (!state.displaySettings.showNaN) {\n        // keep track of NaN links to display them when we have a polygon\n        state.NaNLinks.features = state.visibleLinks.features.filter(link => !link.properties[key])\n        const allNaN = state.links.features.filter(link => link.properties[key]).length === 0\n        if (allNaN && state.hasOD && Object.keys(state.ODindex).includes(key)) {\n          // keep visible links as we want to show clickable links\n        } else {\n          // remove NaN from links\n          state.visibleLinks.features = state.visibleLinks.features.filter(link => link.properties[key])\n        }\n      }\n    },\n  },\n\n  getters: {\n    links: (state) => state.links,\n    visibleLinks: (state) => state.visibleLinks,\n    displayLinks: (state) => {\n      const layer = structuredClone(state.linksHeader)\n      layer.features = state.visibleLinks.features.map(obj => {\n        return {\n          geometry: obj.geometry,\n          properties: {\n            display_color: obj.properties.display_color,\n            display_width: obj.properties.display_width,\n          },\n\n        }\n      })\n      return layer\n    },\n    type: (state) => {\n      // if 3D selected and a polygon. change type to extrusion.\n      if (state.displaySettings.extrusion && state.type === 'Polygon') {\n        return 'extrusion'\n      } else { return state.type }\n    },\n    NaNLinks: (state) => state.NaNLinks,\n    linksHeader: (state) => state.linksHeader,\n    lineAttributes: (state) => state.lineAttributes.sort(),\n    selectedFilter: (state) => state.selectedFilter,\n    selectedCategory: (state) => state.selectedCategory,\n    displaySettings: (state) => state.displaySettings,\n    selectedFeature: (state) => state.displaySettings.selectedFeature,\n    maxWidth: (state) => state.displaySettings.maxWidth,\n    minWidth: (state) => state.displaySettings.minWidth,\n    numStep: (state) => state.displaySettings.numStep,\n    scale: (state) => state.displaySettings.scale,\n    opacity: (state) => state.displaySettings.opacity,\n    colorScale: (state) => {\n      const arr = []\n      let pad = state.displaySettings.padding\n      pad = [pad[0] / 100, 1 - pad[1] / 100]\n      pad = state.displaySettings.reverseColor ? pad.reverse() : pad\n      const colorScale = chroma.scale(state.displaySettings.cmap).padding(pad)\n        .domain([0, 1]).classes(state.displaySettings.numStep)\n      for (let i = 0; i < 100; i++) {\n        arr.push(colorScale(remap(i, 0, 100, state.displaySettings.reverseColor, state.displaySettings.scale, false)))\n      }\n      return arr\n    },\n  },\n}\n","/* eslint-disable array-callback-return */\n/* eslint-disable no-return-assign */\n\nexport default {\n  namespaced: true,\n  state: () => ({\n    layer: {},\n    mat: {},\n    properties: [],\n    type: null,\n    matAvailableIndex: {},\n  }),\n\n  mutations: {\n    createLayer (state, payload) {\n      state.layer = structuredClone(payload.data)\n      state.type = state.layer.features[0].geometry.type\n      // change Multipolygon to polygon type. just as they the same for mapbox and the app.\n      state.type = state.type === 'MultiPolygon' ? 'Polygon' : state.type\n    },\n    addMatrix (state, payload) {\n      // payload is a matrix\n      Object.keys(payload).forEach(key => { state.mat[key + ' (OD)'] = payload[key] })\n      state.properties = Object.keys(state.mat)\n      // force index to string\n      state.layer.features.forEach(zone => zone.properties.index = String(zone.properties.index))\n      // if init with nothing, do nothing.\n      if (state.layer.features.length > 0) {\n        state.properties.forEach(\n          prop => {\n            // get all clickable indexes\n            state.matAvailableIndex[prop] = Object.keys(state.mat[prop])\n            // for each properties in matrix, init the zones to null.\n            state.layer.features.forEach(\n              zone => zone.properties[prop] = null,\n            )\n          },\n\n        )\n      }\n    },\n\n    changeOD (state, payload) {\n      const selectedProperty = payload.selectedProperty\n      if (state.properties.includes(selectedProperty)) {\n        const index = payload.index\n        const row = state.mat[selectedProperty][index]\n        // apply new value to each zone. (zone_1 is selected, apply time to zone_1 to every zone)\n        // if there is no data, put null (ex: sparse matrix)\n        state.layer.features.forEach(\n          zone => zone.properties[selectedProperty] = row ? row[zone.properties.index] : null)\n      }\n    },\n\n  },\n\n  getters: {\n    layer: (state) => state.layer,\n    type: (state) => state.type,\n    properties: (state) => state.properties,\n    matAvailableIndex: (state) => state.matAvailableIndex,\n    hasOD: (state) => state.properties.length > 0,\n    mat: (state) => {\n      // remove OD in matrix names.\n      // return null if there is no od.\n      const keys = Object.keys(state.mat)\n      if (keys.length > 0) {\n        const res = {}\n        keys.forEach(\n          key => { res[key.slice(0, -5)] = state.mat[key] })\n        return res\n      } else return null\n    },\n  },\n}\n","import { quetzalClient } from '@src/axiosClient.js'\nimport { paramsSerializer } from '@src/components/utils/serializer.js'\nimport s3 from '@src/AWSClient'\nconst $gettext = s => s\n\nexport default {\n  namespaced: true,\n  state: {\n    stateMachineArnBase: 'arn:aws:states:ca-central-1:142023388927:stateMachine:',\n    steps: [{ name: 'Loading Steps...' }],\n    selectedStepFunction: 'default', // default or comparision,\n    avalaibleStepFunctions: ['default'],\n    running: false,\n    executionArn: '',\n    currentStep: 0,\n    error: false,\n    errorMessage: '',\n    synchronized: true,\n    parameters: [],\n  },\n  mutations: {\n    cleanRun (state) {\n      state.steps = [{ name: 'Loading Steps...' }]\n      state.selectedStepFunction = 'default'\n      state.avalaibleStepFunctions = ['default']\n      state.running = false\n      state.executionArn = ''\n      state.currentStep = 0\n      state.error = false\n      state.synchronized = true\n      state.parameters = []\n    },\n    setSteps (state, payload) {\n      state.steps = payload\n      state.steps.splice(0, 0, { name: 'Saving Networks' })\n      state.steps.push({ name: 'Loading Results' })\n    },\n    startExecution (state) {\n      state.error = false\n      state.running = true\n      state.currentStep = 1\n    },\n    terminateExecution (state, payload) {\n      state.running = false\n      state.error = true\n      state.errorMessage = payload\n      state.executionArn = ''\n    },\n    changeRunning (state, payload) {\n      state.running = payload\n    },\n    succeedExecution (state) {\n      state.running = false\n      state.currentStep = state.steps.length + 1\n      state.executionArn = ''\n      this.commit('changeNotification',\n        { text: $gettext('simulation executed successfully!'), autoClose: false, color: 'success' })\n    },\n    updateCurrentStep (state, payload) {\n      const stepNames = state.steps.map(a => a.name)\n      state.currentStep = stepNames.indexOf(payload.name) + 1\n    },\n    getLocalParameters (state, payload) {\n      payload = paramsSerializer(payload)\n      state.parameters = payload\n    },\n    setSelectedStepFunction (state, payload) {\n      state.selectedStepFunction = payload\n    },\n    setAvalaibleStepFunctions (state, payload) {\n      state.avalaibleStepFunctions = payload\n    },\n  },\n  actions: {\n    async getParameters ({ state, commit }, payload) {\n      // only for the reset button.\n      try {\n        const params = await s3.readJson(payload.model, payload.path)\n        state.parameters = params\n      } catch (err) {\n        commit('changeAlert', err, { root: true })\n      }\n    },\n    async getOutputs (context) {\n      const model = context.rootState.user.model\n      const scen = context.rootState.user.scenario + '/'\n      const path = scen + 'outputs/'\n      let filesList = await s3.listFiles(model, path)\n      filesList = filesList.filter(name => !name.endsWith('/'))\n      const res = []\n      for (const file of filesList) {\n        const name = file.slice(scen.length) // remove scen name from file\n        if (file.endsWith('.json') || file.endsWith('.geojson')) {\n          const content = await s3.readJson(model, file)\n          res.push({ path: name, content: content })\n        } else {\n          res.push({ path: name, content: null })\n        }\n      }\n\n      if (res.length > 0) {\n        // unload all results Layers\n        context.commit('unloadLayers', {}, { root: true })\n        context.commit('loadFiles', res, { root: true })\n        // load new Results\n      }\n    },\n    async getSteps ({ state, commit, rootState }) {\n      try {\n        let data = { stateMachineArn: state.stateMachineArnBase + rootState.user.model }\n        const response = await quetzalClient.client.post('/describe/model',\n          data = JSON.stringify(data))\n        const def = JSON.parse(response.data.definition)\n        const firstStep = def.StartAt\n\n        // check if there is a choice in the definition.\n        // if So. Get all choices in state.availableStepFunctions\n        // replace the Next of the choice step with the selected one.\n        Object.keys(def.States).forEach((key) => {\n          if (def.States[key].Type === 'Choice') {\n          // could be a list of choices\n            state.avalaibleStepFunctions = ['default', ...def.States[key].Choices.map(el => el.StringEquals)]\n            if (state.selectedStepFunction === 'default') {\n              def.States[key].Next = def.States[key].Default\n            } else {\n            // if not default. select the one in the list\n              const choices = def.States[key].Choices\n              def.States[key].Next = choices.filter(el => el.StringEquals === state.selectedStepFunction)[0].Next\n            }\n          }\n        })\n        // if there is a choice\n\n        // let next = def.States[firstStep].Next\n        const steps = []\n        let next = firstStep\n        while (true) {\n        // if there is a choice\n          if (def.States[next].Type === 'Choice') {\n            next = def.States[next].Next\n          }\n          steps.push({ name: next })\n          if (def.States[next].Next === undefined) break\n          next = def.States[next].Next\n        }\n        commit('setSteps', steps)\n      } catch (err) {\n        commit('changeAlert', err, { root: true })\n      }\n    },\n    startExecution ({ state, commit, dispatch, rootState }, payload) {\n      const filteredParams = state.parameters.filter(param =>\n        (Object.keys(param).includes('category')) && param.model === state.selectedStepFunction)\n      const paramsDict = filteredParams.reduce((acc, { category, params }) => {\n        acc[category] = params.reduce((paramAcc, { name, value, type }) => {\n          paramAcc[name] = type?.toLowerCase() === 'number' ? Number(value) : value\n          return paramAcc\n        }, {})\n        return acc\n      }, {})\n      let data = {\n        // eslint-disable-next-line no-useless-escape\n        input: JSON.stringify({\n          authorization: rootState.user.idToken,\n          choice: state.selectedStepFunction,\n          scenario_path_S3: payload.scenario + '/',\n          launcher_arg: {\n            training_folder: '/tmp',\n            params: paramsDict,\n          },\n          metadata: {\n            user_email: rootState.user.cognitoInfo.email,\n          },\n        }),\n        stateMachineArn: state.stateMachineArnBase + rootState.user.model,\n      }\n      quetzalClient.client.post('',\n        data = JSON.stringify(data),\n      ).then(\n        response => {\n          state.executionArn = response.data.executionArn\n          dispatch('pollExecution')\n        }).catch(\n        err => {\n          commit('changeAlert', err, { root: true })\n        })\n    },\n    pollExecution ({ commit, state, dispatch }) {\n      const intervalId = setInterval(() => {\n        let data = { executionArn: state.executionArn }\n        quetzalClient.client.post('/describe',\n          data = JSON.stringify(data),\n        ).then(\n          response => {\n            state.status = response.data.status\n            if (state.status === 'SUCCEEDED') {\n              dispatch('getOutputs').then(\n                () => {\n                  commit('succeedExecution')\n                  clearInterval(intervalId)\n                },\n              ).catch(err => alert(err))\n            } else if (['FAILED', 'TIMED_OUT', 'ABORTED'].includes(state.status)) {\n              commit('terminateExecution', JSON.parse(response.data.cause))\n              clearInterval(intervalId)\n            } else if (state.status === undefined) {\n              clearInterval(intervalId)\n            }\n          }).catch(\n          err => {\n            commit('changeAlert', err, { root: true })\n            state.running = false\n          })\n        data = { executionArn: state.executionArn, includeExecutionData: false, reverseOrder: true }\n        quetzalClient.client.post('/history',\n          data = JSON.stringify(data),\n        ).then(\n          response => {\n            for (const e in response.data.events) {\n              const event = response.data.events[e]\n              if (event.type === 'TaskStateEntered') {\n                commit('updateCurrentStep', event.stateEnteredEventDetails)\n                break\n              }\n            }\n          }).catch(\n          err => {\n            console.log(err)\n          })\n      }, 5000)\n    },\n    stopExecution ({ state, commit }) {\n      let data = { executionArn: state.executionArn }\n      quetzalClient.client.post('/abort',\n        data = JSON.stringify(data),\n      ).then(\n        response => {\n          commit('terminateExecution', response.data)\n          // Maybe we sould wait for back to say that execution is terminated (but the wait is awkward)\n        }).catch(\n        err => {\n          console.log(err)\n        })\n    },\n  },\n  getters: {\n    steps: (state) => state.steps,\n    avalaibleStepFunctions: (state) => state.avalaibleStepFunctions,\n    selectedStepFunction: (state) => state.selectedStepFunction,\n    running: (state) => state.running,\n    currentStep: (state) => state.currentStep,\n    executionArn: (state) => state.executionArn,\n    error: (state) => state.error,\n    errorMessage: (state) => state.errorMessage,\n    synchronized: (state) => state.synchronized,\n    parameters: (state) => state.parameters,\n    parametersIsEmpty: (state) => state.parameters.length === 0,\n    availableModels: (state) => new Set(state.parameters.map(param => param.model)),\n\n  },\n}\n","import { quetzalClient } from '@src/axiosClient.js'\nimport s3 from '@src/AWSClient'\nimport { v4 as uuid } from 'uuid'\n\nconst $gettext = s => s\n\nexport default {\n  namespaced: true,\n  state: {\n    stateMachineArn: 'arn:aws:states:ca-central-1:142023388927:stateMachine:quetzal-matrixroadcaster-api',\n    bucket: 'quetzal-api-bucket',\n    callID: '',\n    status: '',\n    timer: 0,\n    running: false,\n    executionArn: '',\n    error: false,\n    errorMessage: '',\n    parameters: {\n      callID: 'test',\n      num_zones: 100,\n      train_size: 100,\n      date_time: '2022-12-13T08:00:21-04:00',\n      ff_time_col: 'time',\n      max_speed: 100,\n      num_cores: 1,\n      num_random_od: 1,\n      create_zone: true,\n      hereApiKey: '',\n    },\n  },\n  mutations: {\n    cleanRun (state) {\n      state.running = false\n      state.executionArn = ''\n      state.error = false\n    },\n    setCallID (state) { state.callID = uuid() },\n    setParameters (state, payload) { state.parameters = payload },\n    terminateExecution (state, payload) {\n      state.running = false\n      state.error = true\n      state.errorMessage = payload\n      state.executionArn = ''\n    },\n    changeRunning (state, payload) {\n      state.running = payload\n    },\n    getApproxTimer (state, payload) {\n      // payload is number of road links\n      const numZones = state.parameters.num_zones\n      const trainSize = state.parameters.train_size\n      const numPlotOD = state.parameters.num_random_od\n      // API call time (1.8sec per call), 15 iteration X number of links, loadning saving, plotting 15sec.\n      state.timer = Math.min(numZones, trainSize) * 1.8 + payload * 0.002 + 15\n      state.timer += 10 * numPlotOD // 10 sec per plots\n    },\n    succeedExecution (state) {\n      state.running = false\n      state.executionArn = ''\n      this.commit('changeNotification',\n        { text: $gettext('Matrix Road Caster executed successfully!'), autoClose: false, color: 'success' })\n    },\n\n  },\n  actions: {\n    async startExecution ({ state, commit, dispatch }, payload) {\n      commit('getApproxTimer', payload.rlinks.features.length)\n      commit('setParameters', payload.parameters)\n      console.log('exporting roads to s3')\n      state.error = false\n      state.running = true\n      try {\n        await s3.putObject(\n          state.bucket,\n          state.callID.concat('/road_links.geojson'),\n          JSON.stringify(payload.rlinks))\n        await s3.putObject(\n          state.bucket,\n          state.callID.concat('/road_nodes.geojson'),\n          JSON.stringify(payload.rnodes))\n      } catch (err) { commit('changeAlert', err, { root: true }) }\n      let data = {\n        input: JSON.stringify(state.parameters),\n        name: state.callID,\n        stateMachineArn: state.stateMachineArn,\n      }\n      quetzalClient.client.post('',\n        data = JSON.stringify(data),\n      ).then(\n        response => {\n          state.executionArn = response.data.executionArn\n          dispatch('pollExecution')\n        }).catch(err => {\n        commit('changeAlert', err, { root: true })\n        state.running = false\n        state.status = 'FAILED'\n      })\n    },\n    pollExecution ({ commit, state, dispatch }) {\n      const intervalId = setInterval(() => {\n        let data = { executionArn: state.executionArn }\n        state.timer = state.timer - 2\n        quetzalClient.client.post('/describe',\n          data = JSON.stringify(data),\n        ).then(\n          response => {\n            state.status = response.data.status\n            console.log(state.status)\n            if (state.status === 'SUCCEEDED') {\n              commit('succeedExecution')\n              clearInterval(intervalId)\n            } else if (['FAILED', 'TIMED_OUT', 'ABORTED'].includes(state.status)) {\n              commit('terminateExecution', JSON.parse(response.data.cause))\n              clearInterval(intervalId)\n            }\n          }).catch(err => { commit('changeAlert', err, { root: true }) })\n      }, 2000)\n    },\n    stopExecution ({ state, commit }) {\n      let data = { executionArn: state.executionArn }\n      quetzalClient.client.post('/abort',\n        data = JSON.stringify(data),\n      ).then(\n        response => {\n          commit('terminateExecution', response.data)\n          // Maybe we sould wait for back to say that execution is terminated (but the wait is awkward)\n        }).catch(\n        err => {\n          commit('changeAlert', err, { root: true })\n        })\n    },\n  },\n  getters: {\n    running: (state) => state.running,\n    status: (state) => state.status,\n    executionArn: (state) => state.executionArn,\n    error: (state) => state.error,\n    errorMessage: (state) => state.errorMessage,\n    callID: (state) => state.callID,\n    bucket: (state) => state.bucket,\n    timer: (state) => state.timer,\n    parameters: (state) => state.parameters,\n  },\n}\n","import s3 from '@src/AWSClient'\nimport { quetzalClient } from '@src/axiosClient.js'\nimport { v4 as uuid } from 'uuid'\nimport router from '../../router'\nimport { highwayColor, highwayWidth } from '@constants/highway.js'\n\nconst $gettext = s => s\n\nexport default {\n  namespaced: true,\n  state: {\n    stateMachineArn: 'arn:aws:states:ca-central-1:142023388927:stateMachine:quetzal-osm-api',\n    bucket: 'quetzal-api-bucket',\n    callID: '',\n    status: '',\n    timer: 0,\n    running: false,\n    executionArn: '',\n    error: false,\n    errorMessage: '',\n\n    tags: ['highway', 'maxspeed', 'lanes', 'name', 'oneway', 'surface'],\n    parameters: {\n      extendedCycleway: false,\n      highway: [\n        'motorway',\n        'motorway_link',\n        'trunk',\n        'trunk_link',\n        'primary',\n        'primary_link',\n      ],\n    },\n\n    colorDict: highwayColor,\n    widthDict: highwayWidth,\n  },\n  mutations: {\n    cleanRun (state) {\n      state.running = false\n      state.executionArn = ''\n      state.error = false\n    },\n    setCallID (state) { state.callID = uuid() },\n\n    terminateExecution (state, payload) {\n      state.running = false\n      state.error = true\n      state.errorMessage = payload\n      state.executionArn = ''\n    },\n    changeRunning (state, payload) {\n      state.running = payload\n    },\n    saveParams (state, payload) {\n      // eslint-disable-next-line no-return-assign\n      Object.keys(payload).forEach(key => state.parameters[key] = payload[key])\n    },\n    succeedExecution (state) {\n      state.running = false\n      state.executionArn = ''\n      this.commit('changeNotification',\n        { text: $gettext('OSM network imported successfully!'), autoClose: false, color: 'success' })\n    },\n\n  },\n  actions: {\n    startExecution ({ state, commit, dispatch }, payload) {\n      // commit('setParameters', payload.parameters)\n      state.running = true\n      state.error = false\n      let input = ''\n      if (payload.method === 'bbox') {\n        input = JSON.stringify({\n          bbox: payload.coords,\n          highway: state.parameters.highway,\n          callID: state.callID,\n          elevation: true,\n          extended_cycleway: state.parameters.extendedCycleway,\n        })\n      } else {\n        input = JSON.stringify({\n          poly: payload.coords,\n          highway: state.parameters.highway,\n          callID: state.callID,\n          elevation: true,\n          extended_cycleway: state.parameters.extendedCycleway,\n        })\n      }\n      let data = {\n        input: input,\n        name: state.callID,\n        stateMachineArn: state.stateMachineArn,\n      }\n      quetzalClient.client.post('',\n        data = JSON.stringify(data),\n      ).then(\n        response => {\n          state.executionArn = response.data.executionArn\n          dispatch('pollExecution')\n        }).catch(err => {\n        commit('changeAlert', err, { root: true })\n        state.running = false\n        state.status = 'FAILED'\n      })\n    },\n    async pollExecution ({ commit, state, dispatch }) {\n      const intervalId = setInterval(() => {\n        let data = { executionArn: state.executionArn }\n        state.timer = state.timer - 2\n        quetzalClient.client.post('/describe',\n          data = JSON.stringify(data),\n        ).then(\n          async response => {\n            state.status = response.data.status\n            console.log(state.status)\n            if (state.status === 'SUCCEEDED') {\n              clearInterval(intervalId)\n              await dispatch('downloadOSMFromS3')\n              commit('succeedExecution')\n            } else if (['FAILED', 'TIMED_OUT', 'ABORTED'].includes(state.status)) {\n              commit('terminateExecution', JSON.parse(response.data.cause))\n              clearInterval(intervalId)\n            }\n          }).catch(err => { commit('changeAlert', err, { root: true }) })\n      }, 2000)\n    },\n    stopExecution ({ state, commit }) {\n      let data = { executionArn: state.executionArn }\n      quetzalClient.client.post('/abort',\n        data = JSON.stringify(data),\n      ).then(\n        response => {\n          commit('terminateExecution', response.data)\n          // Maybe we sould wait for back to say that execution is terminated (but the wait is awkward)\n        }).catch(\n        err => {\n          commit('changeAlert', err, { root: true })\n        })\n    },\n    async downloadOSMFromS3 ({ state, commit }) {\n      function applyDict (links) {\n        // 00BCD4\n        Object.keys(state.colorDict).forEach(highway => {\n          links.features.filter(link => link.properties.highway === highway).forEach(\n            link => {\n              link.properties.route_width = state.widthDict[highway]\n              link.properties.route_color = state.colorDict[highway]\n            })\n        })\n        return links\n      }\n\n      let rlinks = await s3.readJson(state.bucket, state.callID.concat('/links.geojson'))\n      rlinks = applyDict(rlinks)\n      commit('appendNewrLinks', rlinks, { root: true })\n      const rnodes = await s3.readJson(state.bucket, state.callID.concat('/nodes.geojson'))\n      commit('appendNewrNodes', rnodes, { root: true })\n      console.log('downloaded')\n      router.push('/Home').catch(() => {})\n    },\n  },\n  getters: {\n    running: (state) => state.running,\n    status: (state) => state.status,\n    executionArn: (state) => state.executionArn,\n    error: (state) => state.error,\n    errorMessage: (state) => state.errorMessage,\n    callID: (state) => state.callID,\n    bucket: (state) => state.bucket,\n    timer: (state) => state.timer,\n    highway: (state) => state.parameters.highway,\n    extendedCycleway: (state) => state.parameters.extendedCycleway,\n    tags: (state) => state.tags,\n  },\n}\n","import s3 from '@src/AWSClient'\nimport { quetzalClient } from '@src/axiosClient.js'\nimport { v4 as uuid } from 'uuid'\nimport router from '../../router'\n\nconst $gettext = s => s\n\nexport default {\n  namespaced: true,\n  state: {\n    stateMachineArn: 'arn:aws:states:ca-central-1:142023388927:stateMachine:quetzal-gtfs-api',\n    bucket: 'quetzal-api-bucket',\n    callID: uuid(),\n    status: '',\n    running: false,\n    executionArn: '',\n    error: false,\n    errorMessage: '',\n    UploadedGTFS: [], // list of upploded gtfs (zip local)\n    selectedGTFS: [], // list of index for web Importer\n    parameters: {\n      start_time: '6:00:00',\n      end_time: '8:59:00',\n      day: 'tuesday',\n    },\n    widthDict: {\n      bus: 3,\n      subway: 8,\n      rail: 6,\n      tram: 5,\n    },\n\n  },\n  mutations: {\n    cleanRun (state) {\n      state.running = false\n      state.executionArn = ''\n      state.error = false\n      state.UploadedGTFS = []\n      state.selectedGTFS = []\n      state.callID = uuid()\n    },\n    setCallID (state) {\n      state.callID = uuid()\n    },\n\n    terminateExecution (state, payload) {\n      state.running = false\n      state.error = true\n      state.errorMessage = payload\n      state.executionArn = ''\n    },\n    changeRunning (state, payload) {\n      state.running = payload\n    },\n\n    saveParams (state, payload) {\n      // eslint-disable-next-line no-return-assign\n      payload.forEach(param => state.parameters[param.name] = param.value)\n    },\n    saveSelectedGTFS (state, payload) {\n      // for web importer\n      state.selectedGTFS = payload\n    },\n\n    addGTFS (state, payload) {\n      const nameList = state.UploadedGTFS.map(el => el?.name)\n      if (!nameList.includes(payload.name)) {\n        state.UploadedGTFS.push(payload)\n      }\n    },\n    updateProgress (state, payload) {\n      state.UploadedGTFS.filter(el => el.name === payload.name)[0].progress = payload.progress\n    },\n    succeedExecution (state) {\n      state.running = false\n      state.executionArn = ''\n      this.commit('changeNotification',\n        { text: $gettext('gtfs imported successfully!'), autoClose: false, color: 'success' })\n    },\n\n  },\n  actions: {\n\n    async addGTFS ({ state, commit }, payload) {\n      commit('addGTFS', payload.info)\n      const upload = s3.uploadObject(state.bucket, state.callID + '/' + payload.info.name, payload.content)\n      upload.on('httpUploadProgress', (progress) => {\n        const percent = Math.round(progress.loaded / progress.total * 100)\n        commit('updateProgress', { name: payload.info.name, progress: percent })\n      })\n      upload.promise()\n    },\n\n    startExecution ({ state, commit, dispatch }, payload) {\n      state.running = true\n      state.error = false\n      const input = JSON.stringify({\n        callID: state.callID,\n        files: payload.files,\n        start_time: payload.start_time,\n        end_time: payload.end_time,\n        dates: payload.dates,\n      })\n\n      let data = {\n        input: input,\n        name: uuid(),\n        stateMachineArn: state.stateMachineArn,\n      }\n      quetzalClient.client.post('',\n        data = JSON.stringify(data),\n      ).then(\n        response => {\n          state.executionArn = response.data.executionArn\n          dispatch('pollExecution')\n        }).catch(err => {\n        commit('changeAlert', err, { root: true })\n        state.running = false\n        state.status = 'FAILED'\n      })\n    },\n    async pollExecution ({ commit, state, dispatch }) {\n      const intervalId = setInterval(() => {\n        let data = { executionArn: state.executionArn }\n        quetzalClient.client.post('/describe',\n          data = JSON.stringify(data),\n        ).then(\n          async response => {\n            state.status = response.data.status\n            console.log(state.status)\n            if (state.status === 'SUCCEEDED') {\n              clearInterval(intervalId)\n              await dispatch('downloadOSMFromS3')\n              commit('succeedExecution')\n            } else if (['FAILED', 'TIMED_OUT', 'ABORTED'].includes(state.status)) {\n              commit('terminateExecution', JSON.parse(response.data.cause))\n              clearInterval(intervalId)\n            }\n          }).catch(err => { commit('changeAlert', err, { root: true }) })\n      }, 2000)\n    },\n    stopExecution ({ state, commit }) {\n      let data = { executionArn: state.executionArn }\n      quetzalClient.client.post('/abort',\n        data = JSON.stringify(data),\n      ).then(\n        response => {\n          commit('terminateExecution', response.data)\n          // Maybe we sould wait for back to say that execution is terminated (but the wait is awkward)\n        }).catch(\n        err => {\n          commit('changeAlert', err, { root: true })\n        })\n    },\n    async downloadOSMFromS3 ({ state, commit }) {\n      function applyDict (links) {\n        // 00BCD4\n        Object.keys(state.widthDict).forEach(routeType => {\n          links.features.filter(link => link.properties.route_type === routeType).forEach(\n            link => {\n              link.properties.route_width = state.widthDict[routeType]\n            })\n        })\n        return links\n      }\n\n      let links = await s3.readJson(state.bucket, state.callID.concat('/links.geojson'))\n      if (links.features.length > 0) {\n        links = applyDict(links)\n      }\n      commit('appendNewLinks', links, { root: true })\n      const nodes = await s3.readJson(state.bucket, state.callID.concat('/nodes.geojson'))\n      commit('appendNewNodes', nodes, { root: true })\n      console.log('downloaded')\n      router.push('/Home').catch(() => {})\n    },\n  },\n  getters: {\n    UploadedGTFS: (state) => state.UploadedGTFS,\n    selectedGTFS: (state) => state.selectedGTFS,\n    parameters: (state) => state.parameters,\n    running: (state) => state.running,\n    status: (state) => state.status,\n    executionArn: (state) => state.executionArn,\n    error: (state) => state.error,\n    errorMessage: (state) => state.errorMessage,\n    callID: (state) => state.callID,\n    bucket: (state) => state.bucket,\n  },\n}\n","import s3 from '@src/AWSClient'\nimport { quetzalClient } from '../axiosClient'\nimport auth from '../auth'\n\nconst $gettext = s => s\n\nexport default {\n  namespaced: false,\n  state: {\n    cognitoInfo: {},\n    cognitoGroup: '',\n    bucketList: [],\n    accesToken: '',\n    idToken: '',\n    refreshExpTime: 30 * 24 * 60 * 60,\n    expData: 0,\n    loggedIn: false,\n    loadingState: true,\n    errorLoadingState: false,\n    scenariosList: [],\n    model: null,\n    scenario: null,\n    protected: false,\n  },\n\n  mutations: {\n    unloadProject (state) {\n      state.model = null\n      state.scenario = null\n    },\n    setLoggedIn (state) {\n      state.loggedIn = true\n    },\n    setLoggedOut (state) {\n      state.cognitoInfo = {}\n      state.cognitoGroup = ''\n      state.bucketList = []\n      state.accesToken = ''\n      state.idToken = ''\n      state.expData = 0\n      state.loggedIn = false\n      state.loadingState = true\n      state.errorLoadingState = false\n      state.scenariosList = []\n      state.model = null\n      state.scenario = null\n      state.protected = false\n    },\n    setCognitoInfo (state, payload) {\n      state.expDate = payload.auth_time\n      state.cognitoInfo = payload\n    },\n    setCognitoGroup (state, payload) {\n      state.cognitoGroup = payload\n    },\n    setBucketList (state, payload) {\n      state.bucketList = payload\n    },\n    setAccessToken (state, payload) {\n      state.accesToken = payload.jwtToken\n    },\n    setIdToken (state, payload) {\n      state.idToken = payload\n    },\n    setScenariosList (state, payload) {\n      state.scenariosList = payload\n    },\n    setModel (state, payload) {\n      state.model = payload\n    },\n    setScenario (state, payload) {\n      state.scenario = payload.scenario\n      state.protected = payload.protected\n      this.commit('changeOutputName', payload.scenario, { root: true })\n    },\n\n  },\n\n  actions: {\n    async getScenario ({ commit, state, dispatch }, payload) {\n      const res = await s3.getScenario(payload.model)\n      commit('setScenariosList', res)\n    },\n    async getBucketList ({ commit }) {\n      try {\n        const resp = await quetzalClient.client.get('buckets/')\n        commit('setBucketList', resp.data)\n      } catch (err) {\n        commit('changeAlert', { name: 'Cognito Client error', message: err.response.data.detail }, { root: true })\n      }\n    },\n    isTokenExpired ({ state, commit }) {\n      const currentTime = Math.floor(Date.now() / 1000) // Convert to seconds\n      if (currentTime > state.expDate + state.refreshExpTime) {\n        auth.logout()\n        commit('changeAlert', {\n          name: $gettext('sign out'),\n          message: $gettext('your session has expired. Please sign in again'),\n        }, { root: true })\n      }\n    },\n\n  },\n\n  getters: {\n    loggedIn: (state) => state.loggedIn,\n    cognitoInfo: (state) => state.cognitoInfo,\n    cognitoGroup: (state) => state.cognitoGroup,\n    bucketList: (state) => state.bucketList ? state.bucketList : [],\n    accesToken: (state) => state.accesToken,\n    idToken: (state) => state.idToken,\n    scenariosList: (state) => state.scenariosList,\n    model: (state) => state.model,\n    scenario: (state) => state.scenario,\n    protected: (state) => state.protected,\n  },\n}\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport linksModule from './links.js'\nimport rlinksModule from './rlinks.js'\nimport odModule from './od.js'\nimport resultsModule from './results.js'\nimport layerModule from './layer.js'\nimport runModule from './api/run.js'\nimport MatrixRoadCasterModule from './api/MatrixRoadCaster.js'\nimport OSMImporterModule from './api/OSMImporter.js'\nimport GTFSImporterModule from './api/GTFSImporter.js'\nimport userModule from './user.js'\nimport JSZip from 'jszip'\nimport saveAs from 'file-saver'\nimport s3 from '../AWSClient'\nimport { serializer, stylesSerializer } from '../components/utils/serializer.js'\n\nimport linksBase from '@static/links_base.geojson'\nimport nodesBase from '@static/nodes_base.geojson'\nVue.use(Vuex)\nconst $gettext = s => s\n\nconst defaultAttributesChoices = { pt: {}, road: { oneway: ['0', '1'] } }\n\nexport const store = new Vuex.Store({\n  modules: {\n    user: userModule,\n    links: linksModule,\n    rlinks: rlinksModule,\n    od: odModule,\n    results: resultsModule,\n    run: runModule,\n    runMRC: MatrixRoadCasterModule,\n    runOSM: OSMImporterModule,\n    runGTFS: GTFSImporterModule,\n  },\n\n  state: {\n    notification: {},\n    alert: {},\n    darkMode: false,\n    loading: false,\n    showLeftPanel: true,\n    windowHeight: 0,\n    anchorMode: false,\n    linksPopupContent: ['trip_id'],\n    roadsPopupContent: ['highway'],\n    cyclewayMode: false,\n    outputName: 'output',\n    mapCenter: [-73.570337, 45.498310],\n    mapZoom: 11,\n    importPoly: null,\n    availableLayers: ['links', 'rlinks', 'od', 'nodes', 'rnodes'],\n    visibleRasters: [], // list of rasterFiles path.\n    styles: [], // list of styling for results [{name,layer, displaySettings:{...}}, ...]\n    otherFiles: [], // [{path, content}]\n    attributesChoices: defaultAttributesChoices, // { pt: {}, road: { oneway: ['0', '1'] } }\n  },\n  mutations: {\n    changeNotification (state, payload) {\n      state.notification = payload\n    },\n    changeAlert (state, payload) {\n      /// payload {name,message}, or just alert\n      state.alert = payload\n    },\n    changeDarkMode (state, payload) {\n      state.darkMode = payload\n      state.rlinks.rlinksDefaultColor = state.darkMode ? '2196F3' : '7EBAAC' //  its the primary color.\n      state.links.linksDefaultColor = state.darkMode ? '2196F3' : 'B5E0D6' //  its the primary color.\n    },\n    changeLoading (state, payload) {\n      state.loading = payload\n    },\n    changeWindowHeight (state, payload) {\n      state.windowHeight = payload\n    },\n    changeLeftPanel (state) {\n      state.showLeftPanel = !state.showLeftPanel\n    },\n    saveMapPosition (state, payload) {\n      state.mapCenter = payload.mapCenter\n      state.mapZoom = payload.mapZoom\n    },\n    setAnchorMode (state, payload) {\n      state.anchorMode = payload\n    },\n    changeAnchorMode (state) {\n      state.anchorMode = !state.anchorMode\n    },\n    changeCyclewayMode (state, payload) {\n      state.cyclewayMode = !state.cyclewayMode\n    },\n\n    loadFiles (state, payload) {\n      // payload: res.push({ path: inputs/pt/links.geojson, content: Array() | null })\n      try {\n        let otherFiles = []\n        let outputFiles = []\n\n        const ptFiles = payload.filter(el => el.path.startsWith('inputs/pt/') && el.path.endsWith('.geojson'))\n        otherFiles = payload.filter(el => !ptFiles.includes(el))\n\n        const roadFiles = otherFiles.filter(el => el.path.startsWith('inputs/road/') && el.path.endsWith('.geojson'))\n        otherFiles = otherFiles.filter(el => !roadFiles.includes(el))\n\n        const ODFiles = otherFiles.filter(el => el.path.startsWith('inputs/od/') && el.path.endsWith('.geojson'))\n        otherFiles = otherFiles.filter(el => !ODFiles.includes(el))\n\n        const paramFile = otherFiles.filter(el => el.path === 'inputs/params.json')[0]\n        otherFiles = otherFiles.filter(el => el !== paramFile)\n\n        const stylesFile = otherFiles.filter(el => el.path === 'styles.json')[0]\n        otherFiles = otherFiles.filter(el => el !== stylesFile)\n\n        const attributesChoicesFile = otherFiles.filter(el => el.path === 'attributesChoices.json')[0]\n        otherFiles = otherFiles.filter(el => el !== attributesChoicesFile)\n\n        const inputFiles = otherFiles.filter(el => el.path.startsWith('inputs/'))\n        otherFiles = otherFiles.filter(el => !inputFiles.includes(el))\n\n        outputFiles = otherFiles.filter(el => el.path.startsWith('outputs/'))\n        otherFiles = otherFiles.filter(el => !outputFiles.includes(el))\n\n        // PT files should be in pair of 2 (links and nodes)\n        if (ptFiles.length % 2 !== 0) {\n          const err = new Error($gettext('Need the same number of links and nodes files.'))\n          err.name = 'ImportError'\n          throw err\n        }\n        // road files should be in pair of 2 (links and nodes)\n        if (roadFiles.length % 2 !== 0) {\n          const err = new Error($gettext('Need the same number of road_links and road_nodes files.'))\n          err.name = 'ImportError'\n          throw err\n        }\n        this.commit('loadPTFiles', ptFiles)\n        this.commit('loadRoadFiles', roadFiles)\n        this.commit('od/loadODFiles', ODFiles)\n        if (paramFile) this.commit('run/getLocalParameters', paramFile.content)\n        if (stylesFile) {\n          const json = stylesSerializer(stylesFile.content)\n          state.styles = json\n        }\n        if (attributesChoicesFile) { this.commit('loadAttributesChoices', attributesChoicesFile.content) }\n\n        this.commit('loadOtherFiles', inputFiles)\n\n        // get outputs geojson files and create Layer with them.\n        const layerFiles = outputFiles.filter(el => el.path.endsWith('.geojson'))\n        outputFiles = outputFiles.filter(el => !layerFiles.includes(el))\n        this.commit('loadLayers', layerFiles)\n\n        // get JSON files with the same name as Modules (they are matrix)\n        const matrixFiles = outputFiles.filter(el => el.path.endsWith('.json') &&\n        state.availableLayers.includes(el.path.slice(0, -5)),\n        )\n        outputFiles = outputFiles.filter(el => !matrixFiles.includes(el))\n\n        this.commit('loadMatrix', matrixFiles)\n\n        // load the rest\n        this.commit('loadOtherFiles', outputFiles)\n        this.commit('changeNotification',\n          { text: $gettext('File(s) added'), autoClose: true, color: 'success' })\n      } catch (err) {\n        this.commit('changeAlert', err)\n      }\n    },\n\n    loadOtherFiles (state, payload) {\n      // payload = [{path, content, type}]\n      // if a file is updated with the same path (already exist). remove it\n      const newPaths = payload.map(file => file.path)\n      state.otherFiles = state.otherFiles.filter(file => !newPaths.includes(file.path))\n      // push files\n      payload.forEach(file => state.otherFiles.push(file))\n    },\n\n    loadAttributesChoices (state, payload) {\n      // eslint-disable-next-line no-return-assign\n      Object.keys(payload.pt).forEach(key => state.attributesChoices.pt[key] = payload.pt[key])\n      this.commit('loadLinksAttributesChoices', payload.pt)\n      // eslint-disable-next-line no-return-assign\n      Object.keys(payload.road).forEach(key => state.attributesChoices.road[key] = payload.road[key])\n      this.commit('loadrLinksAttributesChoices', payload.road)\n    },\n    setVisibleRasters (state, payload) {\n      state.visibleRasters = payload\n    },\n\n    loadLayers (state, payload) {\n      payload.forEach(\n        file => {\n          const fileName = file.path.slice(0, -8) // remove .geojson\n          // let matData = payload.files.filter(json => json?.fileName.slice(0, -5) === fileName)[0]?.data\n          // if matDataExist does not exist, we want to ignore index as they are only needed for a OD mat.\n          file.content = serializer(file.content, file.path, null, false)\n\n          this.commit('createLayer', {\n            fileName: fileName,\n            data: file.content,\n          })\n        })\n    },\n    loadMatrix (state, payload) {\n      // payload : [{path,content}]\n      payload.forEach(\n        file => {\n          const moduleName = file.path.slice(0, -5)\n          this.commit(`${moduleName}/addMatrix`, file.content)\n        },\n      )\n    },\n\n    createLayer (state, payload) {\n      const moduleName = payload.fileName\n      if (!Object.keys(this._modules.root._children).includes(moduleName)) {\n        this.registerModule(moduleName, layerModule)\n      }\n      this.commit(`${moduleName}/createLayer`, payload)\n      if (!state.availableLayers.includes(moduleName)) {\n        state.availableLayers.push(moduleName)\n      }\n    },\n    unloadLayers (state) {\n      const moduleToDelete = Object.keys(this._modules.root._children).filter(\n        x => !['links', 'rlinks', 'od', 'results', 'run', 'user', 'runMRC', 'runOSM', 'runGTFS'].includes(x))\n      moduleToDelete.forEach(moduleName => this.unregisterModule(moduleName))\n      state.availableLayers = ['links', 'rlinks', 'od', 'nodes', 'rnodes']\n    },\n    registerStaticLayer () {\n      this.registerModule('staticLayer', resultsModule)\n      this.commit('staticLayer/setNamespace', 'staticLayer')\n    },\n    unregisterStaticLayer () { this.unregisterModule('staticLayer') },\n\n    initNetworks (state) {\n      this.commit('initLinks')\n      this.commit('initrLinks')\n      this.commit('loadLinks', linksBase)\n      this.commit('loadrLinks', linksBase)\n      this.commit('loadNodes', nodesBase)\n      this.commit('loadrNodes', nodesBase)\n      this.commit('od/loadLayer', linksBase)\n      state.visibleRasters = []\n      state.styles = []\n      state.attributesChoices = structuredClone(defaultAttributesChoices)\n      this.commit('loadAttributesChoices', defaultAttributesChoices)\n      state.otherFiles = []\n      state.cyclewayMode = false\n    },\n\n    applySettings (state, payload) {\n      state.links.linkSpeed = Number(payload.linkSpeed)\n      state.rlinks.roadSpeed = Number(payload.roadSpeed)\n      state.linksPopupContent = payload.linksPopupContent\n      state.roadsPopupContent = payload.roadsPopupContent\n      state.rlinks.defaultHighway = payload.defaultHighway\n      state.outputName = payload.outputName\n    },\n    changeOutputName (state, payload) { state.outputName = payload },\n    addStyle (state, payload) {\n      // payload: styling for results {name,layer, displaySettings:{...}}\n      const names = state.styles.map(el => el.name)\n      const idx = names.indexOf(payload.name)\n      if (idx !== -1) {\n        state.styles[idx] = payload\n      } else {\n        state.styles.push(payload)\n      }\n    },\n    deleteStyle (state, payload) {\n      // payload = name of the preset to delete\n      state.styles = state.styles.filter(el => el.name !== payload)\n    },\n    saveImportPoly (state, payload) {\n      state.importPoly = payload\n    },\n\n  },\n  actions: {\n    async exportFiles ({ state, commit }, payload = 'all') {\n      const zip = new JSZip()\n      let links = ''\n      let nodes = ''\n      let rlinks = ''\n      let rnodes = ''\n      let od = ''\n      // export only visible line (line selected)\n      commit('applyPropertiesTypes')\n      if (payload !== 'all') {\n        const tempLinks = structuredClone(state.links.links)\n        tempLinks.features = tempLinks.features.filter(\n          link => state.links.selectedTrips.includes(link.properties.trip_id))\n        links = JSON.stringify(tempLinks)\n        // delete every every nodes not in links\n        const a = tempLinks.features.map(item => item.properties.a)\n        const b = tempLinks.features.map(item => item.properties.b)\n        const nodesInLinks = Array.from(new Set([...a, ...b]))\n        const tempNodes = structuredClone(state.links.nodes)\n        tempNodes.features = tempNodes.features.filter(node => nodesInLinks.includes(node.properties.index))\n        nodes = JSON.stringify(tempNodes)\n\n        rlinks = JSON.stringify(state.rlinks.visiblerLinks)\n        rnodes = JSON.stringify(state.rlinks.visiblerNodes)\n        od = JSON.stringify(this.getters['od/visibleLayer'])\n      // export everything\n      } else {\n        links = JSON.stringify(state.links.links)\n        nodes = JSON.stringify(state.links.nodes)\n        rlinks = JSON.stringify(state.rlinks.rlinks)\n        rnodes = JSON.stringify(state.rlinks.rnodes)\n        od = JSON.stringify(this.getters['od/layer'])\n      }\n      // export only if not empty\n      if (JSON.parse(links).features.length > 0) {\n        let blob = new Blob([links], { type: 'application/json' })\n        // use folder.file if you want to add it to a folder\n        zip.file('inputs/pt/links.geojson', blob)\n        blob = new Blob([nodes], { type: 'application/json' })\n        // use folder.file if you want to add it to a folder\n        zip.file('inputs/pt/nodes.geojson', blob)\n      }\n      if (JSON.parse(rlinks).features.length > 0) {\n        let blob = new Blob([rlinks], { type: 'application/json' })\n        // use folder.file if you want to add it to a folder\n        zip.file('inputs/road/road_links.geojson', blob)\n        blob = new Blob([rnodes], { type: 'application/json' })\n        // use folder.file if you want to add it to a folder\n        zip.file('inputs/road/road_nodes.geojson', blob)\n      }\n      if (JSON.parse(od).features.length > 0) {\n        const blob = new Blob([od], { type: 'application/json' })\n        // use folder.file if you want to add it to a folder\n        zip.file('inputs/od/od.geojson', blob)\n      }\n      if (payload === 'all') {\n        if (!this.getters['run/parametersIsEmpty']) {\n          const blob = new Blob([JSON.stringify(this.getters['run/parameters'])], { type: 'application/json' })\n          zip.file('inputs/params.json', blob)\n        }\n        if (state.styles.length > 0) {\n          const blob = new Blob([JSON.stringify(state.styles)], { type: 'application/json' })\n          zip.file('styles.json', blob)\n        }\n        if (JSON.stringify(state.attributesChoices) !== JSON.stringify(defaultAttributesChoices)) {\n          const blob = new Blob([JSON.stringify(state.attributesChoices)], { type: 'application/json' })\n          zip.file('attributesChoices.json', blob)\n        }\n\n        const layers = Object.keys(this._modules.root._children).filter(\n          x => !['links', 'rlinks', 'od', 'results', 'run', 'user', 'runMRC', 'runOSM', 'runGTFS'].includes(x))\n        for (const layer of layers) {\n          const blob = new Blob([JSON.stringify(this.getters[`${layer}/layer`])], { type: 'application/json' })\n          const name = layer + '.geojson'\n          // zip name = layer.replace('/', '_') + '.geojson'\n          zip.file(name, blob)\n          if (this.getters[`${layer}/mat`]) {\n            const blob = new Blob([JSON.stringify(this.getters[`${layer}/mat`])], { type: 'application/json' })\n            const name = layer + '.json'\n            zip.file(name, blob)\n          }\n        }\n\n        for (const file of state.otherFiles) {\n          // if others file loaded from S3 (they are not loaded yet. need to download them.)\n          if (file.content == null && state.user.model !== null) {\n            file.content = await s3.readBytes(state.user.model, state.user.scenario + '/' + file.path)\n          }\n          if (file.content instanceof Uint8Array) {\n            const blob = new Blob([file.content]) // { type: 'text/csv' }\n            zip.file(file.path, blob)\n          } else {\n            const blob = new Blob([JSON.stringify(file.content)], { type: 'application/json' })\n            zip.file(file.path, blob)\n          }\n        }\n      }\n      zip.generateAsync({ type: 'blob' })\n        .then(function (content) {\n          // see FileSaver.js\n          saveAs(content, state.outputName + '.zip')\n        })\n    },\n\n    async exportToS3 ({ state, commit, dispatch }, payload) {\n      // payload = 'inputs'. only export inputs\n      // else no payload to export all.\n      dispatch('isTokenExpired')\n      this.commit('applyPropertiesTypes')\n      const scen = state.user.scenario + '/'\n      const bucket = state.user.model\n      const inputFolder = scen + 'inputs/'\n      const ptFolder = inputFolder + 'pt/'\n      const roadFolder = inputFolder + 'road/'\n      const odFolder = inputFolder + 'od/'\n      const paths = {\n        links: ptFolder + 'links.geojson',\n        nodes: ptFolder + 'nodes.geojson',\n        rlinks: roadFolder + 'road_links.geojson',\n        rnodes: roadFolder + 'road_nodes.geojson',\n        od: odFolder + 'od.geojson',\n        params: scen + 'inputs/params.json',\n        styles: scen + 'styles.json',\n        attributesChoices: scen + 'attributesChoices.json',\n      }\n      // save params\n      if (state.run.parameters.length > 0) {\n        await s3.putObject(bucket, paths.params, JSON.stringify(state.run.parameters))\n      }\n      // save styles if changed\n      if (state.styles.length > 0) {\n        await s3.putObject(bucket, paths.styles, JSON.stringify(state.styles))\n      }\n      // save attributes choices if changed\n      if (JSON.stringify(state.attributesChoices) !== JSON.stringify(defaultAttributesChoices)) {\n        await s3.putObject(bucket, paths.attributesChoices, JSON.stringify(state.attributesChoices))\n      }\n      // save PT\n      if (state.links.links.features.length > 0) {\n        await s3.putObject(bucket, paths.links, JSON.stringify(state.links.links))\n        await s3.putObject(bucket, paths.nodes, JSON.stringify(state.links.nodes))\n      } else {\n        // if its deleted in quenedi. delete it on s3. function works with nothing to delete too.\n        s3.deleteFolder(bucket, ptFolder)\n      }\n      // save Roads\n      if (state.rlinks.rlinks.features.length > 0) {\n        await s3.putObject(bucket, paths.rlinks, JSON.stringify(state.rlinks.rlinks))\n        await s3.putObject(bucket, paths.rnodes, JSON.stringify(state.rlinks.rnodes))\n      } else {\n        // if its deleted in quenedi. delete it on s3. function works with nothing to delete too.\n        s3.deleteFolder(bucket, roadFolder)\n      }\n      // save ods\n      if (!this.getters['od/layerIsEmpty']) {\n        await s3.putObject(bucket, paths.od, JSON.stringify(this.getters['od/layer']))\n      } else {\n        // if its deleted in quenedi. delete it on s3. function works with nothing to delete too.\n        s3.deleteFolder(bucket, odFolder)\n      }\n      // save outputs Layers\n      if (payload !== 'inputs') {\n        const layers = Object.keys(this._modules.root._children).filter(\n          x => !['links', 'rlinks', 'od', 'results', 'run', 'user', 'runMRC', 'runOSM', 'runGTFS'].includes(x))\n        for (const layer of layers) {\n          const name = layer + '.geojson'\n          await s3.putObject(bucket, scen + name, JSON.stringify(this.getters[`${layer}/layer`]))\n          if (this.getters[`${layer}/mat`]) {\n            const name = layer + '.json'\n            await s3.putObject(bucket, scen + name, JSON.stringify(this.getters[`${layer}/mat`]))\n          }\n        }\n      }\n      // save others layers\n      // if payload === inputs. only export inputs/ files.\n      let otherFiles = state.otherFiles\n      if (payload === 'inputs') {\n        otherFiles = otherFiles.filter(file => !file.path.startsWith('outputs/'))\n      }\n      for (const file of otherFiles) {\n        // if others file loaded from S3 (they are not loaded yet. need to download them.)\n        if (file.content == null) {\n          // pass\n        } else if (file.content instanceof Uint8Array) {\n          await s3.putObject(bucket, scen + file.path, file.content)\n        } else {\n          await s3.putObject(bucket, scen + file.path, JSON.stringify(file.content))\n        }\n      }\n      // console.log(res)\n      // commit('setScenariosList', res)\n    },\n    async deleteOutputsOnS3 ({ state }) {\n      await s3.deleteFolder(state.user.model, state.user.scenario + '/outputs/')\n    },\n\n  },\n  getters: {\n    notification: (state) => state.notification,\n    alert: (state) => state.alert,\n    loading: (state) => state.loading,\n    mapCenter: (state) => state.mapCenter,\n    mapZoom: (state) => state.mapZoom,\n    importPoly: (state) => state.importPoly,\n    windowHeight: (state) => state.windowHeight,\n    anchorMode: (state) => state.anchorMode,\n    showLeftPanel: (state) => state.showLeftPanel,\n    linksPopupContent: (state) => state.linksPopupContent,\n    roadsPopupContent: (state) => state.roadsPopupContent,\n    cyclewayMode: (state) => state.cyclewayMode,\n    outputName: (state) => state.outputName,\n    visibleRasters: (state) => state.visibleRasters,\n    styles: (state) => state.styles,\n    attributesChoices: (state) => state.attributesChoices,\n    otherFiles: (state) => state.otherFiles,\n    projectIsUndefined: (state) => Object.keys(state.links.links).length === 0,\n    projectIsEmpty: (state) => {\n      return (state.links.links.features.length === 0 &&\n              state.rlinks.rlinks.features.length === 0 &&\n              state.od.layer.features.length === 0)\n    },\n    availableLayers: (state) => {\n      // do not return empty links or rlinks or OD as available.\n      let filteredLayers = structuredClone(state.availableLayers)\n      if (state.links.links.features.length === 0) {\n        filteredLayers = filteredLayers.filter(layer => !['links', 'nodes'].includes(layer))\n      }\n      if (state.rlinks.rlinks.features.length === 0) {\n        filteredLayers = filteredLayers.filter(layer => !['rlinks', 'rnodes'].includes(layer))\n      }\n      if (state.od.layer.features.length === 0) {\n        filteredLayers = filteredLayers.filter(layer => !['od'].includes(layer))\n      }\n      return filteredLayers\n    },\n    mapStyle: (state) => {\n      if (state.darkMode) {\n        return 'mapbox://styles/mapbox/dark-v11?optimize=true'\n      } else {\n        return 'mapbox://styles/mapbox/light-v11?optimize=true'\n      }\n    },\n\n  },\n})\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdD = function () {\n\tthrow new Error('define cannot be used indirect');\n};","__webpack_require__.amdO = {};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".build.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/quetzal-network-editor-dev/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkquetzal_network_editor\"] = self[\"webpackChunkquetzal_network_editor\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [382], () => (__webpack_require__(74525)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","inProgress","dataWebpackPrefix","___CSS_LOADER_EXPORT___","push","module","id","type","crs","properties","name","features","render","_vm","this","_c","_self","attrs","origin","transition","scopedSlots","_u","key","fn","on","staticClass","_g","_b","fab","small","color","selectedLayers","length","_v","model","value","show","callback","$$v","expression","_s","$gettext","_l","choices","item","availableLayers","includes","layer","disabled","top","style","cursor","displaySettings","selectedFeature","_withStripped","components","props","Array","default","data","selectedOpacity","watch","val","resp","forEach","$store","commit","vals","map","el","filter","mounted","getters","visibleRasters","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","directives","rawName","isNaN","minVal","windowHeight","left","leftOffset","colorScale","backgroundColor","Math","round","maxVal","Object","baseOffset","Number","order","computed","showLeftPanel","preset","source","interactive","minzoom","paint","opacity","_e","buffer","promoteId","offsetValue","layout","MglGeojsonLayer","MapLegend","beforeDestroy","getLayer","removeLayer","moveLayer","created","offset","changeLayer","keys","selectedFilter","selectedCategory","text","autoClose","structuredClone","methods","selectedLayer","geojson","links","rlinks","nodes","rnodes","REGION","region","s3Client","apiVersion","signatureVersion","params","async","getChecksum","bucket","headObject","Bucket","Key","promise","Metadata","checksum","err","s3","credentials","IdentityPoolId","Logins","idToken","config","getScenario","moreToLoad","list","Contents","IsTruncated","NextContinuationToken","listObjectsV2","ContinuationToken","scenarios","from","Set","split","scenList","scen","files","startsWith","isLocked","file","endsWith","maxDateObj","reduce","prev","current","LastModified","maxDate","toLocaleDateString","toLocaleTimeString","timestamp","getTime","userEmail","user_email","scenario","lastModified","protected","readJson","ResponseCacheControl","response","getObject","JSON","parse","TextDecoder","decode","Body","trim","readBytes","listFiles","prefix","isArray","paths","pref","slice","Prefix","Content","copyFolder","newName","Error","newFile","join","oldPath","encodeURIComponent","copyParams","CopySource","copyObject","deleteFolder","arr","deleteParams","Delete","Objects","deleteObjects","createFolder","upload","console","log","putObject","body","oldChecksum","newChecksum","stringify","toString","cognitoInfo","email","ContentType","getImagesURL","getSignedUrl","Expires","downloadFolder","zip","fileName","generateAsync","then","content","newScenario","filesToCopy","uploadObject","login","currentSession","getIdToken","getJwtToken","sessionIdInfo","getAccessToken","configure","identityPoolId","userPoolId","userPoolWebClientId","mandatorySignIn","signin","username","password","signIn","completeNewPassword","user","newPassword","currentAuthenticatedUser","logout","signOut","quetzalClient","client","create","baseURL","withCredentials","headers","axiosClient","s","serializer","ignoreIndex","currentType","geometry","paramsSerializer","json","info","expectedKeys","a","b","every","has","stylesSerializer","readFileAsText","Promise","resolve","reject","reader","FileReader","onload","event","target","result","onerror","error","readAsText","readFileAsBytes","fileBytes","Uint8Array","readAsArrayBuffer","extractZip","ZIP","loadAsync","filesNames","match","path","checkPaths","i","str","getGroupForm","lineAttributes","uneditable","form","link","size","placeholder","IndexAreDifferent","geojsonA","geojsonB","linksIndex","index","newLinksIndex","unzip","csvJSON","bytes","lines","line","replace","obj","currentline","j","unzipCalendar","generatePassword","lowercaseChars","uppercaseChars","numbers","symbols","allChars","getRandomChar","array","floor","random","shuffleString","characterSet","randomIndex","charAt","highwayList","highwayColor","motorway","motorway_link","trunk","trunk_link","primary","primary_link","secondary","secondary_link","tertiary","tertiary_link","residential","living_street","service","unclassified","cycleway","pedestrian","highwayWidth","onResize","ref","loading","indeterminate","class","notification","timeout","click","closeSnackbar","snackbar","dense","src","contain","bottom","icon","href","$vuetify","theme","dark","$set","$language","available","language","lang","handleChangeLanguage","toUpperCase","loggedIn","initial","menu","width","given_name","family_name","label","groups","items","selectedGroup","users","Username","showMore","$event","deleteUserButton","outlined","createUserButton","toggleShowMore","ui","persistent","keydown","indexOf","_k","keyCode","applyDialog","apply","arguments","showDialog","action","selectedUsername","rules","required","userForm","shake","newPasswordUI","staticStyle","newPasswordConfirm","block","events","re","v","test","$refs","validate","auth","$emit","challengeName","resetValidation","setTimeout","Signin","projectIsEmpty","bucketList","listGroup","listUser","newVal","oldVal","isUserSignedIn","loginAll","dispatch","get","message","detail","group","post","createUser","deleteUser","modelsList","deleteDialog","copyDialog","localModel","tab","clearable","searchString","mandatory","sortModel","right","sortDirection","center","scenariosList","modelScen","selectScenario","stopPropagation","selectedScenario","input","scenarioToDelete","cancelDialog","deleteScenario","createProject","cancel","cols","autofocus","textAlign","errorMessage","closeCopy","absolute","localScen","toLowerCase","sort","res","String","localeCompare","undefined","sensitivity","loadProject","$router","query","s3Path","catch","p","base","Profile","dialog","app","stateless","temporary","mini","drawer","getDisplayedRoutes","$route","marginTop","margin","isProtected","handleClickMenuItem","nativeOn","running","proxy","title","runWarning","runError","saving","marginLeft","fontSize","version","leftSidenav","menuItems","runSychronized","routes","concat","o","getRouteTitle","route","tpl","$gettextInterpolate","sheet","prominent","close","alert","Toolbar","NavigationDrawer","Alert","container","clientHeight","assert","languageMixin","$selectBestLanguage","browserLangs","supportedLangs","parts","normLang","bestLanguage","navigator","languages","darkMode","window","matchMedia","matches","use","autoAddKeyAttributes","availableLanguages","en","fr","es","de","pt","defaultLanguage","translations","silent","productionTip","devtools","performance","customProperties","themes","light","primarydark","secondarydark","secondarydarkfix","secondarylight","background","lightgrey","white","black","mediumgrey","darkgrey","accent","linksprimary","linkssecondary","chart","lightgreen","darkgreen","lightblue","darkblue","purple","pink","orange","yellow","success","icons","iconfont","locales","mixin","$flatEdges","recurse","flatObj","edges","edge","node","router","store","vuetify","h","App","template","$mount","display","accept","change","readZip","buttonHandle","vertical","FilesLoaded","loadNetwork","filesAdded","readFile","readParams","readStyles","linksIsEmpty","loadedType","localLinksLoaded","localNodesLoaded","rlinksIsEmpty","ODIsEmpty","paramsIsEmpty","stylesIsEmpty","loadedLinks","loadedNodes","choice","styles","localFilesAreLoaded","paramsInput","document","getElementById","stylesInput","fileInput","multiple","readOtherInputs","readOtherOutputs","inputFiles","outputFiles","layers","filesPanel","loadedFiles","otherFiles","otherOutputs","otherInputs","fileList","height","url","alt","img","Image","FileLoader","InfoZip","FilesList","loadFilesFromS3","zipInput","loadExample","newProject","zfiles","filesList","filesToLoads","fetch","blob","scrollable","numLinks","applyAction","cancelAction","editForm","n","idx","transform","linkDir","orderedForm","hint","showHint","hints","filled","attributeType","wheel","blur","attributesChoices","showDeleteOption","attributeNonDeletable","deleteField","newField","addField","newFieldName","cloneName","ToggleDeleteOption","duplicate","cancelClone","cloneDialog","selectedTrips","selectedrGroup","updateSelectedTrips","confirmChanges","abortChanges","deleteButton","cloneButton","propertiesButton","actionClick","e","mode","clickFeature","mousedown","startResize","showLeftPanelContent","grow","showAll","tripList","tripId","filterChoices","vmodelSelectedFilter","classifiedTripId","showGroup","some","editorTrip","trip","min","editButton","anchorMode","createNewLine","arrayUniqueTripId","Map","trip_id","values","filteredCat","undefinedCat","c","newTrip","dict","$nextTick","changeBounds","lingering","tripIds","generate","editVisible","hasCycleway","cyclewayMode","selectedrGoup","rlineAttributes","filteredrCategory","changes","method","category","selectedrFilter","vmodelSelectedCat","selectedCat","LinksSidePanel","RoadSidePanel","ODSidePanel","isResizing","windowOffest","preventDefault","clientX","leftPanelDiv","clientWidth","addEventListener","resize","stopResize","removeEventListener","mapStyle","mapboxPublicKey","mapCenter","zoom","mapZoom","load","onMapLoaded","mousemove","draw","mouseout","resetDraw","addPoint","mouseup","rightClickMap","mapIsLoaded","rasterFiles","position","isEditorMode","onHover","onHoverRoad","offHover","rightClick","drawMode","drawLink","generateId","currentTheme","connectedDrawLink","submit","linkSpeed","suffix","units","roadSpeed","linksPopupContent","offsetY","chips","roadsPopupContent","defaultHighway","zipRules","outputName","localShow","payload","visibleLinks","maxzoom","mouseenter","enterLink","mouseleave","leaveLink","contextmenu","editLineProperties","visibleNodes","selectedFeatures","selectedPopupContent","showedTrips","setHiddenFeatures","off","selectLine","linksHeader","nodesHeader","getCanvas","mapboxEvent","popup","isOpen","remove","htmlContent","prop","closeButton","setLngLat","lngLat","lng","lat","setHTML","addTo","showedTripsSet","ab","widthArr","route_width","widthDict","add","totSet","x","newNodes","bbox","point","y","queryRenderedFeatures","editorLinks","selectClick","mouseover","onCursor","offCursor","linkRightClick","editorNodes","moveNode","contextMenuNode","anchorNodes","showed","popupEditor","coordinates","hoveredStateId","layerId","contextMenu","flat","actions","feature","MglPopup","MglImageLayer","disablePopup","keepHovering","dragNode","querySourceFeatures","setFeatureState","hover","selectedId","selectedNode","firstNodeId","lastNodeId","originalEvent","button","onMove","stopMovingNode","loaded","isRoadMode","renderedrLinks","minZoom","routeWidth","rendered","ArrowSizeCondition","ArrowDirCondition","renderedrNodes","renderedAnchorrNodes","rnodesHeader","editorRnodes","visiblerNodes","visiblerLinks","anchorrNodes","defaultCondition","getRouteWidth","getBounds","bounds","_sw","_ne","getZoom","uniqueArray","selectedIndex","isODMode","linkIndex","coordinatedIndex","MglMap","MglNavigationControl","MglScaleControl","LayerSelector","StaticLayer","StaticLinks","EditorLinks","RoadLinks","Settings","ODMap","hoverId","hoverLayer","mapDiv","firstNode","lastNode","saveMapPosition","extend","fitBounds","padding","getStyle","setLayoutProperty","getCenter","loadImage","arrow","image","addImage","sdf","dragRotate","disable","pointGeom","nodeIdA","nodeIdB","geom","nodeId","swatchStyle","swatches","updateColor","pcolor","tempArr","openMenu","selectedVal","agency_id","direction_id","drop_off_type","headway","pickup_type","route_color","route_id","route_long_name","route_short_name","route_type","time","highway","speed","cycleway_reverse","SidePanel","ColorPicker","MenuSelector","selectedLink","editorForm","cursorPosition","tripToDelete","tripToClone","groupTripIds","editorLineInfo","linkId","rlinksForm","rlinkDirection","onewayIndex","reversedrLinksForm","grouprLinks","selectedLinks","filtered","selectedLinkId","selectedNodeId","selection","rcstAttributes","table","field","substr","defaultAttributesNames","rundeletable","Microservices","ResultMap","Run","ResultPicture","ResultTable","linkExactActiveClass","Import","component","beforeEnter","to","next","Home","currUrl","location","parseCognitoWebResponse","beforeEach","projectIsUndefined","state","newLink","newNode","linksDefaultColor","nodeAttributes","linksAttributesChoices","defaultAttributes","mutations","initLinks","loadLinks","points","coord","loadNodes","unloadFiles","loadPTFiles","appendNewLinks","appendNewNodes","getLinksProperties","header","element","attr","att","getNodesProperties","loadLinksAttributesChoices","addPropertie","deletePropertie","changeSelectedTrips","setEditorTrip","cloneTrip","cloned","linkSequence","reverse","link_sequence","clonedNodes","getEditorNodes","editorNodesList","getEditorLineInfo","defaultValue","getTripId","setNewLink","uncopiedPropeties","tempLink","linkProperties","linkFeature","assign","nodeCopyId","createNewNode","nodeProperties","nodeFeatures","setNewNode","tempNode","editNewLink","applyNewLink","distance","toFixed","splice","deleteNode","nodeIndex","link1","link2","featureIndex","findIndex","splitLink","ratio","sliceIndex","seq","addNodeInline","linkGeom","clickedPoint","snapped","dist","addAnchorNode","deleteAnchorNode","moveAnchor","cutLineFromNode","toDelete","entries","cutLineAtNode","editLineInfo","editLinkInfo","editNodeInfo","editGroupInfo","editorGroupInfo","deleteUnusedNodes","nodesInLinks","nodesList","eNode","deleteTrip","applyPropertiesTypes","defaultrCstAttributes","defaultrUndeletable","rlinksHeader","rnodeAttributes","newrNode","connectedLinks","rlinksDefaultColor","rlinksAttributesChoices","reversedAttributes","initrLinks","rseversedAttributes","loadrLinks","loadrNodes","loadRoadFiles","appendNewrLinks","appendNewrNodes","getrLinksProperties","getrNodesProperties","loadrLinksAttributesChoices","newAttrs","reversedAttrs","cstAttrs","addRoadPropertie","deleteRoadPropertie","changeSelectedrFilter","getFilteredrCat","splitOneway","oneway","changeVisibleRoads","cat","tempLinks","refreshVisibleRoads","possibleGroups","getVisiblerNodes","rNodesList","getRenderedrLinks","getRenderedrNodes","setRenderedrLinks","editrLinkInfo","rkey","editrNodeInfo","createNewrNode","splitrLink","length_r","time_r","addRoadNodeInline","addAnchorrNode","createrLink","rnodeA","rnodeB","linkGeometry","newLinkGroup","getConnectedLinks","moverNode","rtime","speed_r","moverAnchor","deleteAnchorrNode","deleterLink","linkArr","deleterGroup","deleteUnusedrNodes","editrGroupInfo","groupInfo","reversedProps","indexList","reversed","namespaced","visibleLayer","layerHeader","layerAttributes","filteredCategory","loadLayer","loadODFiles","appendNewOD","changeSelectedFilter","changeSelectedCategory","getProperties","refreshVisibleLayer","getFilteredCategory","deleteOD","deleteGroup","createNewLink","newCat","layerIsEmpty","groupLayer","linkForm","Index","seedrandom","remap","scale","isWidth","rng","abs","max","tmpMaxVal","log10","sqrt","defaultSettings","maxWidth","minWidth","numStep","fixScale","cmap","showNaN","reverseColor","extrusion","namespace","NaNLinks","hasOD","ODindex","setNamespace","unload","updateLinks","cleanLinks","display_width","display_color","applySettings","updateSelectedFeature","featureArr","arrayMinMax","POSITIVE_INFINITY","NEGATIVE_INFINITY","minV","maxV","pad","domain","classes","hex","refreshVisibleLinks","displayLinks","mat","matAvailableIndex","createLayer","addMatrix","zone","changeOD","selectedProperty","row","stateMachineArnBase","steps","selectedStepFunction","avalaibleStepFunctions","executionArn","currentStep","synchronized","parameters","cleanRun","setSteps","startExecution","terminateExecution","changeRunning","succeedExecution","updateCurrentStep","stepNames","getLocalParameters","setSelectedStepFunction","setAvalaibleStepFunctions","root","context","rootState","stateMachineArn","def","definition","firstStep","StartAt","States","Type","Choices","StringEquals","Next","Default","paramsDict","param","acc","paramAcc","authorization","scenario_path_S3","launcher_arg","training_folder","metadata","pollExecution","intervalId","setInterval","status","clearInterval","cause","includeExecutionData","reverseOrder","stateEnteredEventDetails","stopExecution","parametersIsEmpty","availableModels","callID","timer","num_zones","train_size","date_time","ff_time_col","max_speed","num_cores","num_random_od","create_zone","hereApiKey","setCallID","uuid","setParameters","getApproxTimer","numZones","trainSize","numPlotOD","tags","extendedCycleway","colorDict","saveParams","coords","elevation","extended_cycleway","poly","applyDict","UploadedGTFS","selectedGTFS","start_time","end_time","day","bus","subway","rail","tram","saveSelectedGTFS","addGTFS","updateProgress","progress","percent","total","dates","routeType","cognitoGroup","accesToken","refreshExpTime","expData","loadingState","errorLoadingState","unloadProject","setLoggedIn","setLoggedOut","setCognitoInfo","expDate","auth_time","setCognitoGroup","setBucketList","setAccessToken","jwtToken","setIdToken","setScenariosList","setModel","setScenario","isTokenExpired","Date","now","defaultAttributesChoices","road","modules","od","results","run","runMRC","MatrixRoadCaster","runOSM","OSMImporter","runGTFS","GTFSImporter","importPoly","changeNotification","changeAlert","changeDarkMode","changeLoading","changeWindowHeight","changeLeftPanel","setAnchorMode","changeAnchorMode","changeCyclewayMode","loadFiles","ptFiles","roadFiles","ODFiles","paramFile","stylesFile","attributesChoicesFile","layerFiles","matrixFiles","loadOtherFiles","newPaths","loadAttributesChoices","setVisibleRasters","loadLayers","loadMatrix","moduleName","_modules","_children","registerModule","unloadLayers","unregisterModule","registerStaticLayer","unregisterStaticLayer","initNetworks","changeOutputName","addStyle","deleteStyle","saveImportPoly","tempNodes","Blob","inputFolder","ptFolder","roadFolder","odFolder","filteredLayers","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","__webpack_modules__","call","m","amdD","amdO","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","r","getter","__esModule","d","getPrototypeOf","t","ns","getOwnPropertyNames","defineProperty","enumerable","f","chunkId","all","promises","u","miniCssF","g","globalThis","Function","prototype","hasOwnProperty","l","done","script","needAttach","scripts","getElementsByTagName","getAttribute","createElement","charset","nc","setAttribute","onScriptComplete","clearTimeout","doneFns","parentNode","removeChild","bind","head","appendChild","Symbol","toStringTag","nmd","children","baseURI","self","installedChunks","installedChunkData","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}